<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>Meeting the Parents V2</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v2.36.1): A free (gratis and libre) story format.

Copyright © 2013–2021 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/1.2.20171210/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~a(this,t+"")},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",~a(this,t)||(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);~e;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.replace=function(t,e){var n=a(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},s.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,f)}catch(p){void 0!==p.number&&-2146823252!==p.number||(f.enumerable=!1,s.defineProperty(i,e,f))}}else s[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}());
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2020 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.14/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},E=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},j="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return E(t)}if(O(t)){return false}var r=T.call(t);return r===j||r===I};var M;var U=RegExp.prototype.exec,$=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},F="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?$(t):T.call(t)===F};var N;var C=String.prototype.valueOf,k=function tryStringObject(t){try{C.call(t);return true}catch(r){return false}},A="[object String]";N=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?k(t):T.call(t)===A};var R=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var P=function(t){var r;if(R){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var Z=function Empty(){};P(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){Z.prototype=r.prototype;a.prototype=new Z;Z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var H=d.bind(n.toString);var W=d.bind(s);var B=g.bind(s);if(typeof document==="object"&&document&&document.documentElement){try{W(document.documentElement.childNodes)}catch(X){var L=W;var q=B;W=function arraySliceIE(t){var r=[];var e=t.length;while(e-- >0){r[e]=t[e]}return q(r,L(arguments,1))};B=function arraySliceApplyIE(t,r){return q(W(t),r)}}}var K=d.bind(f.slice);var Q=d.bind(f.split);var V=d.bind(f.indexOf);var _=d.bind(v);var tt=d.bind(n.propertyIsEnumerable);var rt=d.bind(r.sort);var et=t.isArray||function isArray(t){return H(t)==="[object Array]"};var nt=[].unshift(0)!==1;P(r,{unshift:function(){h.apply(this,arguments);return this.length}},nt);P(t,{isArray:et});var it=e("a");var at=it[0]!=="a"||!(0 in it);var ot=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};P(r,{forEach:function forEach(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=-1;var i=z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!ot(r.forEach));P(r,{map:function map(r){var e=z.ToObject(this);var n=at&&N(this)?Q(this,""):e;var i=z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!ot(r.map));P(r,{filter:function filter(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){_(i,a)}}}return i}},!ot(r.filter));P(r,{every:function every(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!ot(r.every));P(r,{some:function some(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!ot(r.some));var ft=false;if(r.reduce){ft=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduce:function reduce(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!ft);var ut=false;if(r.reduceRight){ut=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduceRight:function reduceRight(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!ut);var lt=r.indexOf&&[0,1].indexOf(1,2)!==-1;P(r,{indexOf:function indexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},lt);var st=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;P(r,{lastIndexOf:function lastIndexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},st);var ct=function(){var t=[1,2];var r=t.splice();return t.length===2&&et(r)&&r.length===0}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ct);var vt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=W(arguments);if(e.length<2){_(e,this.length-t)}else{e[1]=z.ToInteger(r)}}return c.apply(this,e)}},!vt);var ht=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var pt=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();P(r,{splice:function splice(t,r){var e=z.ToObject(this);var n=[];var i=z.ToUint32(e.length);var a=z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=arguments.length===0?0:arguments.length===1?i-f:b(w(z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=W(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!ht||!pt);var yt=r.join;var dt;try{dt=Array.prototype.join.call("123",",")!=="1,2,3"}catch(X){dt=true}if(dt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(N(this)?Q(this,""):this,r)}},dt)}var gt=[1,2].join(undefined)!=="1,2";if(gt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(this,r)}},gt)}var wt=function push(t){var r=z.ToObject(this);var e=z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var bt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:function push(t){if(et(this)){return v.apply(this,arguments)}return wt.apply(this,arguments)}},bt);var Tt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:wt},Tt);P(r,{slice:function(t,r){var e=N(this)?Q(this,""):this;return B(e,arguments)}},at);var mt=function(){try{[1,2].sort(null)}catch(t){try{[1,2].sort({})}catch(r){return false}}return true}();var Dt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var St=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();P(r,{sort:function sort(t){if(typeof t==="undefined"){return rt(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return rt(this,t)}},mt||!St||!Dt);var xt=!tt({toString:null},"toString");var Ot=tt(function(){},"prototype");var Et=!G("x","0");var jt=function(t){var r=t.constructor;return r&&r.prototype===t};var It={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true,$width:true,$height:true,$top:true,$localStorage:true};var Mt=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!It["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){jt(window[t])}}catch(r){return true}}return false}();var Ut=function(t){if(typeof window==="undefined"||!Mt){return jt(t)}try{return jt(t)}catch(r){return false}};var $t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ft=$t.length;var Nt=function isArguments(t){return H(t)==="[object Arguments]"};var Ct=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!et(t)&&D(t.callee)};var kt=Nt(arguments)?Nt:Ct;P(e,{keys:function keys(t){var r=D(t);var e=kt(t);var n=t!==null&&typeof t==="object";var i=n&&N(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=Ot&&r;if(i&&Et||e){for(var u=0;u<t.length;++u){_(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){_(a,o(l))}}}if(xt){var s=Ut(t);for(var c=0;c<Ft;c++){var v=$t[c];if(!(s&&v==="constructor")&&G(t,v)){_(a,v)}}}return a}});var At=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var Rt=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Pt=e.keys;P(e,{keys:function keys(t){if(kt(t)){return Pt(W(t))}else{return Pt(t)}}},!At||Rt);var Jt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var Yt=new Date(-0x55d318d56a724);var zt=new Date(14496624e5);var Zt=Yt.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Gt;var Ht;var Wt=Yt.getTimezoneOffset();if(Wt<-720){Gt=Yt.toDateString()!=="Tue Jan 02 -45875";Ht=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}else{Gt=Yt.toDateString()!=="Mon Jan 01 -45875";Ht=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}var Bt=d.bind(Date.prototype.getFullYear);var Xt=d.bind(Date.prototype.getMonth);var Lt=d.bind(Date.prototype.getDate);var qt=d.bind(Date.prototype.getUTCFullYear);var Kt=d.bind(Date.prototype.getUTCMonth);var Qt=d.bind(Date.prototype.getUTCDate);var Vt=d.bind(Date.prototype.getUTCDay);var _t=d.bind(Date.prototype.getUTCHours);var tr=d.bind(Date.prototype.getUTCMinutes);var rr=d.bind(Date.prototype.getUTCSeconds);var er=d.bind(Date.prototype.getUTCMilliseconds);var nr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ar=function daysInMonth(t,r){return Lt(new Date(r,t,0))};P(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Xt(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);var e=Lt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);if(t<0&&Kt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);var e=Qt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e}},Jt);P(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Vt(this);var r=Qt(this);var e=Kt(this);var n=qt(this);var i=_t(this);var a=tr(this);var o=rr(this);return nr[t]+", "+(r<10?"0"+r:r)+" "+ir[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Jt||Zt);P(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n}},Jt||Gt);if(Jt||Ht){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(R){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var or=-621987552e5;var fr="-000001";var ur=Date.prototype.toISOString&&new Date(or).toISOString().indexOf(fr)===-1;var lr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var sr=d.bind(Date.prototype.getTime);P(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(sr(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=qt(this);var r=Kt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,Qt(this),_t(this),tr(this),rr(this)];t=(t<0?"-":t>9999?"+":"")+K("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=K("00"+e[n],-2)}return t+"-"+W(e,0,2).join("-")+"T"+W(e,2).join(":")+"."+K("000"+er(this),-3)+"Z"}},ur||lr);var cr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(or).toJSON().indexOf(fr)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!cr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var vr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var hr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var pr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pr||hr||!vr){var yr=Math.pow(2,31)-1;var dr=Y(new Date(1970,0,1,0,0,0,yr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(dr&&s>=7&&l>yr){var p=Math.floor(l/yr)*yr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){P(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(dr&&n>yr){var i=Math.floor(n/yr)*yr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}P(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;P(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};P(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var gr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(1000000000000000128).toFixed(0)!=="1000000000000000128");var wr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<wr.size){n+=t*wr.data[e];wr.data[e]=n%wr.base;n=Math.floor(n/wr.base)}},divide:function divide(t){var r=wr.size;var e=0;while(--r>=0){e+=wr.data[r];wr.data[r]=Math.floor(e/t);e=e%t*wr.base}},numToString:function numToString(){var t=wr.size;var r="";while(--t>=0){if(r!==""||t===0||wr.data[t]!==0){var e=o(wr.data[t]);if(r===""){r=e}else{r+=K("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var br=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=wr.log(e*wr.pow(2,69,1))-69;f=a<0?e*wr.pow(2,-a,1):e/wr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){wr.multiply(0,f);l=r;while(l>=7){wr.multiply(1e7,0);l-=7}wr.multiply(wr.pow(10,l,1),0);l=a-1;while(l>=23){wr.divide(1<<23);l-=23}wr.divide(1<<l);wr.multiply(1,1);wr.divide(2);i=wr.numToString()}else{wr.multiply(0,f);wr.multiply(1<<-a,0);i=wr.numToString()+K("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+K("0.0000000000000000000",0,r-s+2)+i}else{i=n+K(i,0,s-r)+"."+K(i,s-r)}}else{i=n+i}return i};P(l,{toFixed:br},gr);var Tr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var mr=l.toPrecision;P(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?mr.call(this):mr.call(this,t)}},Tr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return Q(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){_(a,K(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,W(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){_(a,"")}}else{_(a,K(i,f))}return a.length>p?W(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return Q(this,t,r)}}var Dr=f.replace;var Sr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){_(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!Sr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Dr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;_(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Dr.call(this,t,i)}}}var xr=f.substr;var Or="".substr&&"0b".substr(-1)!=="b";P(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return xr.call(this,e,r)}},Or);var Er="\t\n\x0B\f\r \xa0\u1680\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var jr="\u200b";var Ir="["+Er+"]";var Mr=new RegExp("^"+Ir+Ir+"*");var Ur=new RegExp(Ir+Ir+"*$");var $r=f.trim&&(Er.trim()||!jr.trim());P(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Mr,"").replace(Ur,"")}},$r);var Fr=d.bind(String.prototype.trim);var Nr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;P(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=V(K(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Nr);var Cr=f.lastIndexOf;P(f,{lastIndexOf:function lastIndexOf(t){return Cr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(Er+"08")!==8||parseInt(Er+"0x16")!==22){parseInt=function(t){var r=/^[-+]?0[xX]/;return function parseInt(e,n){if(typeof e==="symbol"){""+e}var i=Fr(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Fr(String(r));var n=t(e);return n===0&&K(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var kr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=kr}if(R){var Ar=function(t,r){if(tt(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};Ar(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}Ar(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Rr=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Rr}});
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.4/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)==="[object Arguments]"};var ee=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $==="function"&&typeof $["for"]==="function"&&re.symbol($());var ie=re.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ie="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document==="undefined"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==fe};var ce={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)>>0},ToUint32:function(e){return ce.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return ce.TypeIsObject(e)&&(typeof e[ie]!=="undefined"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,"value")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i="<"+t;if(r!==""){var a=ce.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s&&oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le("search");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,"search",ye)}if(!re.symbol($.replace)){var he=le("replace");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,"replace",ge)}if(!re.symbol($.split)){var de=le("split");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,"split",Oe)}var we=re.symbol($.match);var je=we&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!we||je){var Se=le("match");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,"match",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Pe=function(){return this};var Ce=function(e){if(s&&!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]&&re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,"fromCodePoint",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=ce.ToObject(e,"bad callSite");var r=ce.ToObject(t.raw,"bad raw value");var n=r.length;var o=ce.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=ce.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){ne(String,"raw",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r<0||r>=Le){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=ce.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=ce.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){ne(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var De=i(function(){return"/a/".startsWith(/a/)});var ze=a(function(){return"abc".startsWith("a",Infinity)===false});if(!De||!ze){ne(String.prototype,"startsWith",Fe.startsWith);ne(String.prototype,"endsWith",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!qe){ne(String.prototype,"startsWith",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!We){ne(String.prototype,"endsWith",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!Ge){ne(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var He=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Ve=new RegExp("(^["+He+"]+)|(["+He+"]+$)","g");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,"")};var Ue=["\x85","\u200b","\ufffe"].join("");var $e=new RegExp("["+Ue+"]","g");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,"trim",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!=="undefined";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o<e;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=ce.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Qe){ne(Array,"of",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:ce.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t==="undefined"?0:t);r=ce.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var tt=Array.prototype.values;ne(Array.prototype,"values",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!rt||!nt){ne(Array,"from",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,"forEach",function forEach(e){return ce.Call(ft,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,"map",function map(e){return ce.Call(st,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,"filter",function filter(e){return ce.Call(ct,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,"some",function some(e){return ce.Call(lt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,"every",function every(e){return ce.Call(pt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,"reduce",function reduce(e){return ce.Call(vt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,"reduceRight",function reduceRight(e){return ce.Call(yt,this.length>=0?this:[],arguments)},true)}var ht=Number("0o10")!==8;var bt=Number("0b10")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError("No default value")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length>0){r=re.primitive(t)?t:St(t,"number")}else{r=0}if(typeof r==="string"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,"Number",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,"find",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,"findIndex",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s&&Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,"Cannot convert undefined or null to object");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(_t){ne(Object,"assign",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,kt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys("foo")});if(!Lt){var Ft=Object.keys;ne(Object,"keys",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,"keys",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!qt){var Wt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)==="[object Window]"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal("foo")});if(!Bt){var Ut=Object.seal;ne(Object,"seal",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed("foo")});if(!$t){var Jt=Object.isSealed;ne(Object,"isSealed",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze("foo")});if(!Xt){var Kt=Object.freeze;ne(Object,"freeze",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen("foo")});if(!Zt){var Yt=Object.isFrozen;ne(Object,"isFrozen",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions("foo")});if(!Qt){var er=Object.preventExtensions;ne(Object,"preventExtensions",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible("foo")});if(!tr){var rr=Object.isExtensible;ne(Object,"isExtensible",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf("foo")});if(!nr){var or=Object.getPrototypeOf;ne(Object,"getPrototypeOf",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ce.IsCallable(e.get)}();if(s&&!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ar)}var ur=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var fr=oe&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var cr=sr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s&&(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t==="undefined"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,"RegExp",gr)}if(s){var dr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(dr),function(e){if(e in RegExp&&!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r<1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t<-1||t>1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r<1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<Sr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i>jr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON<(r||8)};b(Math,Cr);h(Math,"sinh",Cr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",Cr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"asinh",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",Cr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);
h(Math,"acosh",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,"expm1",Cr.expm1,xr>22025.465794806718||xr<22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,"imul",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)&&ce.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&ce.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!ce.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError("not a promise")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr==="function"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,"Promise",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,"all",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,"race",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,"resolve",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,"reject",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,"all");Mt(Promise,"race");Mt(Promise,"resolve");Mt(Promise,"reject");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Kr=Xr(["z","a","bb"]);var Zr=Xr(["z",1,"a","3",2]);if(s){var Yr=function fastkey(e,t){if(!t&&!Kr){return null}if(se(e)){return"^"+ce.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Zr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError("bad map")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError("bad set")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ke()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ae(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Qr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new rn.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Qr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf&&!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new wn;if(arguments.length>0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof jn.keys().next!=="function"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,"has",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError("target must be an object")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return ce.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if("value"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length>2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length>3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf&&En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null&&!ce.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible&&!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c&&Rn&&Rn.name!=="getPrototypeOf"){ne(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,"setPrototypeOf",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){ne(S.Reflect,"defineProperty",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,"construct",En.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return ce.Call(_n,this)};ne(Date.prototype,"toString",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,"a","name",e)},big:function big(){return ce.CreateHTML(this,"big","","")},blink:function blink(){return ce.CreateHTML(this,"blink","","")},bold:function bold(){return ce.CreateHTML(this,"b","","")},fixed:function fixed(){return ce.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,"font","size",e)},italics:function italics(){return ce.CreateHTML(this,"i","","")},link:function link(e){return ce.CreateHTML(this,"a","href",e)},small:function small(){return ce.CreateHTML(this,"small","","")},strike:function strike(){return ce.CreateHTML(this,"strike","","")},sub:function sub(){return ce.CreateHTML(this,"sub","","")},sup:function sub(){return ce.CreateHTML(this,"sup","","")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return zn.apply(this,o)})}return S});
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return n.indexOf(t)==-1&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return n!=-1&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){if(Array.isArray(e))return e;var t="object"==typeof e&&"number"==typeof e.length;return t?d.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var s=e;return"string"==typeof e&&(s=document.querySelectorAll(e)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||e))}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var h=e.jQuery,a=e.console,d=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(h=t,h.fn.imagesLoaded=function(e,t){var i=new o(this,e,t);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/dist/FileSaver.js */
(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau, all rights reserved. | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:500000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style>
<style id="style-font" type="text/css">@font-face{font-family:tme-fa-icons;src:url('data:application/octet-stream;base64,d09GRgABAAAAADLAAA8AAAAAWHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEkIY21hcAAAAdgAAAG8AAAF3rob9jFjdnQgAAADlAAAABMAAAAgBtX/BGZwZ20AAAOoAAAFkAAAC3CKkZBZZ2FzcAAACTgAAAAIAAAACAAAABBnbHlmAAAJQAAAI6gAADv+gJOpzGhlYWQAACzoAAAAMwAAADYY1IZaaGhlYQAALRwAAAAgAAAAJAfCBClobXR4AAAtPAAAAJEAAAFMBfb/0WxvY2EAAC3QAAAAqAAAAKhjiHI5bWF4cAAALngAAAAgAAAAIAFjDA9uYW1lAAAumAAAAY0AAAL94+zEpHBvc3QAADAoAAACHAAAA11cG/YjcHJlcAAAMkQAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZgnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4EMgf9z2KIYg5imAYUZgTJAQDSIQumAHic7dTVbltRAETR7dpNCikzQ8rMzMxt/M39mHnsU1/TfZz5jFpaV7pXJunMDLAZmOqaZjD5y4Tx+uPTyeL5lG2L5zN+L94zG8+ztr7ulXH1fra4bvK9M79xiWW2sNXPbWeFHexkF7vZw172sZ8DHOQQhznCUY5xnBOc5BSnOcNZVjnHeS5wkUtc5gpX/f3r3OAmt7jNHe5yj/s84CGPeMwTnvKM57zgJa94zRve8o73fOAjn/jMF77yje/84Ce/WGPun1zi/2tlXKbp3Xyc44bFyZanSWokJDXOOjXSk/LUSXn+pEwCKTNBaqQqZU5IjX+XMjukTBEp80TKZJEyY6RMGylzR8oEkjKLpEwlKfNJyqSSMrOkTC8pc0zKRJMy26RMOSnzTsrkk7IDpGwDKXtByoaQsiukbA0p+0PKJpGyU6RsFyl7RmosQcrukbKFpOwjKZtJyo6Ssq2k7C0pG0zKLpOy1aTsNymbTsrOk7L9pNwBUi4CKbeBlCtByr0g5XKQckNIuSak3BVSLgwpt4aUq0PK/SHlEpFyk0i5TqTcKVIuFim3i5QrRso9I+WykXLjXOYNzP8BuAPUwHicY2BAAxIQyBz0PwuEARJsA90AeJytVml300YUHXlJnIQsJQstamHExGmwRiZswYAJQbJjIF2crZWgixQ76b7xid/gX/Nk2nPoN35a7xsvJJC053Cak6N3583VzNtlElqS2AvrkZSbL8XU1iaN7DwJ6YZNy1F8KDt7IWWKyd8FURCtltq3HYdERCJQta6wRBD7HlmaZHzoUUbLtqRXTcotPekuW+NBvVXffho6yrE7oaRmM3RoPbIlVRhVokimPVLSpmWo+itJK7y/wsxXzVDCiE4iabwZxtBI3htntMpoNbbjKIpsstwoUiSa4UEUeZTVEufkigkMygfNkPLKpxHlw/yIrNijnFawS7bT/L4vead3OT+xX29RtuRAH8iO7ODsdCVfhFtbYdy0k+0oVBF213dCbNnsVP9mj/KaRgO3KzK90IxgqXyFECs/ocz+IVktnE/5kkejWrKRE0HrZU7sSz6B1uOIKXHNGFnQ3dEJEdT9kjMM9pg+Hvzx3imWCxMCeBzLekclnAgTKWFzNEnaMHJgJWWLKqn1rpg45XVaxFvCfu3a0ZfOaONQd2I8Ww8dWzlRyfFoUqeZTJ3aSc2jKQ2ilHQmeMyvAyg/oklebWM1iZVH0zhmxoREIgIt3EtTQSw7saQpBM2jGb25G6a5di1apMkD9dyj9/TmVri501PaDvSzRn9Wp2I62AvT6WnkL/Fp2uUiRen66Rl+TOJB1gIykS02w5SDB2/9DtLL15YchdcG2O7t8yuofdZE8KQB+xvQHk/VKQlMhZhViFZAYq1rWZbJ1awWqcjUd0OaVr6s0wSKchwXx76Mcf1fMzOWmBK+34nTsyMuPXPtSwjTHHybdT2a16nFcgFxZnlOp1mW7+s0x/IDneZZntfpCEtbp6MsP9RpgeVHOh1jeUELmnTfwZCLMOQCDpAwhKUDQ1hegiEsFQxhuQhDWBZhCMslGMLyYxjCchmGsLysZdXUU0nj2plYBmxCYGKOHrnMReVqKrlUQrtoVGpDnhJulVQUz6p/ZaBePPKGObAWSJfIml8xzpWPRuX41hUtbxo7V8Cx6m8fjvY58VLWi4U/Bf/V1lQlvWLNw5Or8BuGnmwnqjapeHRNl89VPbr+X1RUWAv0G0iFWCjKsmxwZyKEjzqdhmqglUPMbMw8tOt1y5qfw/03MUIWUP34NxQaC9yDTllJWe3grNXX27LcO4NyOBMsSTE38/pW+CIjs9J+kVnKno98HnAFjEpl2GoDrRW82ScxD5neJM8EcVtRNkja2M4EiQ0c84B5850EJmHqqg3kTuGGDfgFYW7BeSdconqjLIfuRezzKKT8W6fiRPaoaIzAs9kbYa/vQspvcQwkNPmlfgxUFaGpGDUV0DRSbqgGX8bZum1Cxg70Iyp2w7Ks4sPHFveVkm0ZhHykiNWjo5/WXqJOqtx+ZhSX752+BcEgNTF/e990cZDKu1rJMkdtA1O3GpVT15pD41WH6uZR9b3j7BM5a5puuiceel/TqtvBxVwssPZtDtJSJhfU9WGFDaLLxaVQ6mU0Se+4BxgWGNDvUIqN/6v62HyeK1WF0XEk307Ut9HnYAz8D9h/R/UD0Pdj6HINLs/3mhOfbvThbJmuohfrp+g3MGutuVm6BtzQdAPiIUetjrjKDXynBnF6pLkc6SHgY90V4gHAJoDF4BPdtYzmUwCj+Yw5PsDnzGHQZA6DLeYw2GbOGsAOcxjsMofBHnMYfMGcdYAvmcMgZA6DiDkMnjAnAHjKHAZfMYfB18xh8A1z7gN8yxwGMXMYJMxhsK/p1jDMLV7QXaC2QVWgA1NPWNzD4lBTZcj+jheG/b1BzP7BIKb+qOn2kPoTLwz1Z4OY+otBTP1V050h9TdeGOrvBjH1D4OY+ky/GMtlBr+MfJcKB5RdbD7n74n3D9vFQLkAAQAB//8AD3icrXsLcFzlleZ//v+++nb37dfte/VotVrdrW5JltuKpO6WJVluPyXbsmOEbGRjO4KVjWPZlsM4QIU4IYGlgCE2yxqKIQkJg2GreKQCTCZb1CZkiswjzOwOmSTATNVWTZLdDUwSMrVDsomD23vOf69assFAqgbk+773P4//nPOdc/5mwNjFl8WjosbaWblmxiOmIlTGYXzb11M7Z2ohAMbZCcZ5iG9prZl4whfwGju05xtttitUdwXYEUgkbQtWga5lC+XBaqJI285qpb8dVEc8Gnm5L5QM/f58yAlB399a7dD0mWAmdAqaMvBmKPKX9TdDwSjod9yhx03FAPcvI6Gk2lV33XoXUtKgL8C6Wa0WSzXbVjhg6JoqIPShCK0FOvOuE48K1V4B1VUQAVevugmP7Fz2CmTzW5/8+ZGP/+Kp7h/8oI4MuOZ7M5B9IvujH2Wf+PnCAjzn8ZK6AieMKRcvXnxWWSWCzGARlPcqtqs21WZzEBFgYIVDAYWzVJIrXBlH+hXGlWNM00GAJmYZ8sKBzTJFVZVppijqDFMVdTIWLa0o5JrdaHusPZGIG1IjFhQGK2mAZEe56kJnR1bTY7ZT7eivFGODBTdma3pHtlCNDVbwmgMHx/aO4R8ffeet5/ZCG6TfuV03IaSJU3oIzKsGO9+5PV+BwU5xqnOQx1aO8fW71yvD9fPn55/fA22PmsaFvfSgwZ8wzPiFvZ2DUMnzJ2hHVDMmHucPsSRrq7UQo4DMAV/AW7CANw/Zru3NIx20bBEpXwukArlxxOPReibaG63/SyQyiftzcBy3k1HuOHgjEgFHnkYfh4VodDJC4138Ff8hv5PlWbrWmm2O6grNEgGNCWGnbFtRm1Z04gzQPPWvkqMWF4eWU8DB267Df+gNe84bBvfRpfNI5Ny5yAmHDh5/PPLuByMlekDS9DsRR73nWHetwBShSO5PqCBQONO4E2wGlSvYZG6gMzeQ09SWFZC0tWION3oOVVXGTbGM+hrAzQj0O25yoN8R8YzzRsaZdzLwhpsGPEm783hAJ9+kq286eDX5pn/VydDjvk7i8EuchU21JJ3DNOqFzeABmywPcNXxhu/wB+3whrqwVw7Cn1j8vPfdDH6O7PR3fDV/Cb85wua/waSit309grZJHHOhHEQ9CA7zTGVCUb0ZvXzc1lrRe5Af+4An0aSL9op0IU9y6vRFtAYGKy7KJGFbQrdg2dXqGAwWilld0zUy9xLqd6A/zeFuy7gzYFmBOwOhZ6NNhZakm8YTI7S1pyM1mM032V26qevXGlzZ8+TKvROlB/BBkO9ACDalB7OZuBnuC5tRcAItpalENNOfhajVH1A2a1HjbHZ4N4r54oWLz4qPoe4jrMo2sonapm5QRQBQ3XycKVxwRRxjQuVCnWc6mrzOZ5FvBiraOmia5FubYRpok8n0ioRTKOQMNbWiszxYWAFZrQ1sB+dDJTFYghzyiBN3oB857ndIAha4Se/+YGUtjAkXXUO2xPE2eoe3TWPeMOXmzNi+j9w1HghvVbSAmu4c6nFac6MgbzXFU2baDr1241+98TfHtU/9t7df+MzU4msmfPYj06Wbw8Gqohda0/FkSyiyvtPGG/FsMKq1pLqmPvndkye/+y+08eYIHEJZpFmJra2Nop/VWuKcCwPvgRhnGlOFps6iIdAEmFVAKh53jblZyBU6nAFdbfX03tGwioZ9oGnEyDSWTQCyFzhoR+s/jdjgWLmc3L2K21zEmXCsM5aDm4g9Ny5v0PZVb+dY9Rcd/sl5eTiPj0nTaeiU+BhhW2qbuzJcUy2Nc2gCrjBkxWCqZiArGgOuwSzjAlDb5L91XfpvfYbpij6ZRIUWYoVcLqC2+UqNLddsMrekY3GZztVl2uQjpl4xjedIM+Uybc/r5viShuHgcgXuwQtpuoMHz8utCe/s8S+Y/7xMaYu2DX1yDrez3lp3cyyKdop+HLcLi878Uh9SKOSlj73cOIUFRVKVKHhaSS9JP452RCcYoJ3w85bz8Ckp9VN4xeZj9atpH4FnPCV4OtiDNIVYCrWwsbauK81VxUlaQnA+riFBisoUsiU0LbQpASCmmRAwg1MNJoH19uQ6WpriUV1jIQjphA5QjosiTfiy1tF+kPJKMTFYpAu6lkx40odnTv7VjYtC/QtTJyGH9HmMnKamGrcaqmaagRsMUwR9WeLmwsQREvIRevSvYa8uVFXo9Sc0w5A8/Rp5+jcxhXLuYAOIx/pbY+ggFp0FV8lNoLNAEQvyDkwBZR9T1ZC6xR0qFgsybix3DJcR7iIGwCsCHHQM0nYKVSBXQZPnqG7KDZiqrn8K524gpN9ghAx42k4GsvF3nohnA0kbnglkC9mrl7h4Db2TommKcVE1QOPRd97K5WJxsKO5nIjHbHtx/og3kK8iWys1he/EkKlqCbFOB6iKQp5Q5Yp6DB0AsjmPvHEFSGsoFraPaVpI2zLc2lmudErjJ/eeQwbKPoRBZulcwhwXYc6i1SdiEpiCF+KrFOIrAzKaHdhQ79tw4MAGuJv4rt8sQQu80jloGnnDfNVJBa+vn1WjSg1d8NHrg44FbTgdJ5+T77yy/gDI5wY7633yTbI7+CdyMDyEL2paDd0BvZjyfIYXH2/H+aqjDfXUisgnk3rFYMePoyZBegWanQpM5hKdlUSU1JnoQH2iG1d90IYADi0JPV2/oxMEeB7apm+aBngFw/ObMjzHzv7dgzyOh48fHZnmO9c8Wv+2RAGwHiP20UNnzx46mvYxyaMixDpZX22lQqQgRDqG4kYcMo92cpypAOo0Ti+iSYXJRGc5l8wvQhPfqpE0SYa7nDwkeQyh26OOlbecqVumoCwJ8+mDm+9/5T4eOyOt+4wk8WjavYTIG+7nD5Li2cWv8zGkMYoz51q2u3Y1JQSwfcumSn9JUxW0CZIWQ5isqKCo8zoGFPybx/lyHD2w4AaCBw7Ap1HIxAaHyZlr1tXG1owMt7h5Ox5QmxF4Iv6vDhaQoTFAYADuYIlnLa7b7RwtiOBDtVK1dbyCMXXxn5azOIIKfLFKaQP9K3HKIMYEQosvhkIWH23TQ9wIpCq9M4WxycnJsQIUYrEJ/bPGuOZohfHVzdmMaAmHm418c7DU3xdoyYPebFktPJtpHu7fefjw4R0VHiNTa06ZUTPe09a1sdTUVNrYtbo3nth11VW7tBa1d/U1a1t71rdG2u1IJNkWDYdbUs0pnnFT+OloWzISsdsjqVpvy9prqrNjed41POfPx2+J7TIXaWP5Wgf5bvToBEvpppQYOXPOJoda4gTQE6TsNK8sAvUSSHBFygfnfM9wL+8aK/Bddv0tZ8SufyKZ7ml7s20iCWdsPpPu4YVaXuur/2M6WX8riReTE21vtPUAnn4iyTxdf0vJ+/QM0pwsUL4D5BmUBQEeXpaU4W6RtExzN1In7eT9qHPpIoUdqAzSrdyHIPo1JNRps1uioCWJyIm2U/JG8oO4aZMXozF8b4RupRd5JJv7Nn8ZeUyxjlrakhJHcwO2gHMUDgGLR0MmS0GrIoMRWos0K81LUnPZYgmkw6sM8HtCoQTaT9y0Wu3f/MZuCYfijhMPhUVQNdL2hY8kMroS/8UvEqqeSfC/xzPV07k3vsqyrL+2ykYnhJjEz45OLIdbu4ncrbrWhImzltU7oqqaXAEdMWiHxPsSdvuF70K6/xf6FejjL13YBvFVP+UXrkwnyelZjBcltoLypQIoEmsoiDUw4C2QFS/I/J6yx5ybWOOqaMad0kJlKo+ElAdLqvRTMqOsgucuM64j3hgHU1H1mIkQ084Oje3eXT1lZwL1nwaD0BZMNfFTcHpv+sf7v6LEo4oZMlRbFNqH9tb60nEN0UkQ0mYawZNpR878eFuD1lWsl/Jb9J5iMbPlDKnkh3raBmS66U1M9Jm5rKUmMel1dKLOcxrVSgf5dJqU4o0g0pJyTlV37x4bytpCATOG8VUT4+m9cPoURiakE34ZMes/wbB0Roun+2p7h9oLSlwzQqZq2eIr+xe2/Rhp5QF8hHn5Hh/FfM9ibs32UrNG+l22ZbrnJ8N+fERAcD6YCp6nuPc2Aq/vWXiMfzKaye/BDfzTLPwe33MT8ns4P/y0uiLBdyZw3qRvNvGZegjF6H+escXvreOnkD7zm7IkADTbJEkU4sdw1jmwzpTj42smHLB82ijenjfx9YsXkccR+B5+I1azGtQk+4maTpnLlsBL75E7O1IPea+mzfPmUwQt00FJoG+nPxN/zruZzZprTljyx2GpXiHdYWBZtcINeB+2xVP16/GT9euDwf00TbqgK5gK7QvCmfp/wPn15WDa3BcM1l/Hy8F9wZQ31nf4Q2IjjrXyG+BnzXnMmqXiTuB5CLa01gINjvb8mesSTwHuSAEtzm8anp+uvwbdprkfhUs0wCNIxH6TP1l/vf6aPDThK0TXI5I+tjj+SX/8wIcaPxWX4y+CqsCiEIiAIzhsKrgfh+6qv+4L4RETPl6/zqMKukki9AA96OseZb3Zk7UKVKxZKt65tpR1J9p1sTGgP5Z4ah+KEzl73R/xEfr+I8H5fchlN/Jr0n0c3fSGkrz+vbhd5m2ZWltThDeKUaKh3WTZXWauS+WomBdMkjGvOCRuT9YfcIZxk0x24/5cT3q8redxe8TpTsLn03b9LIaFo/I0eQ7uxtjQm6rffI4elnTcJfbwX/qRFyG+Vw+SaJdyFIpugk0WXCcnaZFo1323viNAWHZPvk1+ugfjTf2sbcPR5LDT442bhwPj6Z5z9qi9wr8B85Ji51yXb3tISxlpSUtaZEYnFX8ZbHI6C8vk4ll2h5/YdRQbM0CUbSmXHsd5rH5zWz7fBnc/5iA1NLANwyQZ2+5JjiYfQ4mle+BxJA1prT9g+770dv4zTz9RnTPp+JlY4DJKoroOucmyT4fnsGIeFC3H9EtmB+qnGyP6413tPvs4BhIwipskDKakeIg+KKTgbl92JBkkHn1J3c8t+9ia2vBKhMFkGBJtEjrGDIzKE1SeAgTJiDAVRYpKmSGwMlksJor5gUWgjKlXYS0gurS4neaYflXJnaWBUjDKNAVhkWoF1WhHz7uJ2PapE8NHJkulySPD62/qVmLapMq10a997JqvnphQarc8dO3UQ2smYr38pfOWszK6fTs+eBKfHy4j8t2uWNrWnbDx5CNfe+TkxrHVE/EEW4ynxM9H2FhtpAeE2tnGFUH1J4xXChxD5hACLNXbLgOA3WU353rI37Y44SipbwdxwED/mEC0rOmuIzmlGkw7SBzNxZ6NN3519+zXRhV1Uosp3TdtGD68s4eXJo8uzHVtjyXc85gC9MYmRh+euuaRk+vhAG43Tm3RLGW7Clp52Oesq3N7dKVjnW9KxCdWjyFvi/nUs+Ja5CnPxtn+2t4NnVwLrELw76JqDMz1MacMGJoR0I5RVsA1lR/DLEdonLJLQWnOMcSamKlrszLnWWZ3mzcVOjsrnYWynTfVNmQ6aQFxrWtL9SQtgjqsojbxf5lp+qquSF1rVGyk02qZZEEKRkPdlv9ff3LVQ6MTFMas8xSft3fNVbd+vqg1KaF5w7RwBsirUye24UVXDS3oIcj/nz+56mF6qQlUAQ++gGoNytcxFG7P98DWMXMoHIL/6l/Z7p1riv8ko2oiyiru129WsSrmUjO1XdtWc0Pr7miOoWOV9YUQ07WQPmsCisWYDge5puAUAI3NIk6EQACmaQ+BGRaAwOSemV1TH90+vnlDrZBNFOi/nEUlLL96lYx5VZLqB5zDQLFQzGm6KuUX89L6YqxRuaPsCwXYTlJE1EVJt9ycWTo8bereoW7Wv38ewfOzmgI/N42Kn53LatjTxUCv85zbEyg+Y5hTcDddq99M2ysc8/51lABfjZ++8KvSxvUlnpCj7U+mIG3vR8yhXSbXEbaB3cDmatdds4lrhi9Z8hskNo2hkI+RQHWN6fMIUwKGFZiNhDmCNq6BoR1gejCoTzNdD86woB6cPDh33YFr91w99dHJLePr1tp525NylKZkzJtthLplN+ADzhOxjpiN1trRPwb/vhKfqIcMg8Mr3DDqd38o4cM36y9KWa+Tsn7v4/ocj134Vcg2TZsf/ABFKH4tYwrtObZYYxoF3QiQC+PjATwUho5+W8MkQlOOqUDxnlMNjZpsfB8zjJCxZe2afKeTjXeuboqT2XcOlsACB6XROFhWch7AeNy/VsZfx4fO5Aj8EjTVRPjLdtrmTS1NX7Azce6kmjZnnHf+1iuBiG0duzsmQTiZPzfjEoTGAqZ7xqt/nmmai8gXOWb0/sG9z8vyyPNOZjKDf9DlRgmQR93keVlHOU/9RTkfH8W8ieTQzWpsc21DGRM0Xw4soAUWDEDPtMB0oS9I5qeXC0PhMySPyTWjuYFctn9JEgWLp6FSXdz71TeSgzuQBmnXVHPXGqWhIhXkF+H2lQXxVqiSO5OthN9CQQSazmBOhdycwSgoZRJvQ28Yz8SVltDiwd3PUxMLN9De1dWehinH5783RvA9xhpyoHgnWAfGvE3sqtqOFT25rGIoMB4GBa0NAaepg2KYyiwVijQqFKGtopEeUFFYgQCboj0jZ8cCk7U1Q2W3MBBLjMRi0SCKxO0od6gD6Muon6Q35JGLDZS9DEpfLNZTA4aqrmrD0rwHCAO8Cs/Ur4a3J0Lql9WU4RfBJiYySfg+cviqaczLvipt59LuhbjXflPdSuRLUUd/9VV422jRv6SF/NbehYrcQ1p2AZ6jd80L5+kSRwE3WV+OVGTs9GvnU6yLDbJsrZ2aE+iijskqPtuHgTAktgz0r+xtaUaslZRRH6FKlRJrBwO9bK+lef8YXipg7j8GSJjM+GRPmSApRv6n//T4VrH3qqbRaNxoqoxSNMfwD6MV18yPulftrX+xZ7gXeka7vMCPgf2aQ8+N4bPuaKz7lg2LIGjjTT3x4T4jvubPYKL+cFtPTxscwm0DA+yVNaMjbFNt/cE9k+sUpoxgas8Gu1qjhG7GqUu+oAFel8B2gTDcgt+54If2XXv1VVsmVvRkM4m4TnnrYCGLtt5foc4F2rWO/NrIbxENvBHUy0WJBYqEg8hbyklAxoATvupfHMCZ3wAHaASEAFz/Y7pUPh+ZumWK7z65G1KGftgMJro0NbIzrOvbm1sCuhL9tBGKtrof1aLaZkdRjS4zYhzSDTDVw4bldnrPGtubWgKGiH0adR1JuR9VI/qErSgB72HMk0emp2+anr6F7kfTydZ+zdKSO0EdDRuTqaip3xAIjapaLa1aWqg/kmqNQEiXzza3ZFbqId3euezR4Iiqbkj5j7ZEIeTX7X4n9vLvLmKL2mAXILVUp0WPoyLCVJVGQ+/yNlGhjP8PNLq4y9vNy9rPrn+eW36OaPmdX0nTF7EIpu9XPlvW1XMgOiHbSHIL1ji1nsbpBdbAyXtlTRwjSHuCqyJvkjfAVEiMe317oeLEURlNKa/CI7tfVLxLp5qb4tFwUFVYJ3R6/STHqy1Xi1R9RLvvd6lSPIba14rZoo6zwa3w/7L18OGzRwC+N7B52+HD2zYPfA8OP3iIH9kyjkd4Fdwj9x85skUPzfXhQd9cSN96mB+97yjgoYUXvZ7kxYu/UW7mL7Eo+rwKK9byTKWsSWWz6N8VBaZxB5ShgDJZHerscm0J6L1at2fNGPH4CqQNZ+gAGTeaPZVNBB52IJ7nt/uI3N/B0707Do+8vmEH37rpdTLX8eEDd47Xr564Y3aIj+67azM8Q4dwYHjpHbJoOu1/8OkH++lk4s59Y2Lo+tsevG1ukA/N3uHb9f9TbkFebNRET61I/GEuOEtdCkxKcdfISpPptmSn01kdVNF4Y4NjHF1rWnh0cxWZKImsJdKcKPPIkZR5RIoYkcJ7dh665dDOHqV/4jgc2ILXkYz77zgwypGsH1zKst/L+ir6nJVsPdtR2zaC4aQTZC9CR4p0jigDQ6gmexJcUeeXdbS0xY7WslzDdpPF8uryAPX0L+tqoVNFD5QrFi7rbKGXwYnkJGCpwra4XMZe1th6JZcOCL0VgV445HepqL+l5jVdKMHP1VeH89a/WtYaK2/9Z/g4noyFYduzjf6WpSS0FIKDRovrC4aaQ9ZArQ9b1r/K58P0Yhi/4Msl4WPhFbUuzCTBb1OitsjmCVsAn+Qs3eokTJ1FeEQlI1nGXNlfnbS8tcc/sYz4wU8vsbd+lr/UII5u7mncOYBJ+WKc+5jsETe/L03AXCfmN4IlTVnCOYiVSxyWr5h45up7d/Lpu568c7ey4zRcu6yjzk9P3Xvu3im5qb9yaf98ab2AwZIsy0Zrq6nXxkG22zi121ScGiC71IoiZwcZqlAmzUCmvaU5GgkkzaQfoNCjlKimWnxvGhtR5b4r0roYFX59BZLFsvVB5NMRIVAGQ65bJoBsRuaFbLJM/0n3nZCLlZaWYKj+efWy88WezKv+yiG5dKnN23mX2uUJbi5bY+Rc4XgxBrHXGnlYb637gwLPEuXVBmD1ViiIyzgRfl5f9NddvfoB9NDxw0clWD9KV0FbdhMMjzfc+H7uJXEG8fo6Ns4O1q5fU+KCCq16PhXG3JuJcczFw6GwEaLSBXkQwNwF4DgLs1AgHDqA2FToAXEgCDpj+jTudDaDgUmnGsaG9bWx1UOVctJGzBlDf2HJWgZyh1HHkeV53RK5WC6Gc8fr45AzKSByxwlWHShTsxydSgfVLhALUZsXOiS8w0TlVOdJ006bC4ZayA43j7cN9WCqeCgYDTvGJzKnKG0Jn7ou6KSC18Frs8FUk2Jch1frv65/kWLdMMbf2fWfDKac4HFdaYpb8HY9ZDXZhnEylEgHP7t2L6YMcO46M22b111HA113zoFBDJQUpy/WLx6B36K+MxQdmlHBKerm0BIJKqUu68GgoLY0VSpexdChJiDC1WpC9qwK1cQYpS7U0BW0JAzeMrX6P+hRI2Dy4z/hqqmb4gS3jG8GLT77P1Ue5E4wfOFTFoioAS8NYVYZhv9umJapaPV6hct6wHdkHiowcqVYnvUivt5Qa+3vK/X2dBXy2Uy6pclBE4pR4XkwxWHTtq93vH+tv0l2U6pFvbNRePWrv51uBFbBWmgHbw/upXv+0LnRc1AxL/RjLrVgmvx/yP0Fq1KJxarV2A+PHct2HDvWwbvxJIYX60/THfzHrcdGH7shQm/iC2l6E/fXRumtaPU/ybeyx+p34UkVL0LJv9PAUHOomzL1w8q9uZaYoV3SIOoujHBKKii60eKMxhJHXUMgTQW0InVqqErq22AbYN6BHOMkFCMtlpWLDDc/0NM23tYLZ1uGMX5ZrWfPtkQj+chQ61lZiH+gZSiai0Sbz4JhDbeswXd2PSVr8E/twqtr8KXdu690Q2KpI6jHMMuhBjdRdbG9iQslEae6YVhDV7gBdOiHgK4iKtSERkv4yOpAP8ZMpimmNqtSRuUFG50FDD2AeaYRNrasGS0P2LTwuGDncpRJNtZ5Fpev85SVhMY6T3ewBJrtjAFIs8XZi95eSXOXLJkW75wKaXmE7afkst1TsjBDJxP3v3I//kG6Z9R+ce7WnfcfrvHRo6fPnT46CpteTMJZ7yXKMb2XTlHieMpspgUYLz+k3UsJV/LFTWNH7vvT08eHlfWHHtx+69yLSbZMRhHWhDn2SG0oYCC3qE/B0qAKuZqPg+b5XkErlwWmYkKlMkNY2eLmUAqF3OJinmKjrPIhuK1/W/IJ6z8kh5K1D2aK+/UTWqOzkz1fC4xVOgKKKqgjZqKV9nhTGGOgUGnZjiK4Mq8jJFKOMwJ0UxSLdlO/Ymvrtq8H3/UG+nBNcG0e7Vh79xt/yOf37KklDMPYaeyc3LZ1y8hwT671KoP8BApooL9agOqYUm2FATeRptTcdeQGxexmC3pWyw2u5ZSr4l9xsLCKW+DaaeqxVskXZql+XdTggY9NDrcHk331MoTzqZSj3fGlCe3GxJQT6IsGjeBkQOGQO53v+VKSb9E1EVMQ5vKs2/R7axiimWAmiVCh4/MZ1eYrecvvMWx9oa71KppmNkVhBs6G6m+veHkw8amOFi0QFY4pTI7RrikRxSd1jgBaCeytDEHmYSsUN/HTEEyqQVQ6ppY4937ER/nPmMXaWK6W8TvQy1cj+s28wcIlS70LHqQsSoS5rB18abP70ubwv0VMqrRhJALnb2SJXZ76vg7pAPc9++oF2+s8XzLyZUMt/3ajhy35encPGy4n+lIy4Xvvou1JERMJFmTa8zqHldSwlaBa9k6VC63heDzM/3cYttfndDMiKlbIwCN7eV2F8FS61toUNZhCzHltUoKChwg/yah6WVnr8jIXJer+ultoizj14CWn/GfvvEU5uIjTdtnx8nw86K1TlzWF5QsXBhYXGlw+3rLk/5IB/G8+gzZuYUagPa8ByoUaWfiRIuA35I4CrJOMVariLtOCaKD+Ryq3gvWTwSDci1AAfVtQi7zzsmWE4F5Vq/+RPKDe8714vX5SVSVGuXjxa2K/iCyN42qyOkbLkXwt6FIjmt5sRsHC11VB2yANZQl1HL+GWjFC9Em4Vx7Q2oKTeB2+oKkeL3xEkBU015zWlri4VEBrpICIlwZ7Eso2mgSVKs8GLeJN5YsLnmn7Lh7/45KS6ncSg5I/Por8NcaWi7UW27Te2JeyTGPqPg3VS9j2CzJyeznjn1qaGXCrpsq8ro655n7+1zi3WwkBRkGuRl5e3eMyi6L0TvDJcnYwTnM14fWG5Xyh5nXVLya56BmNJRUi25oYoiGRJBGXdaO+Rb1Y9R861mlZYzodsf21K8/wZ1mC8I75Hr9viTsF+fsW5BzxTSO1IFQNz6DJvnC/lPv9L6Ab4KcvfJU6gC94y9NfMP31s7i5XY5RIn6LJqKRxjAKDuOVppiQA65ycUhaEvVeQya8dVuF6uCYKClVFADVGd5FyGt9RTWAAgg50ahiNFm2YkcCarHv3QTW/6Jna0TY0VA0FEpnMkbciKJ0RGSrrMN/XzzKfy7p3saOsq21cUl7FVQ2Dboqxg8D38S4hnxooL2bGRU1qurqAtP1Q1M7xzd3Sd4MKlx9aN7cxtWq/1OQAi25ohrK0s0ilVHwbgmKVNGWD1T/IMmcmd2u68h5MhPsLpW6Mf7ZEUPfceC+0zfhdXy9uTm5cQffujnZrMQFzmZdv+n0HyDOnl33Z4RjOcFoIL338N50IIpBxBEd9+2+7fV+vGGHQ5Y18NCTDw1EwkITYRu/JwZe9fPMI+IfxFUsyjbSqvKhAcwt168pdedsTBbTzZxTnRzRxQyV/if8uggP8y2VcpqWw7iyTmgJOy3GuEu5oK35P5xC0L6GZFag308hopD9/6r3KyoE7rKG5Tqi3D9z8s6TM/3+7mEeeCxiPDanxdWDjxmRxwKIeebmVFVePajGtTl5VaWLcGDdLdMVpbTvxD0n9pWUyvQtew1RfioQFOU/1vU/Lotg4KmyMEz9nnuM2OINTVu8ETPuuUeXPuNZUcFYEmd9rFRbYSxfVUjLiN9dFerqyvd2yKWFBEEB548Fup3m1PWnBQHUERnjyKYur0O1v1pBfvl30u2Hnj4EwydOw/CBOyd23vd4+YefpuUbvHb84elmO9HXD1P3Tq1f48YM5VZ17msH5/d1fPtmWQndeOwTd1EnZNeXbtwsoBRbcbJ29T3T0GbGDO+3J95aen6KxViWDVCHL8i5wsPAxPLfE1FDb55RmQnmCYgrEoijOyX+6KeDoE66Tt5ONjkSgheKBA9LqL6qpqchU0E7QaSYtJ3+irSVimrrmpLJU3ej0gsK6vTRXbdlEXtnb9u17Z9B+Un9m9Hg5rmoE93YF4zCPwZ31H9b/6f6b3cEgzvAgAIYO4IwfMe64Q03nOX3fXzD8Lo7brzrLtiCz85tCkajwb6N0b9LJD738MOfSxTs2x7mj3yGsEgjzzBYB9Xw2hGCYAZOzYWG2uR6nFlvxlJeEZfO732ziNsX84be4ffMGz7/gRmQb1dyTX8Q/dtArU8Hb8Wybmgod53NBlQOilxbg9mPCIstK3sTAzE7O5BMJuTKkvJgwfulBskXM0CBMymXLQrpkSoDMVmJ6aA2QjGG4SJkRk38g5sd61dtYGoQ4St+jHY+U23r4aVWOEjtseoMnDgvfwCEm2+hp6r/X91AK4zYkU3HMVEaxnR3qBfqPzn+/wHPnsOreJxjYGRgYABi1vIsoXh+m68M3MwvgCIMt5YoxkDp2P9f/2exVDAHAbkcDEwgUQAz1Qu/AHicY2BkYGAO+p/FwMBS9v/r/68sFQxAERQQDACh8QbyeJxdT0sVwzAMy49AkAxAkbT3UQiAITGAISmAYQiA9th4ttUs7Q568UeSlVidiwSkB3PUPg+ESd6ZD/+8v7HyrtzwghY89ZB6BcyrYqc6RZhw48YhaA1Wc/v1PQtdeXJ/HppUmFM597nvBVK7D+Z+E8/uQZLBgDyaz3Llvxx02S3c/Hv813JrznryZP4F+6lSfQAAAAAAAAAAUAC2ATABaAGyAfoCJAKwAzYDmgQSBFwExgUyBbQF/AZOBvwHRAe2B/YISgigCPIJGglCCWQJignACgAKQAp2CroLAAtGC4oL8gxcDPINng5iDuYPag/6EF4RIBGGEeQSShKYEyQTbhOyFAoUYhS+FVoVphYoFooXHBeGGFoYnhjGGOwZChlOGXgZrBneGhwaWhqgGtIbLhvyHHQc2B1QHZ4d/wABAAAAUwBtAAYAAAAAAAIAIAAwAHMAAAB2C3AAAAAAeJx1kN9q2zAUh39q0441YxcbjN3tXJWWEcc1lEGvWkLbXZeSu8JUV/6T2VKQlY48w95ifYa9zt6jd/vFESUUYiP5O5/O8ZEE4AP+QWH9nHKsWeEdozXv4A0uIu/Sf488IN9G3sMQPyLv0/+MfICv+BV5iI/4wz+owVtGM/yNrPBZfYm8g/fqW+Rd+svIA/Jd5D18UovI+/S/Ix9gqp4iD3GoniduvvR1WQU5mhxLlmap3C/FUdVWN6IXoXK+k3MpnA2maVySuza0ZlToUZ07292YctFov6k2eWp8VzsrJ0m6qa+NNV4H87Dq1j2WWQiFFN61chX7yNy7mclDUoUwPxuPN/tjAoc5lvCoUaJCgOCI9pjfDGk/BPfMEGaus2pYaDQ0GgtWVP1Kx/ico2BkaQ0zGnKCnHNL09KNuK451721rLqhLfmfht5vzdrmp7Sr3nUfC07YL92afU1r+wrd7/Dh5WwdHrmLjDawanUK3+9acPXqPML7Wq3NaHL6pL+1QHuGMd8t5/8PvPGO3QAAAHicbZLnlpswEIV9DRiwvZtseu89Ib333vvmBWRZYMVC0pHEEufpg8BO/kTncOfTaLgMOtPr97o17P1/baKPACEiDBAjQYohRhhjDevYhu3YwA7sxC7sxh7sxT7sxwEcxCEcxhEcxTEcxwmcxCmcxhmcxTmcxwVcxCVkuIwruIpruI4buIlbuI07uIt7uI8HeIhHeIwneIpneI4XeIlXeI03eIt3eI8P+IhP+Iwv+Ipv+I5N/OiF1hEz9JKxUrtFrDl1lWF9NR9QIikToRaVjUouKxvOmNBjLxnlhgo2DbnM1djLKrNGnGPScSUzItzGv93yPP2bSQSX84z9cqFQdJ56yZRmMhW8mLlJJSaBI0XYPDaZKDUviZmvr6DrNjJMi0WcK1MTM02mqpbZlJtEsNx5SI238jSodJtoS7qv+BpPw67IY9xU+dg5TXjROTWwdGrIOzWhT+uA0jolxqjaZrSOnCF2Nmq16651EYpMm1fakAul9SJQeR5QVYQlk1VkZ8SwoVNFIVjWnKQrlBGdMToftdoZjrs77DajqXKrS02YEFxbbtdWkG0x44JJVUS5aBqKSlJwmhDrmOF2Hv9Wqsy4TNqoKhfmSrrQKuNSL5nvPG6p0s0AkEWkSWVZMy1Kx3ljk03qLuZ14lTmB8gNGmByGrGfjLrhlhJV2f7SaIneNF1ypQNbybBUSgZswQaWEUNngeay1/sD4l/60HicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA=') format('woff')}</style>
<style id="style-core" type="text/css">html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}:-webkit-full-screen{height:100%;width:100%}:-ms-fullscreen{height:100%;width:100%}:fullscreen{height:100%;width:100%}body::-ms-backdrop{background:0 0}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}body{color:#eee;background-color:#111;overflow:auto}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle:before,.error-view>.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0\00a0"}[data-icon-after]:after{content:"\00a0\00a0" attr(data-icon-after)}.error-view>.error-toggle:before{content:"\e81a"}.error-view>.error-toggle.enabled:before{content:"\e818"}.error-view>.error:before{content:"\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}@media (prefers-reduced-motion:reduce){.passage{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}</style>
<style id="style-core-macro" type="text/css">@-webkit-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-o-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}.macro-type-cursor:after{-webkit-animation:cursor-blink 1s infinite;-o-animation:cursor-blink 1s infinite;animation:cursor-blink 1s infinite;content:"\2590";opacity:1}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:100000;position:fixed;top:-50%;left:-50%;height:200%;width:200%}#ui-dialog.open{display:block;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:100100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog>*{-webkit-box-sizing:border-box;box-sizing:border-box}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:92%;height:calc(100% - 2.1em)}@media (prefers-reduced-motion:reduce){#ui-overlay.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-overlay:not(.open){-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-dialog.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}</style>
<style id="style-ui" type="text/css">#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .datestamp{font-size:75%;margin-left:1em}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}@media (prefers-reduced-motion:reduce){#story{-webkit-transition:margin-left 0s;-o-transition:margin-left 0s;transition:margin-left 0s}#ui-bar{-webkit-transition:left 0s;-o-transition:left 0s;transition:left 0s}}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style>
<style id="style-ui-debug" type="text/css">#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:75%;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:0;width:8em}#debug-bar>div>select{width:15em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:101%;height:calc(100% + 1px);left:-2em;left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.175em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:102%;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:650%;max-height:65vh;position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-none{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint:after,#debug-bar-toggle:before,#debug-bar-views-toggle:after,#debug-bar-watch .watch-delete:before,#debug-bar-watch-add:before,#debug-bar-watch-all:before,#debug-bar-watch-none:before,#debug-bar-watch-toggle:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#debug-bar-toggle:before{content:"\e838"}#debug-bar-hint:after{content:"\e838\202f\e822"}#debug-bar-watch .watch-delete:before{content:"\e804"}#debug-bar-watch-add:before{content:"\e805"}#debug-bar-watch-all:before{content:"\e83a"}#debug-bar-watch-none:before{content:"\e827"}#debug-bar-views-toggle:after,#debug-bar-watch-toggle:after{content:"\00a0\00a0\e830"}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:after,html[data-debug-view] #debug-bar-views-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript must be enabled to play.</noscript></div>
		<div id="init-lacking"><p>Browser lacks capabilities required to play.</p><p>Upgrade or switch to another browser.</p></div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<tw-storydata name="Meeting the Parents V2" startnode="1" creator="Twine" creator-version="2.6.2" format="SugarCube" format-version="2.36.1" ifid="1B5E3DD5-7A23-4CD4-BFA6-1932A02D4702" options="" tags="" zoom="1" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">/* IMPORT image and fonts*/
@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css');
@import url('https:fonts.googleapis.com/css2?family=Bodoni+Moda&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,700;1,400;1,700&family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap');
@font-face {
    font-family: "Open Dyslexic";
    src: url(img/OpenDyslexic-Regular.otf) format("opentype");
    font-style: normal;
    font-weight: 400;
}
@font-face {
    font-family: "Open Dyslexic";
    src: url(img/OpenDyslexic-Italic.otf) format("opentype");
    font-style: italic;
    font-weight: 400;
}
@font-face {
    font-family: "Open Dyslexic";
    src: url(img/OpenDyslexic-BoldItalic.otf) format("opentype");
    font-style: italic;
    font-weight: 700;
}
@font-face {
     font-family: "Open Dyslexic";
     src: url(img/OpenDyslexic-Bold.otf) format("opentype");
     font-style: normal;
     font-weight: 700;
}

/*variables*/
:root{
    /*colours*/
    --bg:#EBE3D9;
    --text: #000000;
    --menubgc: #172734;
    --menubgimg: url("img/uibar.png");
    --link: #235e6e;
    --linkhover: #6e2339;
    --accent: #c3e3d5;
    /*fonts*/
    --serif: "PT Serif", serif;
    --sansserif: "Montserrat", sans-serif;
    --dyslexic: "Open Dyslexic", sans-serif;
    --title: 'Bodoni Moda', serif;
    --icon: "Font Awesome 5 Free";
}
html{
    font: 16px;
}
body {
    background-color: var(--bg);
    color: var(--text);
}
area {
	cursor: pointer;
}
.nobr {
	white-space: nowrap;
}
*:disabled {
	cursor: not-allowed !important;
}
*:hover {
    transition: all 0.3s ease;
}
/*special text*/
h2 {
    font-weight: italic;
}
h3 {
    font-style: italic;
    font-weight: bold;
    margin: 0;
}
hr {
	display: block;
	height: 1px;
	border: none;
	border-top: 1px solid var(--menubgc);
	margin: 1em 0;
	padding: 0;
}

/*Story + Passage*/
#story {
	margin-left: 20em;
	transition: margin-left 200ms ease-in;
}
#ui-bar.stowed ~ #story {
	margin-left: 4.5em;
}
.passage{
    line-height: 150%;
    font-size: 1em;
}
#passages {
    max-height: 90%;
    overflow-y: auto;
    margin: 1em auto;
    padding: 0.5em 1.2em .5em 1.2em;  
}
.serif .passage {
    font-family: var(--serif);
}
.sansserrif .passage{
    font-family: var(--sansserif);
}
.opendyslexic .passage{
    font-family: var(--dyslexic);
}
#passages::-webkit-scrollbar {
    width: 8px;
}
#passages::-webkit-scrollbar-track {
    background-color: var(--menubgc);
    border: 1px solid var(--link);
}
#passages::-webkit-scrollbar-thumb {
    background-color: var(--linkhover);
    border-color: var(--menubgc);
}

/*body links*/
.passage a {
	color: var(--link);
  	font-weight: bolder;
	text-decoration: none;
	transition-duration: 500ms;
    font-size: 1.2em;
}
.passage a:hover {
	color: var(--linkhover);
}
/*UI BAR*/
#ui-bar {
    position: fixed;
	z-index: 50;
	top: 0;
	left: 0;
	width: 17.5em;
	height: 100%;
	margin: 0;
	padding: 0;
	transition: left 200ms ease-in;
}
#ui-bar {
    background-image: var(--menubgimg);
    background-size: 80%;
    background-repeat: no-repeat;
    background-position: bottom right;
    background-color: var(--menubgc);
    /*image size to change with how the screen is*/
    border: none;
    width: 20em;
    text-align: center;
}
#ui-bar.stowed {
	left: -15.5em;
}
#ui-bar-tray {
	position: absolute;
	top: 0.2em;
	left: 0;
	right: 0;
}
#ui-bar-body {
    line-height: 1.5;
    overflow: auto;
    height: 90%;
	margin: 2.5em 0;
	padding: 0 1.5em;
}
#ui-bar-body > :not(:first-child) {
    margin-top: 0em;
}
#ui-bar.stowed #ui-bar-history, #ui-bar.stowed #ui-bar-body {
	visibility: hidden;
	transition: visibility 200ms step-end;
}
    /*link*/
#ui-bar a {
    color: var(--bg);
    text-transform: uppercase;
    font-family: var(--title);
    padding-left: 5px;
    padding-right: 5px;
}
#ui-bar a:hover{
    color: var(--linkhover);
    text-shadow: 0px 0px 30px var(--link);
    background-color: var(--bg);
    opacity: 50%;
}
    /*buttons back/forward/close sidebar*/
#ui-bar-toggle, #ui-bar-history [id|="history"]{
    font-size: 1.2em;
    line-height: inherit;
    color: var(--bg);
    background-color: transparent;
    border: none;
}
#ui-bar-toggle:hover, #ui-bar-history [id|="history"]:hover{
    background-color: transparent;
    border: none;
    color: var(--linkhover);
    text-shadow: 1px 1px 30px var(--link);
}
#ui-bar-history [id|="history"]:disabled {
    color: #444;
    background-color: transparent;
    border: none;
}
#ui-bar-history [id|="history"] {
    padding: 0.2em 0.45em 0.35em;
} 
#ui-bar-toggle {
    display: block;
    position: absolute;
    top: 0;
	right: 0;
	border-right: none;
	padding: 0.3em 0.45em 0.25em;
}
#ui-bar.stowed #ui-bar-toggle {
	padding: 0.3em 0.35em 0.25em 0.55em;
}
    /*menus (different font for the list items?*/
#menu ul{
    margin: 1em 0 0;
    padding: 0;
    list-style-image: 'flower';
    border: none;
}
#menu ui:empty{
    display: none;
}
#menu li{
    margin: 0;
}
#menu li:not(:first-child) {
	border-top: 1px solid var(--link);
}
#menu li a{
    display: block;
    padding: 0.25em 0.75em;
    border: none;
    color: var(--bg);
    text-transform: uppercase;
    background-color: none;
}
#menu li a:hover {
    color: var(--linkhover);
    background-color: var(--bg);
    opacity: 50%;
}

    /*no text selection when clicking*/
#ui-bar-history [id|="history"], #ui-bar-toggle, #story-title, #story-author, #ui-bar a, #menu a{
    user-select: none;
}
    /*change icons-different font family*/
#menu-core li[id|="menu-item"] a::before, #ui-bar-toggle::before {
	font-family: var(--icon);
	font-weight: 900;
    font-style: normal;
    padding-right: 0.2em;
	line-height: 1;
}
#ui-bar-toggle:before, #ui-bar.stowed #ui-bar-toggle:before {
	content: "\f0c9";
    font-weight: 900;
}
#ui-bar-history #history-backward::before{
    font-family: var(--icon);
    font-weight: 900;
    content: "\f104";
    font-size: 150%;
}
#ui-bar-history #history-forward::before{
    font-family: var(--icon);
    font-weight: 900;
    content: "\f105";
    font-size: 150%;
}
#menu-item-saves a:before {
	content: "\f0c7";
    font-weight: 900;
}
#menu-item-settings a:before {
	content: "\f013";
    font-weight: 900;
}
#menu-item-restart a:before {
	content: "\f1da";
    font-weight: 900;
}
#ui-dialog-body.saves button[id="saves-clear"]::before, #ui-dialog-body.saves button[id="saves-export"]::before, #ui-dialog-body.saves button[id="saves-import"]::before, #ui-dialog-body.settings button[id|="setting-control"].enabled::after, #ui-dialog-body.settings button[id|="setting-control"]::after {
    font-family: var(--icon);
    font-style: normal;
    font-weight: 900;
    font-variant: normal;
    text-transform: none;
    line-height: 1;
}
#ui-dialog-body.saves button[id="saves-clear"]::before {
    content:"\f2ed";
}
#ui-dialog-body.saves button[id="saves-export"]::before {
    content: "\f019";
}
#ui-dialog-body.saves button[id="saves-import"]::before {
    content: "\f093";
}

/*Textbox*/
input[type="text"] {
    min-width: 6em;
}
#story .macro-textbox {
    background-color: var(--accent);
    color: var(--text);
    border: 1px solid var(--link);
    letter-spacing: .05em;
    padding: .5em;
    margin-right: .5em;
    max-width: 12em;
}
#story .macro-textbox:focus {
    background-color: var(--linkhover);
    color: var(--bg);
    border: 1px dotted var(--text);    
}
/*Lists*/
#story ul {
    list-style: none;
    padding-left: 2em;
    margin: auto;
    text-align: left;
}
#story ul li{
    cursor: pointer;
    letter-spacing: 0.1em;
}
#story ul li::before{
    font-family:var(--icon);
    content: "\f5bb";
    font-weight: 900;
    margin-right: .5em;
    margin-left: -1em;
    color: var(--menubgc);
}
#story ul li:hover {
    color: var(--linkhover);
}
#story ul li::before :hover{
    color: var(--linkhover);
}

/*Dialog Boxes*/
#ui-overlay {
    background-color: var(--bg);
    position:fixed;
    height: 100vh;
    width: 100vw;
    top: 0;
    left: 0;
}
#ui-dialog {
    background-color: var(--bg);
    border: 2px solid var(--menubgc);
    height: auto;
    max-width: 60vw;
    padding: 0.2em;
}
#ui-dialog-titlebar {
    background-color: var(--menubgc);
    position: relative;
    height: auto;
    padding: 0.2em;
}
#ui-dialog-title {
    font-family: var(--title);
    color: var(--accent);
    text-transform: uppercase;
    width: auto;
    padding: 0.2em 3em 0.2em 0em;
}
#ui-dialog-close {
    color: var(--link);
    background-color: var(--linkhover);
    height: auto;
    width: auto;
    border: 1px dotted transparent;
    font-size: 2em;
    position: absolute;
    top: .1em;
    right: .1em;
    padding: 0 0.1em 0 0.1em;
    transition-duration: 200ms;
}
#ui-dialog-close:hover {
    color: var(--bg);
    border: 1px solid var(--bg);
}
#ui-dialog-body {
    background-color: var(--bg);
    color: var(--text);
    height: auto;
    text-align: left;
	padding: 1em;
    width: auto;
    overflow: auto;
    min-width: 0;
    min-height: 0;
    line-height: 1.5;
}
.serif #ui-dialog-body {
    font-family: var(--serif);
}
.sansserrif #ui-dialog-body {
    font-family: var(--sansserif);
}
.opendyslexic #ui-dialog-body {
    font-family: var(--dyslexic);
}
#ui-dialog-body button, #passages button {
    background-color: var(--link);
    border: 1px solid var(--menubgc);
    color: var(--accent);
}
#ui-dialog-body button:hover, #passages button:hover {
    background-color: var(--linkhover);
    border: 1px dotted var(--text);
    color: var(--bg);
}
#ui-dialog-close::before {
    font-family: var(--icon);
    font-weight: 900;
    content: "\f00d";
}
#ui-dialog-body.saves ul.buttons li{
    padding: 0.2em;
}
#ui-dialog-body.saves ul.buttons li:last-child {
    float: none;
}
/*Settings dropdowns*/
#setting-control-fontsize, #setting-control-fontfamily, #setting-control-lang {
    background-color: none;
    border: 1px solid var(--link);
    color: var(--text);
}
#setting-control-fontsize:hover, #setting-control-fontfamily:hover, #setting-control-lang:hover {
    background-color: var(--linkhover);
    border: 1px dotted var(--text);
    color: var(--bg);
}
/*Settings button*/
#ui-dialog-body.settings button[id|=setting-control] {
    background-color: none;
    border: 1px solid var(--link);
    color: var(--text);
}
#ui-dialog-body.settings button[id|=setting-control]:hover {
    background-color: var(--linkhover) !important;
    border: 1px dotted var(--text) !important;
    color: var(--bg) !important;
}
button:disabled {
    background-color: transparent;
}
button {
    background-color: none;
    border: 1px solid var(--link);
    color: var(--text);
}
button:hover {
    background-color: var(--linkhover) !important;
    border: 1px dotted var(--text) !important;
    color: var(--bg) !important;
}

.title {
    font-size: 150%;
    color: var(--bg);
    font-family: var(--title);
    text-align: center;
    font-weight: bold;
    text-transform: uppercase;
    line-height: 1;
    margin: 0;
}
.author {
    font-size: 0.6em;
    font-weight: bold;
    color: var(--accent);
}
.author a{
    color:var(--accent);
    text-transform: none !important;
}
.author a:hover{
    color: var(--link) !important;
    text-transform: none;
}

/* TEXT MESSAGE TO UPDATE*/
.message {
	margin: 40px;
    display: inline-block;
    background-color: var(--accent);
    opacity: 80%;
    border: 5px dotted var(--menubgc);
    border-radius: 2em;
    padding: 20px 30px 20px 30px;
}

/*icon plan sidebar*/
.plant::before {
    font-family: var(--icon);
    font-weight: 900;
    content: "\f5bb";
    color: var(--link);
}

/* imgage settings*/
img {
    max-width: 100%;
    height: auto;
    display: block;
    margin-left: auto;
    margin-right: auto;
}

/*mobile*/
@media screen and (max-width: 500px) {
   #passages {
       padding: 0em;
   }
   #ui-bar {
       width: 100vw;
       height: 100vh;
   }
   #ui-bar.stowed{
       left: -90vw;
   }
   #ui-dialog{
       max-width: 85vw;
       height: auto;
   }
   #ui-dialog-body {
        max-width: 85vw;
   }
   #ui-dialog-body button {
        font-size: 0.8em;
   }
}
@media screen and (min-width: 1367px) {
    #ui-bar {
        background-size: 120%;
        width: 20vw;
    }

    .title {
        font-size: 175%;
        padding: 1em 0em 1em 0em;
        display: inline-block;
    }
    .author {
        font-size: 1em;
    }
    #ui-bar a:not(.author a){
        font-size: 150%;
    }
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">$("#ui-bar-history>button,#ui-dialog-close").empty();
// force fullscreen portrait mode on mobile
function lock (orientation) {
	if (document.documentElement.requestFullscreen) {
    document.documentElement.requestFullscreen();
  } else if (document.documentElement.mozRequestFullScreen) {
    document.documentElement.mozRequestFullScreen();
  } else if (document.documentElement.webkitRequestFullscreen) {
    document.documentElement.webkitRequestFullscreen();
  } else if (document.documentElement.msRequestFullscreen) {
    document.documentElement.msRequestFullscreen();
  }
	screen.orientation.lock(orientation);
};
// end force fullscreen
// reset passage to top
$(document).on(":passagedisplay", function() {
	$("#passages").scrollTop(0);
});
// end reset passage

//Langauge Script
setup.i18n = {
	langs : {
		'English'  : 'en',
		'Français (M)' : 'frm',
		'Français (F)' : 'frf',
    },

	codes : function () {
		return Object.keys(this.langs).map(function (label) {
			return this.langs[label];
		}, this);
	},

	labels : function () {
		return Object.keys(this.langs);
	},

	labelFromCode : function (code) {
		var label = Object.keys(this.langs).find(function (label) {
			return this.langs[label] === code;
		}, this);

		if (!label) {
			throw new Error('unknown language code "' + code + '"');
		}

		return label;
	}
};
function initLanguage() {
	switch (setup.i18n.langs[settings.lang]) {

	case 'frm':
		l10nStrings.ok = 'OK',
		l10nStrings.savesLabelSlot = 'Emplacement',
		l10nStrings.savesSavedOn = 'Sauvegarder sur',
		l10nStrings.uiBarToggle = 'Cacher / Montrer le Menu';
		l10nStrings.settingsTitle = 'Paramètres';
		l10nStrings.settingsOff   = 'Off';
		l10nStrings.settingsOn    = 'On';
		l10nStrings.settingsReset = 'Réinitialiser';
		l10nStrings.cancel =  "Annuler";
		l10nStrings.restartTitle = "Recommencer";
		l10nStrings.restartPrompt = "Êtes-vous sûr de vouloir recommencer? Tout progrès non sauvegardé sera perdu.";
		l10nStrings.savesTitle = "Sauvegardes";
		l10nStrings.savesEmptySlot = "Emplacement vide";
		l10nStrings.savesLabelDelete = "Effacer";
		l10nStrings.savesLabelExport = "Sauvegarder au Disque";
		l10nStrings.savesLabelImport = "Charger du Disque";
		l10nStrings.savesLabelLoad = "Charger";
		l10nStrings.savesLabelClear = "Tout Effacer";
		l10nStrings.savesLabelSave = "Sauvegarder";
		break;
			
	case 'frf':
		l10nStrings.ok = 'OK',
		l10nStrings.savesLabelSlot = 'Emplacement',
		l10nStrings.savesSavedOn = 'Sauvegarder sur',
		l10nStrings.uiBarToggle = 'Cache / Montre le Menu';
		l10nStrings.settingsTitle = 'Paramètres';
		l10nStrings.settingsOff   = 'Off';
		l10nStrings.settingsOn    = 'On';
		l10nStrings.settingsReset = 'Réinitialiser';
		l10nStrings.cancel =  "Annuler";
		l10nStrings.restartTitle = "Recommencer";
		l10nStrings.restartPrompt = "Êtes-vous sûr de vouloir recommencer? Tout progrès non sauvegardé sera perdu.";
		l10nStrings.savesTitle = "Sauvegardes";
		l10nStrings.savesEmptySlot = "emplacement vide";
		l10nStrings.savesLabelDelete = "Effacer";
		l10nStrings.savesLabelExport = "Sauvegarder au Disque";
		l10nStrings.savesLabelImport = "Charger du Disque";
		l10nStrings.savesLabelLoad = "Charger";
		l10nStrings.savesLabelClear = "Tout Effacer";
		l10nStrings.savesLabelSave = "Sauvegarder";
		break;
			
	case 'en':
		l10nStrings.ok = 'OK',
		l10nStrings.savesLabelSlot = 'Slot',
		l10nStrings.savesSavedOn = 'Saved on',
		l10nStrings.uiBarToggle = 'Toggle the UI bar';
		l10nStrings.settingsTitle = 'Settings';
		l10nStrings.settingsOff   = 'Off';
		l10nStrings.settingsOn    = 'On';
		l10nStrings.settingsReset = 'Reset to Defaults';
		l10nStrings.cancel =  "Cancel";
		l10nStrings.restartTitle = "Restart";
		l10nStrings.restartPrompt = "Are you sure that you want to restart? Unsaved progress will be lost.";
		l10nStrings.savesTitle = "Saves";
		l10nStrings.savesEmptySlot = "slot empty";
		l10nStrings.savesLabelDelete = "Delete";
		l10nStrings.savesLabelExport = "Export Save";
		l10nStrings.savesLabelImport = "Import Save";
		l10nStrings.savesLabelLoad = "Load";
		l10nStrings.savesLabelClear = "Delete All";
		l10nStrings.savesLabelSave = "Save";
		break;
}
	$('html').attr('lang', setup.i18n.langs[settings.lang]);
}
function changeLanguage() {
	window.location.reload();
}

Setting.addList('lang', {
	label    : 'Language - Langue',
	list     : setup.i18n.labels(),
	default  : setup.i18n.labelFromCode('en'),
	onInit   : initLanguage,
	onChange : changeLanguage
});

postrender['i18n-passage-include'] = function (content) {
	var passage = State.passage + '_' + setup.i18n.langs[settings.lang];

	$(content).empty().wiki(Story.get(passage).processText());
};
//SETTINGS//
// change font size
var settingFontSize = ["100%", "130%", "150%"];
var resizeFont = function() {
	var size = document.getElementById("passages");
	switch (settings.fontSize) {
		case "100%":
			size.style.fontSize = "100%";
			break;
	}
	switch (settings.fontSize) {
		case "130%":
			size.style.fontSize = "130%";
			break;
	}
	switch (settings.fontSize) {
		case "150%":
			size.style.fontSize = "150%";
			break;
	}
};
Setting.addList("fontSize", {
	label		: "Change font size",
	list		: settingFontSize,
	onInit		: resizeFont,
	onChange	: resizeFont
});
// end change font size

// change font family
var settingFontFamily = ["Serif","Sans-serif","OpenDyslexic"];
var fontFamily = function() {
	var $html = $("html");
		$html.removeClass("serif sansserif opendyslexic");
	switch (settings.fontFamily) {
		case "Sans-serif":
			$html.addClass("sansserif");
			break;
		case "Serif":
			$html.addClass("serif");
			break;
			case "OpenDyslexic":
			$html.addClass("opendyslexic");
			break;
	}
};
Setting.addList("fontFamily", {
	label		: "Change font style",
	list		: settingFontFamily,
	default: "Sans-serif",
	onInit		: fontFamily,
	onChange	: fontFamily
});
// end change font family

// dialog API macro set, by chapel; for sugarcube 2
// version 1.3.0
// see the documentation: https://github.com/ChapelR/custom-macros-for-sugarcube-2#dialog-api-macros

// <<dialog>> macro
Macro.add('dialog', {
       tags : ['onopen', 'onclose'],
    handler : function () {
        
        // handle args (if any)
        var errors = [];
        var content = '', onOpen = null, onClose = null;
        var title = (this.args.length > 0) ? this.args[0] : '';
        var classes = (this.args.length > 1) ? this.args.slice(1).flatten() : [];

        this.payload.forEach( function (pl, idx) {
            if (idx === 0) {
                content = pl.contents;
            } else {
                if (pl.name === 'onopen') {
                    onOpen = onOpen ? onOpen + pl.contents : pl.contents;
                } else {
                    onClose = onClose ? onClose + pl.contents : pl.contents;
                }
            }
        });
        
        // add the macro- class
        classes.push('macro-' + this.name);
        
        // dialog box
        Dialog.setup(title, classes.join(' '));
        Dialog.wiki(content);

        // should these be shadowWrapper-aware?
        if (onOpen && typeof onOpen === 'string' && onOpen.trim()) {
            $(document).one(':dialogopened', function () {
                $.wiki(onOpen);
            });
        }

        if (onClose && typeof onClose === 'string' && onClose.trim()) {
            $(document).one(':dialogclosed', function () {
                $.wiki(onClose);
            });
        }

        Dialog.open();
        
    }

});

// <<popup>> macro
Macro.add('popup', {
    handler : function () {
        
        // errors
        if (this.args.length < 1) {
            return this.error('need at least one argument; the passage to display');
        }
        if (!Story.has(this.args[0])) {
            return this.error('the passage ' + this.args[0] + 'does not exist');
        }
        
        // passage name and title
        var psg   = this.args[0];
        var title = (this.args.length > 1) ? this.args[1] : '';
        var classes = (this.args.length > 2) ? this.args.slice(2).flatten() : [];
        
        // add the macro- class
        classes.push('macro-' + this.name);
        
        // dialog box
        Dialog.setup(title, classes.join(' '));
        Dialog.wiki(Story.get(psg).processText());
        Dialog.open();
        
    }

});

// <<dialogclose>> macro
Macro.add('dialogclose', { 
    skipArgs : true, 
    handler : function () {
        Dialog.close();
    } 
});

//Liveupdate
(function () {
	"use strict";

	$(document).on(":liveupdate", function () {
		$(".macro-live").trigger(":liveupdateinternal");
	});

	Macro.add(['update', 'upd'], {
		handler: function handler() {
			$(document).trigger(":liveupdate");
		}
	});

	Macro.add(['live', 'l', 'lh'], {
		skipArgs: true,
		handler: function handler() {
			if (this.args.full.length === 0) {
				return this.error('no expression specified');
			}
			try {
				var statement = this.args.full;
				var result = toStringOrDefault(Scripting.evalJavaScript(statement), null);
				if (result !== null) {
					var lh = this.name === "lh";
					var $el = $("<span></span>").addClass("macro-live").wiki(lh ? Util.escape(result) : result).appendTo(this.output);
					$el.on(":liveupdateinternal", this.createShadowWrapper(function (ev) {
						var out = toStringOrDefault(Scripting.evalJavaScript(statement), null);
						$el.empty().wiki(lh ? Util.escape(out) : out);
					}));
				}
			} catch (ex) {
				return this.error("bad evaluation: " + (_typeof(ex) === 'object' ? ex.message : ex));
			}
		}
	});

	Macro.add(['liveblock', 'lb'], {
		tags: null,
		handler: function handler() {
			try {
				var content = this.payload[0].contents.trim();
				if (content) {
					var $el = $("<span></span>").addClass("macro-live macro-live-block").wiki(content).appendTo(this.output);
					$el.on(":liveupdateinternal", this.createShadowWrapper(function (ev) {
						$el.empty().wiki(content);
					}));
				}
			} catch (ex) {
				return this.error("bad evaluation: " + (_typeof(ex) === 'object' ? ex.message : ex));
			}
		}
	});
})();</script><tw-tag name="Converted" color="green"></tw-tag><tw-tag name="Done" color="yellow"></tw-tag><tw-tag name="EDIT" color="orange"></tw-tag><tw-tag name="EDIT-NEEDED" color="blue"></tw-tag><tw-tag name="END" color="red"></tw-tag><tw-tag name="OK" color="purple"></tw-tag><tw-tag name="Sidebar" color="orange"></tw-tag><tw-tag name="Translated" color="green"></tw-tag><tw-tag name="Update" color="red"></tw-tag><tw-tag name="Updated" color="blue"></tw-tag><tw-tag name="done" color="yellow"></tw-tag><tw-tag name="translated" color="green"></tw-tag><tw-passagedata pid="1" name="TitleCard" tags="OK" position="700,442" size="100,100"></tw-passagedata><tw-passagedata pid="2" name="Endings" tags="" position="325,342" size="100,100"></tw-passagedata><tw-passagedata pid="3" name="Intro1" tags="OK" position="825,442" size="100,100"></tw-passagedata><tw-passagedata pid="4" name="Intro2" tags="OK" position="950,442" size="100,100"></tw-passagedata><tw-passagedata pid="5" name="Inside" tags="OK" position="1075,442" size="100,100"></tw-passagedata><tw-passagedata pid="6" name="What" tags="OK" position="1200,567" size="100,100"></tw-passagedata><tw-passagedata pid="7" name="Praise" tags="OK" position="1200,442" size="100,100"></tw-passagedata><tw-passagedata pid="8" name="Shy" tags="OK" position="1200,317" size="100,100"></tw-passagedata><tw-passagedata pid="9" name="END1" tags="END OK" position="1075,567" size="100,100"></tw-passagedata><tw-passagedata pid="10" name="SetUp" tags="OK" position="1325,442" size="100,100"></tw-passagedata><tw-passagedata pid="11" name="Happy" tags="OK" position="1575,442" size="100,100"></tw-passagedata><tw-passagedata pid="12" name="Later" tags="OK" position="1575,317" size="100,100"></tw-passagedata><tw-passagedata pid="13" name="Refuse" tags="OK" position="1575,567" size="100,100">
</tw-passagedata><tw-passagedata pid="14" name="END2" tags="END OK" position="1450,567" size="100,100"></tw-passagedata><tw-passagedata pid="15" name="Comp" tags="OK" position="1700,442" size="100,100"></tw-passagedata><tw-passagedata pid="16" name="Later2" tags="OK" position="1700,317" size="100,100"></tw-passagedata><tw-passagedata pid="17" name="Instruc" tags="OK" position="1825,442" size="100,100"></tw-passagedata><tw-passagedata pid="18" name="Prep" tags="OK" position="1950,442" size="100,100">With that freak-out out of the way, you think of the best way to make this lunch perfect. You start spending hours on the internet, combing pages upon pages of advice to slay meeting your partner&#39;s parents and avoid the usual traps. Diligently making notes through all of it, you end up with a board so full of sticky notes, you could make pixel art with it. You get overwhelmed again and cover the board for the night.

Day 2 of your preparation, you uncover your sticky note board and try to make sense of it. Like an investigator on a case, you start seeing patterns between them and start categorizing your note. Taking a break in the middle of it, you realize how glad you are not living with Kelsie right now. She would probably flip out.

Coming from your extensive research comes out sensible advices. You know that you would be alright as long as you don&#39;t bring up controversial topics, spill drinks on you or anyone, eat with your mouth open or spill food, forget to flush the toilet, start a fight with anyone, among other things. //&quot;No need to impress Kelsie&#39;s parents with my political tirades or bottle juggling then,&quot;// you think, smirking. 

While you start feeling better about how to handle yourself during most of the day, one thing still stresses you out: &lt;&lt;linkappend &quot;first impression.&quot;&gt;&gt;

First impressions are everything. A look is all that is needed for most people to make an idea of you and start judging you. A simple mistake can make you look like a fool and people will never take you seriously. Since you really want to make Kelsie happy, you go through your notes again to find the answer to: &#39;&#39;How to make a great first impression&#39;&#39;.

Again, bottle juggling will not help you, as much as you wish it. However, your notes confirms your suspicion. Before people see who you are, they see what you wear.

[[Let&#39;s Pick an Outfit Then!|Outfit]]&lt;&lt;/linkappend&gt;&gt;</tw-passagedata><tw-passagedata pid="19" name="Outfit" tags="OK" position="2075,442" size="100,100"></tw-passagedata><tw-passagedata pid="20" name="Blacktie" tags="OK" position="2200,567" size="100,100"></tw-passagedata><tw-passagedata pid="21" name="Swimsuit" tags="OK" position="2200,317" size="100,100"></tw-passagedata><tw-passagedata pid="22" name="Casual" tags="OK" position="2200,442" size="100,100"></tw-passagedata><tw-passagedata pid="23" name="Change" tags="OK" position="2075,567" size="100,100"></tw-passagedata><tw-passagedata pid="24" name="Bed" tags="OK" position="2325,442" size="100,100"></tw-passagedata><tw-passagedata pid="25" name="Saturday" tags="OK" position="2450,442" size="100,100"></tw-passagedata><tw-passagedata pid="26" name="Leaving" tags="OK" position="2575,442" size="100,100"></tw-passagedata><tw-passagedata pid="27" name="30Early" tags="OK" position="2700,442" size="100,100"></tw-passagedata><tw-passagedata pid="28" name="60Early" tags="OK" position="2700,567" size="100,100"></tw-passagedata><tw-passagedata pid="29" name="GPS" tags="OK" position="2700,317" size="100,100"></tw-passagedata><tw-passagedata pid="30" name="Stop" tags="OK" position="2825,442" size="100,100"></tw-passagedata><tw-passagedata pid="31" name="Flower" tags="OK" position="2950,342" size="100,100"></tw-passagedata><tw-passagedata pid="32" name="Dessert" tags="OK" position="2950,492" size="100,100"></tw-passagedata><tw-passagedata pid="33" name="Nothing" tags="OK" position="2950,692" size="100,100"></tw-passagedata><tw-passagedata pid="34" name="Arrival" tags="OK" position="3325,442" size="100,100"></tw-passagedata><tw-passagedata pid="35" name="Early" tags="OK" position="3450,317" size="100,100"></tw-passagedata><tw-passagedata pid="36" name="END3" tags="END OK" position="3450,567" size="100,100"></tw-passagedata><tw-passagedata pid="37" name="Time" tags="OK" position="3450,442" size="100,100"></tw-passagedata><tw-passagedata pid="38" name="Compliment" tags="OK" position="3650,317" size="100,100"></tw-passagedata><tw-passagedata pid="39" name="END4" tags="END OK" position="3575,567" size="100,100"></tw-passagedata><tw-passagedata pid="40" name="Puzzled" tags="OK" position="3575,442" size="100,100"></tw-passagedata><tw-passagedata pid="41" name="Handshake" tags="OK" position="3825,442" size="100,100"></tw-passagedata><tw-passagedata pid="42" name="Proper" tags="OK" position="3950,442" size="100,100"></tw-passagedata><tw-passagedata pid="43" name="High5" tags="OK" position="3950,317" size="100,100"></tw-passagedata><tw-passagedata pid="44" name="END5" tags="END OK" position="3900,567" size="100,100"></tw-passagedata><tw-passagedata pid="45" name="Bouquet" tags="OK" position="4075,317" size="100,100"></tw-passagedata><tw-passagedata pid="46" name="Tally" tags="OK" position="4150,442" size="100,100"></tw-passagedata><tw-passagedata pid="47" name="Sweet" tags="OK" position="4025,567" size="100,100"></tw-passagedata><tw-passagedata pid="48" name="END6" tags="END OK" position="4275,317" size="100,100"></tw-passagedata><tw-passagedata pid="49" name="END7" tags="END OK" position="4325,442" size="100,100"></tw-passagedata><tw-passagedata pid="50" name="END8" tags="END OK" position="4325,567" size="100,100"></tw-passagedata><tw-passagedata pid="51" name="StoryCaption" tags="Sidebar" position="200,342" size="100,100">&lt;&lt;if $endingen is 1&gt;&gt;&lt;span class=&quot;plant&quot;&gt;&lt;/span&gt; [[Endings|Endings]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $endingfrm is 1&gt;&gt;&lt;span class=&quot;plant&quot;&gt;&lt;/span&gt; [[Fins|Endings]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $endingfrf is 1&gt;&gt;&lt;span class=&quot;plant&quot;&gt;&lt;/span&gt; [[Fins|Endings]]&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;plant&quot;&gt;&lt;/span&gt;[[Credits|Credit]]</tw-passagedata><tw-passagedata pid="52" name="StoryDisplayTitle" tags="Sidebar" position="450,192" size="100,100">&lt;span class=&quot;title&quot;&gt;Meeting 
the
Parents&lt;/span&gt;
&lt;span class=&quot;author&quot;&gt;by &lt;a href=&quot;https://manonamora-if.tumblr.com/&quot; target=&quot;_blank&quot;&gt;manonamora&lt;/a&gt;&lt;/span&gt;
</tw-passagedata><tw-passagedata pid="53" name="Invit" tags="OK" position="1450,442" size="100,100"></tw-passagedata><tw-passagedata pid="54" name="TitleCard_en" tags="Updated" position="725,1092" size="100,100">&lt;center&gt;&lt;img src=&quot;img/Title Card.png&quot;/&gt;&lt;/center&gt;

Every relationship passes through similar milestones. First date. First kiss. First night over. First month anniversary. First trip. First fight. Meeting each other’s friends. And many, many other. There is one, however, that is dreaded by all: //meeting their partner’s parents//.

When you meet Kelsie Sparks, a bright culinary student, one evening at a bar, something intense started burning inside you. You knew from this moment that you could not let her go. Following you 6 months into this exciting and blissful relationship, Kelsie, now girlfriend, wants to finally take the next step with you. You are to be invited to have lunch with her family. 

Will you be able to win them over and impress Kelsie? Or will you make a fool of yourself?

The future of your relationship with Kelsie will depend on the choices you make throughout the story.


&lt;div align=&#39;center&#39; style=&#39;font-size: 150%&#39;&gt;[[Start|Intro1]]&lt;/div&gt;&lt;hr&gt;
&lt;div style=&#39;font-size: 75%;&#39;&gt;This project was made with Twine. Any game running on this program is saved in your web browser. If you have used the save function in the menu and proceeded to delete your browser cookies, &#39;&#39;your save(s) will be deleted!&#39;&#39; Instead, you can use the //Export// option in that menu, to get around this issue.

The characteristics of the protagonist, including their gender, is of the reader’s imagination. For ease of reading, they are referred in gender-neutral terms. 

Thank you for playing this game! If you&#39;ve enjoyed it, consider leaving a comment and rating it.&lt;/div&gt;
&lt;&lt;resetgame&gt;&gt;</tw-passagedata><tw-passagedata pid="55" name="TitleCard_frm" tags="Translated" position="725,1767" size="100,100">&lt;center&gt;&lt;img src=&quot;img/Title Card.png&quot;/&gt;&lt;/center&gt;

Chaque relation passe par des étapes similaires. Premier rendez-vous. Premier baiser. Première nuit chez l’un ou l’autre. Célébration du premier mois ensemble. Premier voyage. Première dispute. Rencontre de ses amis. Et beaucoup, beaucoup d&#39;autres. Il y en a cependant une étape que tous redoutent : rencontrer les parents de leur partenaire.

Lorsque vous rencontrez Kelsie Sparks, une brillante étudiante en cuisine gastronomique, un soir dans un bar, quelque chose d&#39;intense a commencé à brûler en vous. Vous saviez à partir de ce moment que vous ne pouviez pas la laisser partir. Après 6 mois dans cette relation excitante et heureuse, Kelsie, maintenant votre petite amie, veut enfin franchir une nouvelle étape avec vous. Vous allez être invité à déjeuner avec sa famille.

Parviendrez-vous à impressionner Kelsie et conquérir ses parents ? Ou allez-vous vous ridiculiser ?

L&#39;avenir de votre relation avec Kelsie dépendra de vos choix tout au long de cette histoire.


&lt;div align=&#39;center&#39; style=&#39;font-size: 150%&#39;&gt;[[Démarrer|Intro1]]&lt;/div&gt;&lt;hr&gt;
&lt;div style=&#39;font-size: 75%;&#39;&gt;Ce projet a été réalisé avec Twine. Toute partie exécutée sur ce programme est enregistrée dans votre navigateur Web. Si vous avez utilisé la fonction de sauvegarde dans le menu et que vous avez supprimé les cookies de votre navigateur, &#39;&#39;vos sauvegardes seront supprimées !&#39;&#39; Vous pouvez plutôt utiliser l&#39;option //Exporter// dans le menu, pour vous éviter ce problème.

Les caractéristiques du protagoniste, y compris son sexe, relèvent de l&#39;imagination du lecteur. Pour faciliter la lecture, vous avez la possibilité de lire cette histoire en version masculine (Français M) ou féminine (Français F). Vous pouvez choisir la fonction voulue dans les paramètres.

Merci d&#39;avoir joué à ce jeu ! Si vous l&#39;avez apprécié, pensez à laisser un commentaire et à le noter.&lt;/div&gt;
&lt;&lt;resetgame&gt;&gt;</tw-passagedata><tw-passagedata pid="56" name="Intro1_en" tags="Updated" position="850,1092" size="100,100">//&#39;&#39;BZZZT... BZZZT...&#39;&#39;//
Hearing your phone&#39;s vibration beside you, you check the screen. Kelsie just texted you. You open her &lt;&lt;linkappend &quot;message.&quot;&gt;&gt;

&lt;div class=&quot;message&quot;&gt;//Can&#39;t wait for you to meet everyone tomorrow. (...)
Love you. K//&lt;/div&gt;

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;As you close your eyes, you can&#39;t help but smile. Hopefully, aside from actually meeting her parents, tomorrow should be pretty ordinary. You’ve prepared yourself. Things should not go wrong. You start to remember what brought you to this &lt;&lt;linkappend &quot;moment.&quot;&gt;&gt;

You remember meeting Kelsie a few months ago, at the bar your friends dragged you into. You were supposed to study for a test that night but you ended up agreeing to their request, after they promised you they would let you go after one drink. One drink. HA! It never ends at one, doesn&#39;t it? Your recollection of that night starts getting hazy after drink n˚3.

You do recall however noticing a gorgeous woman by the bar. She wore a flowy and flowery dress that night. Every time she made a movement, the fabric would move along and made her look ethereal. Talking to someone next to her, she would play with her long blond locks of hair.

You must have stared at her for a while, as she took notice of you and would smile at you once a while. Her piercing blue eyes seemed to shoot arrows strait to your heart. When she would do so, you would start blushing. The first time your friends saw you with red cheeks, they started joking that you already had too much to drink, while pouring you another glass.

When the blushing would disappear and appear when that woman at the bar would take a look at you, they put two and two together and moved from teasing you about your low alcohol tolerance to you having a crush.

And what a crush this was. A glance from her was all it took to spark something in your heart. You knew that if you did not approach her then, you would probably never see her again. Luckily for you, they pushed you to ditch them and talk to her instead.

Her name was Kelsie Spark. You tried to joke that she must spark a lot of fires in people’s hearts. You remember her snorting at it. You learnt that she was also a student, but was learning at the culinary school on the other side of town. That school was the most prestigious one on the continent. While seeing her gave you butterflies, it was listening to her speaking so passionately about cooking that made you fall her, hard.

Since then, any moment passed with her had been the most intense thing you had ever experienced in your life. It felt like you found your path in life after meeting her. Looking back, you can’t really remember your life before she appeared. And you can’t imagine a future without her in it.&lt;&lt;/linkappend&gt;&gt;

With happy memories in your head, you fall asleep thinking of her.

[[Continue|Intro2]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkappend&gt;&gt;</tw-passagedata><tw-passagedata pid="57" name="Intro1_frm" tags="translated" position="850,1767" size="100,100">//&#39;&#39;BZZZT... BZZZT...&#39;&#39;//
Votre téléphone vibre à côté de vous. Surpris par le bruit, vous l’attraper pour voir ce qu’il se passe. Kelsie vient de vous envoyer un texto. Vous ouvrez son &lt;&lt;linkappend &quot;message.&quot;&gt;&gt;

&lt;div class=&quot;message&quot;&gt;//J&#39;ai hâte que tu rencontres tout le monde demain. (...)
Je t&#39;aime. K//&lt;/div&gt;

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;En fermant vos yeux, vous ne pouvez pas vous empêcher de sourire. Vous espérez qu’à part rencontrer ses parents, demain soit complètement ordinaire. Vous savez que vous vous êtes bien préparé. Rien ne devrait mal se tourner. Vous essayez de vous souvenir de ce qui vous a amené à ce &lt;&lt;linkappend &quot;moment.&quot;&gt;&gt;

Vous vous souvenez avoir rencontré Kelsie quelques mois plus tôt, au bar où vos amis vous ont entraîné. Vous étiez censé étudier ce soir-là pour un examen important, mais vous aviez fini par accepter leur demande, après qu’ils vous aient promis vous laisser partir après un verre. Un verre… HA ! Rien ne s’arrête après un seul verre. Vos souvenirs commencent à devenir flous après le 3ème verre.

Cependant, une chose reste bien clair. Vous vous souvenez très bien avoir remarqué cette femme près du bar. Cette nuit-là, elle portait une robe fleurie. À chaque mouvement, le tissue ondulait autour d’elle. Cela lui donnait un air céleste. En pleine conversation avec quelqu’un proche d’elle, elle jouait avec ses longues mèches blondes.

Vous aviez dû l’avoir regardé suffisamment longuement, car elle avait fini par vous remarquer. De temps en temps, elle réciproquait et vous souriait. Ses yeux bleus perçants semblaient tirer des flèches droites vers votre cœur. Vous vous mettiez à rougir. La première fois que vos joues rougissent, vos amis avaient commencé à se moquer de vous, pensant que vous aviez déjà bu la goûte de trop, tout en vous versant un autre verre. Lorsqu’ils comprirent que le rougissement allait et venait en fonction du regard de cette femme, ils étaient passés à vous taquiner de votre béguin.

Et quel béguin se fut. Un de ses coup d’œil était suffisant pour allumer une étincelle dans votre cœur. Vous saviez à ce moment-là que vous si vous ne l’abordiez pas, vous ne la reverriez probablement jamais. Heureusement pour vous, vos amis vous ont poussé à les abandonner pour parler à cette radieuse jeune femme.

Elle s’appelait Kelsie Spark. Vous aviez essayé de plaisanter en lui disant qu’elle devait surement allumer beaucoup de feux dans le cœur des gens. Vous vous souvenez de son pouffement à votre blague. Vous aviez appris qu’elle était, comme vous, une étudiante. Elle passait par contre peu de temps de ce côté de la ville, étudiant à l’école culinaire à l’opposé. Cette école étant la plus prestigieuse du continent, les étudiants avaient peu de temps libre. Tandis qu’en la regardant Kelsie vous donnait déjà des papillons dans le ventre, c’était en l’écoutant parler de sa passion pour la cuisine qu’elle vous avait fait craquer.

Depuis lors, chaque moment passé avec elle avait été la chose la plus intense que vous aviez vécue dans votre vie. C’était comme si vous aviez trouvé le chemin de votre vie après l’avoir rencontrée. Avec un peu de recul, vous ne pouvez pas vraiment vous souvenir de votre vie avant son apparition. Et, vous ne pouvez pas imaginer un avenir sans elle.&lt;&lt;/linkappend&gt;&gt;

Avec des souvenirs heureux dans votre tête, vous vous endormez en pensant à elle.

[[Continuer|Intro2]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkappend&gt;&gt;</tw-passagedata><tw-passagedata pid="58" name="Intro2_en" tags="Updated" position="975,1092" size="100,100">&lt;div style=&quot;text-align: center;&quot;&gt;&lt;h2&gt;//One week ago//&lt;/h2&gt;&lt;/div&gt;You stand in front of Kelsie’s apartment with glee, so much so that you can hardly stand in the same spot for more than a few seconds. It had been 6 months to the day since she agreed make this official and be your girlfriend. You never thought of yourself as being the excited type when it came to celebrating milestones, especially when people barely consider this one an actual anniversary. 

Of course, you are holding gifts in your hands. You brought over a bouquet of some of her favourite flowers and a boxed assortment of chocolate she had been raving about the past few weeks. If it were up to you though, and if your wallet allowed it, you would celebrate every day and shower Kelsie with gifts.

You knock on the door, eager to see her again. In the back of your head, you remember her mentioning wanting to talk to you about something important today. You wonder what she meant about that. Usually, when your partner wants to talk to you about something but don’t elaborate on what, it is never a good omen. You bite your lip. You should have probably asked her then what kind of thing she wanted to talk about. You both had been so busy these past few days that it had slipped your mind completely. Hell, if not for the notification on your phone, you would have almost forgotten to come today.

You still hope that you are wrong on that front, and that she just has a good surprise waiting for you inside. In the back of your mind though, you start spiralling a bit, recollecting whatever moment you think you may have made a mistake, whatever think you have uttered that could have been taken the wrong way, whatever moment you had taken an action and not the other.

Deep in your thoughts, you barely notice the door opening in front of you, that is until Kelsie fully appears. She seems to be materializing directly out of your first memory of her. The one where she sits at the bar with that dress. The door having been open, the air from the hall flows inside Kelsie’s apartment, weaving through the layers of fabric from her dress. With it flowing around her, you can’t help but mistake yourself standing in the bar, facing her, 6 months ago. She is glowing now more than ever. You ears are buzzing with the sound of your heart pounding through your chest.

She squeals your name.

&lt;label&gt;What is your name?
&lt;&lt;textbox &quot;$name&quot; &quot;Type in&quot;&gt;&gt;&lt;/label&gt;

[[Confirm|Inside]]

</tw-passagedata><tw-passagedata pid="59" name="Intro2_frm" tags="translated" position="975,1767" size="100,100">&lt;div style=&quot;text-align: center;&quot;&gt;&lt;h2&gt;//Une semaine plus tôt//&lt;/h2&gt;&lt;/div&gt;Vous vous tenez devant l’appartement de Kelsie, radieux de joie. Tellement joyeux que vous ne pouvez à peine rester debout au même endroit pendant plus que quelques seconds. Cela fait déjà 6 mois jour pour jour que Kelsie avait accepté de rendre cette relation officielle et de devenir votre petite-amie. Vous ne vous êtes jamais considéré comme une personne excitée de célébrer ce genre d’étapes. Surtout lorsque la plupart des gens ne considèrent pas vraiment celui-ci comme un véritable anniversaire.

Évidemment, vous êtes arrivé sur le pas de porte, cadeaux en main. Vous avez apporté un bouquet contenant certaines de ses fleurs préférées, ainsi qu’une boîte de chocolats assortis, dont elle raffolait ces dernières semaines. Si cela ne tenait qu’à vous, et si votre portefeuille le permettait, vous fêteriez votre relation tous les jours, et combleriez Kelsie de cadeaux.

Vous frappez à la porte, impatient de la revoir. Au fond de votre esprit, vous vous souvenez qu’elle avait mentionné vouloir vous parler de quelque chose d’important aujourd’hui. Vous vous demandez ce qu’elle voulait dire à ce sujet. En général, lorsque votre partenaire veut parler de quelque chose d’important mais ne précise pas son sujet, ce n’est jamais un bon augure. Vous pincez vos lèvres. Vous auriez probablement dû lui demander à ce moment-là d’élaborer un peu plus. Vous aviez tous les deux été si occupés ces derniers jours que cela vous avait complètement échappé. Si vous n’aviez pas créé une alarme pour ce rendez-vous, vous auriez surement oublié de venir aujourd’hui !

Vous espérez tout de même que vos peurs vous trompent un peu sur ce front, et que Kelsie a juste organisé une bonne surprise à l’intérieur. Au fond de vous cependant, vous tournez en rond dans un cercle vicieux. Des souvenirs surgissent dans votre esprit, des moments où vous pensez avoir fait une erreur, avoir dit quelque chose de travers, avoir pris le mauvais chemin.

Noyé dans vos pensées, vous ne remarquez à peine la porte s’ouvrant devant vous. Du moins, jusqu’à ce que Kelsie apparaisse complètement. Elle semble s’être matérialisée, devant vous, directement de votre premier souvenir d’elle. Ce tout premier moment l’avoir aperçue, assise au bar, avec cette robe à peine déposée sur son corps.

La porte entre-ouverte, l’air du couloir s’échappe vers l’intérieur de l’appartement, se faufilant à travers les tissus de sa robe. Sa robe dansant autour de Kelsie, vous ne pouvez pas vous empêchez de penser être encore dans ce bar, face à Kelsie, il y a 6 mois. Même si elle brille tellement plus qu’avant. Vos oreilles bourdonnent du son de votre cœur qui bat la chamade dans votre poitrine.
 
Vous l’entendez à peine couiner votre nom.

&lt;label&gt;Quel est votre nom ?
&lt;&lt;textbox &quot;$name&quot; &quot;Tapez ici&quot;&gt;&gt;&lt;/label&gt;

[[Confirmer|Inside]]

</tw-passagedata><tw-passagedata pid="60" name="Inside_en" tags="Updated" position="1100,1092" size="100,100">//“$name!”//

Kelsie throws herself at you, wrapping her arms tightly around your neck. Your face is buried in her golden hair, smelling like a field of lavender just after it has rained. It feels like a holiday you never want to end. A few seconds pass before she decides to release herself from you.

//“Come on inside, sweetie. I have been waiting for you”//, she says to you grinning from ear to ear.

Still speechless from the sight in front of you, your mouth now agape, her words seem to get into one ear just to come out of the other. Your brain does not know what to do but stare in awe at her. She waves gently her hand in front of you head, until your face finally twitches and you are brought back to reality.

Coming back to your senses, you smile back at her. She starts taking a few steps back so you can enter the apartment. You follow suit and awkwardly hand her your gifts. She looks at you surprised and touched.

//“For me? Oh $name! How sweet of you. You really shouldn&#39;t have.”//

She first takes the box of sweets, smiles at you and nests it under her arm. She then takes the flowers into her hands, closes her eyes and inhales slowly their perfume. She opens her eyes and exclaims:

//“I really can&#39;t believe you $name. It’s beautiful. But I told you to just bring yourself today. You really didn&#39;t need to go out of your way to bring anything.”//

She pauses for a moment, bringing her gaze back at the bouquet, carefully looking at its composition. 

//“Let&#39;s see what you chose. Roses... Heliotrope...  a few Tulips.... Some branches of fern... If I didn&#39;t know any better, I would say you were trying to send me a message.”// She winks at you and laughs. //“Hahaha. You really are just too sweet, $name.”//

* /* [[What]] */&lt;&lt;link &quot;//“It&#39;s just flowers Kelsie. There are no messages behind it. You know, you can just say so if you don&#39;t like them. Ugh! I guess you&#39;re right. I shouldn&#39;t have bought anything.”//&quot; &quot;What&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* /* [[Praise]] */&lt;&lt;link &quot;//“Oh, you know! It&#39;s nothing much really, just some meaningful flowers and some delicious chocolate,”// as you wink at her&quot; &quot;Praise&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* [[You continue to say nothing.|Shy]]</tw-passagedata><tw-passagedata pid="61" name="Inside_frm" tags="translated" position="1100,1767" size="100,100">//« $name ! »//

Kelsie se jette sur vous, enroulant ses bras étroitement autour de votre cou. Votre visage est enfoui dans ses cheveux dorés, qui sentent comme un champ de lavande juste après un orage. On se sent en vacances dans ses bras, des vacances que l’on ne veut jamais voir finir. Quelques secondes s’écoulent avant qu’elle se décide de libérer votre cou.

//« Viens, rentre à l’intérieur, mon chou. J’attendais ton arrivée »//, te dit-elle en souriant jusqu&#39;aux oreilles.

Toujours sans voix du fait de la vue devant vous, votre bouche maintenant ouverte, ses mots semblent entrer dans une oreille juste pour sortir de l&#39;autre. Votre cerveau ne sait pas quoi faire à part la regarder avec admiration. Elle agite doucement sa main devant votre tête, jusqu&#39;à ce que votre visage se contracte enfin et que vous soyez ramené à la réalité.

Revenant à vos sens, vous la souriez en retour. Elle commence à reculer de quelques pas pour que vous puissiez entrer dans l&#39;appartement. Vous lui emboîtez le pas et lui tendez maladroitement vos offrandes. Elle vous regarde d’abord surprise puis touchée.

//« Pour moi ? Oh $name ! Comme c&#39;est gentil. Tu n&#39;aurais vraiment pas dû. »//

Elle prend d&#39;abord la boîte de bonbons, vous sourit et la niche sous son bras. Elle prend ensuite les fleurs dans ses mains, ferme les yeux et inhale lentement leur parfum. Elle ouvre les yeux et s&#39;exclame :

//« Je ne peux vraiment pas te croire $name. Qu’est-ce que c’est beau. »// Puis après un court silence. //« Mais je t&#39;ai dit de seulement te ramener aujourd&#39;hui. Tu n&#39;avais vraiment pas besoin d’apporter quoi que ce soit. »//

Elle s&#39;arrête un instant, ramenant son regard sur le bouquet, examinant attentivement sa composition.

//« Voyons tout de même ce que tu as choisi. Des roses... Héliotrope... Quelques tulipes... Quelques branches de fougère... Si je ne savais pas mieux, je dirais que tu essayais de m&#39;envoyer un message. »// Elle vous fait un clin d&#39;œil et rit. //« Hahaha. Tu es vraiment trop gentil, $name. »//

* /* [[What]] */&lt;&lt;link &quot;//« Ce sont juste des fleurs Kelsie. Il n&#39;y a aucun message caché. Tu sais, tu peux juste le dire clairement si tu ne les aimes pas. Pouah ! Tu as raison. Je n&#39;aurais pas dû acheter quoi que ce soit. »//&quot; &quot;What&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* /* [[Praise]] */&lt;&lt;link &quot;//« Oh, tu sais ! Ce n&#39;est pas grand-chose en fait, juste quelques fleurs significatives et du délicieux chocolat »//, alors que vous lui retourniez son clin d&#39;œil.&quot; &quot;Praise&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* [[Vous ne dites rien. |Shy]]</tw-passagedata><tw-passagedata pid="62" name="Shy_en" tags="Updated" position="1225,967" size="100,100">You still don&#39;t mutter a word.

//“Earth to $name, is anyone here?”// chimes in Kelsie.

To show her you are still here, you nod and start blushing. You usually have so much to say, so many smart things or pun-y jokes. But today… Well, today is different. It’s like you hit writer’s block in your head. You had made up your mind earlier today that you would finally tell her you loved her. You tried to hint at it with the flowers. Seeing her reaction, you are pretty sure she took the bait and noticed.

//“Are you ok, $name?”
“What... Oh! Yes! Yes, I am fine.”
“I think I lost you to your thoughts for a bit.”
“You didn’t really lose me. I was thinking about you.”//


Kelsie’s cheeks start to colour. They look like two cute little peonies that have yet to bloom.

//“I... I should take care of these beautiful flowers,”// she says, changing the subject. //“You know; they shouldn&#39;t stay out of water for too long. Can you pass me the green vase over there?”// 

She points at a green glass object the window next to you. You pick it up and follow her further inside her apartment. She mutters, smiling, her nose back in the flowers:
//“What a fool, &lt;&lt;linkappend &quot;remembering something like this&quot;&gt;&gt;&lt;&lt;set $memory to &quot;flower&quot;&gt;&gt;&lt;&lt;dialog &#39;Your Memory&#39;&gt;&gt;\You recall the first night you met Kelsie. After complimenting her dress, she jokingly said that she was from a family of flower nerds. This moment stuck in your memory because you snickered so hard when she had mentioned //flower nerd// that part of your drink almost blurted out of your nose. Laughing at you, she added that if she was not learning to be a cook she would probably have opened a flower shop. You also remembered her telling you that her grandmother had taught her the meaning when she was younger.\&lt;&lt;/dialog&gt;&gt;&lt;&lt;/linkappend&gt;&gt;.”//

In the kitchen, she puts down the flowers on the counter, by the sink. She opens on of her cabinets to put away the box of chocolate. She takes and vase from your hands and fills it up with some water. She unropes the bouquet and adds it to the vase. Happy with how it looks, she turns to you.

//“You are very good timing, $name. Food is as good as done. How about you got take a sit. I&#39;ll be there in a minute.”//

You follow her instruction and sit at the table, waiting for her to join you.

[[Continue|SetUp]]

 </tw-passagedata><tw-passagedata pid="63" name="Shy_frm" tags="translated" position="1225,1642" size="100,100">Aucun son ne sort de votre bouche.

//« Terre à $name ? Dis-donc, tu es dans la Lune mon chou. » //

Montrant que vous soyez toujours présent, vous hochez la tête. Vos joues rougissent. Vous êtes normalement un moulin à parole, que ce soit pour des choses intelligentes ou des blagues bien bêtes. Mais aujourd’hui… Eh bien, aujourd’hui c’est différent. Votre esprit est comme une page blanche qui ne veuille absorber aucune goutte d’encre. Vous aviez prévu d’enfin lui avouer votre flamme. Pour une raison ou une autre, ces mots doux ne veulent pas passer votre bouche. Vous avez essayé d’y faire allusion avec le bouquet que vous avez apporté. En voyant la réaction de Kelsie, vous êtes presque certain qu’elle a mordu à votre hameçon.

//« Est-ce que ça va, $name ? »
« Quoi... Oh ! Oui ! Oui, tout va bien. »
« Je pensais t’avoir perdu dans tes pensées. »
« Tu ne m&#39;as pas vraiment perdu. Je pensais à toi. »//

Les joues de Kelsie se colorent. Elles ressemblent à deux mignonnes petites pivoines qui n&#39;ont pas encore fleuri.

//« Je... je devrais m&#39;occuper de ces belles fleurs »//, dit-elle, changeant de sujet. //« Tu sais, elles ne doivent pas rester hors de l&#39;eau trop longtemps. Tu peux me passer le vase vert ? Celui là-bas ? »//

Elle pointe vers un objet en verre près de la fenêtre à côté de vous. Vous le ramassez et la suivez plus loin dans son appartement. Elle marmonne en souriant, le nez de nouveau dans les fleurs :
//« Quel fou, &lt;&lt;linkappend &quot;se souvenir de quelque chose comme ça&quot;&gt;&gt;&lt;&lt;set $memory to &quot;flower&quot;&gt;&gt;&lt;&lt;dialog &#39;Votre Souvenir&#39;&gt;&gt;\Vous vous souvenez de la première nuit où vous avez rencontré Kelsie. Après avoir complimenté sa robe, elle dit en plaisantant que dans sa famille, tout le monde était un peu des intellos quand cela concernait les fleurs. Ce moment est resté dans votre mémoire parce que vous aviez rigolé si fort, qu&#39;une partie de votre boisson avait presque jailli de votre nez. En se moquant de vous, elle a ajouté que si elle n&#39;avait pas appris à être cuisinière, elle serait probablement devenue fleuriste. Vous vous souvenez aussi vous avoir dit que sa grand-mère lui avait appris la signification des fleurs quand elle était plus petite.\&lt;&lt;/dialog&gt;&gt;&lt;&lt;/linkappend&gt;&gt;. »//

Dans la cuisine, elle pose les fleurs sur le plan de travail, près de l&#39;évier. Elle ouvre un de ses placards pour ranger la boîte de chocolat. Elle récupère le vase de vos mains et le remplit d&#39;eau. Elle dénoue la corde retenant le bouquet en place et l&#39;ajoute au vase. Heureuse du résultat, elle se tourne vers vous.

//« Tu es arrivé bien à temps, $name. Le plat est presque prêt. Va t&#39;asseoir. Je te suis dans une minute. »//

Vous suivez ses instructions et vous vous asseyez à table, en attendant qu&#39;elle vous rejoigne.

[[Continuer|SetUp]]</tw-passagedata><tw-passagedata pid="64" name="Praise_en" tags="Updated" position="1225,1092" size="100,100">//“Oh, you know! It&#39;s nothing much really, just some meaningful flowers and some delicious chocolate,”// you say as you wink at her.
//“You really know how to treat a lady, don&#39;t you $name.”
“I am glad you enjoy them. I was hoping I did not do too much with it.”
“Even if you do too much, when it comes to this, you won&#39;t see me complain.”
“Oh please, Kelsie. Keep these compliments coming,”// you say teasingly.

She laughs. God, how you love that laugh of hers. And the way her smile illuminates her face. And how happy she looks. You just want to fall into your knees and cry out how much you love her. You&#39;ve never said it out loud to her so far, but it feels right to you. You have to do it tonight!

//“Well I can go all night long with this if you want,”// she snickers. //“But before that, I should put these beautiful flowers in water. Can you pass me the green vase over there?”//

She points at a green glass object the window next to you. You pick it up and follow her further inside her apartment. She mutters, smiling, her nose back in the flowers:
//“I really can&#39;t believe you &lt;&lt;linkappend &quot;remembered this&quot;&gt;&gt;&lt;&lt;set $memory to &quot;flower&quot;&gt;&gt;&lt;&lt;dialog &#39;Your Memory&#39;&gt;&gt;\You recall the first night you met Kelsie. After complimenting her dress, she jokingly said that she was from a family of flower nerds. This moment stuck in your memory because you snickered so hard when she had mentioned //flower nerd// that part of your drink almost blurted out of your nose. Laughing at you, she added that if she was not learning to be a cook she would probably have opened a flower shop. You also remembered her telling you that her grandmother had taught her the meaning when she was younger.\&lt;&lt;/dialog&gt;&gt;&lt;&lt;/linkappend&gt;&gt;.”//

In the kitchen, she puts down the flowers on the counter, by the sink. She opens on of her cabinets to put away the box of chocolate. She takes and vase from your hands and fills it up with some water. She unropes the bouquet and adds it to the vase. Happy with how it looks, she turns to you.

//“You are very good timing, $name. Food is as good as done. How about you got take a sit. I&#39;ll be there in a minute.”//

You follow her instruction and sit at the table, waiting for her to join you.

[[Continue|SetUp]]
</tw-passagedata><tw-passagedata pid="65" name="Praise_frm" tags="translated" position="1225,1767" size="100,100">//« Ah, tu sais ! Ce n&#39;est pas grand-chose en fait, juste quelques fleurs significatives et du chocolat délicieux »//, dites-vous en lui faisant un clin d&#39;œil.
//« Tu sais vraiment comment traiter les femmes, n&#39;est-ce pas $name. »
« Je suis content que tu les apprécies. J&#39;espérais ne pas en avoir trop fait. »
« Même si tu en faisais trop, quand il s&#39;agit de ce genre de présent, tu ne me verras jamais me plaindre. »
« Oh s&#39;il te plaît, Kelsie. Continue avec ces compliments »//, dites-vous d&#39;un ton taquin.

Elle rit. Comment vous aimez son rire. Et la façon dont son sourire illumine son visage. Et comment elle a l&#39;air heureuse. Vous voulez juste tomber à genoux et crier combien vous l&#39;aimez. Vous ne l’avez jamais avoué à voix haute jusqu&#39;à présent, mais cela vous semble juste. Ce sera ce soir ou jamais !

//« Oh ! Tu verras, je peux continuer comme ça toute la nuit, » // ricane-t-elle. //« Mais avant tout, je devrais mettre ces belles fleurs dans l&#39;eau. Tu peux me passer le vase vert ? Celui là-bas ? »//

Elle pointe vers un objet en verre près de la fenêtre à côté de vous. Vous le ramassez et la suivez plus loin dans son appartement. Elle marmonne en souriant, le nez de nouveau dans les fleurs :
// « Je n’y crois pas. &lt;&lt;linkappend &quot;Tu t’en souviens&quot;&gt;&gt;&lt;&lt;set $memory to &quot;flower&quot;&gt;&gt;&lt;&lt;dialog &#39;Votre Souvenir&#39;&gt;&gt;\Vous vous souvenez de la première nuit où vous avez rencontré Kelsie. Après avoir complimenté sa robe, elle dit en plaisantant que dans sa famille, tout le monde était un peu des intellos quand cela concernait les fleurs. Ce moment est resté dans votre mémoire parce que vous aviez rigolé si fort, qu&#39;une partie de votre boisson avait presque jailli de votre nez. En se moquant de vous, elle a ajouté que si elle n&#39;avait pas appris à être cuisinière, elle serait probablement devenue fleuriste. Vous vous souvenez aussi vous avoir dit que sa grand-mère lui avait appris la signification des fleurs quand elle était plus petite.\&lt;&lt;/dialog&gt;&gt;&lt;&lt;/linkappend&gt;&gt;. »//

Dans la cuisine, elle pose les fleurs sur le plan de travail, près de l&#39;évier. Elle ouvre un de ses placards pour ranger la boîte de chocolat. Elle récupère le vase de vos mains et le remplit d&#39;eau. Elle dénoue la corde retenant le bouquet en place et l&#39;ajoute au vase. Heureuse du résultat, elle se tourne vers vous.

//« Tu es arrivé bien à temps, $name. Le plat est presque prêt. Va t&#39;asseoir. Je te suis dans une minute. »//

Vous suivez ses instructions et vous vous asseyez à table, en attendant qu&#39;elle vous rejoigne.

[[Continuer|SetUp]]
</tw-passagedata><tw-passagedata pid="66" name="What_en" tags="Updated" position="1225,1217" size="100,100">//“It&#39;s just flowers Kelsie. There are no messages behind it. You know, you can just say so if you don&#39;t like them.”// You throw your hands in the air. //“Ugh! I guess you&#39;re right. I shouldn&#39;t have bought anything.” 
“Ok, chill $name. I was just teasing you a bit. I thought we agreed no gifts today. I was just surprised to see you brought something. That&#39;s all.”
“No gifts? Come on, Kelsie. When it&#39;s an occasion like this, there is no such thing as no gift,”// air-quoting the last two words. Then pointing at the presents: //“Do you know how expensive these things were? You think I am just rolling in money?”
“Or you could just listen to people when they tell you what they want or don&#39;t want, you know.”// She sighs. //“Also, didn&#39;t you hear what I said when I saw you handed my these”
“Stop it with the sarcasm, Kelsie. I don&#39;t need it today. Or reminders of it. I thought you would appreciate my effort and just thank me for once.”
“Seriously $name. I was really appreciating it. I really do like them.”
“Then why didn&#39;t you say so in the first place? Always with the secret talk and weird message with you.”//

Kelsie takes a step back from you, looking dejected. She first hands you back the flowers, and as her hands are free, takes the box of chocolate from under her arms and hands it to you as well. She brings her arms around her, her hands grabbing them tightly. Her eyes avoid your gaze.

//“Really, Kelsie? You&#39;re gonna act like that just because of some flowers,”// you complain, pointing at her face with the flowers. //“God. I knew something was wrong when you said you wanted to talk. You know what, I don&#39;t think I can do whatever this was,”// you claim, still waving the bouquet around.

Kelsie looks at the bouquet, then down at the floor. Some of the flowers have lost their petals, having been shaken around so much. She sighs sadly.

//“I guess you&#39;re right. There’s no need to celebrate anything anymore. We don’t need to pretend this is a thing either…”
“Yeah... we don&#39;t.”//

You turn around, angrily clenching the bouquet in your hands. Petals trailing behind you, you throw it on the floor. They are ruined anyway. You leave Kelsie’s apartment without looking back.

[[Continue|END1]]</tw-passagedata><tw-passagedata pid="67" name="What_frm" tags="translated" position="1225,1892" size="100,100">//« Ce sont juste des fleurs Kelsie. Il n&#39;y a aucun message caché. Tu peux simplement le dire si tu ne les aime pas. » //Vous jetez vos mains en l&#39;air. //« Pouah! Tu as raison en fait. Je n&#39;aurais pas dû acheter quoi que ce soit. » 
« Ok, relax $name. C’était juste pour te taquiner un peu. Je pensais juste qu’on s’était mis d’accord pour ne pas s’offrir quoi que ce soit aujourd’hui. J’étais juste surprise de voir que tu avais apporté quelque chose. C’est tout. »
« Pas de cadeaux ? Soit un peu réaliste, Kelsie. Quand c&#39;est une occasion comme celle-ci, c’est quand même obligatoire »//, vous roulez des yeux. Puis montrant les cadeaux : //« Tu sais combien ça coûte tout ça ? Tu penses vraiment que je roule sur l’or ? »
« Ou tu aurais simplement pu écouter les gens un peu, surtout quand ils te disent ce qu&#39;ils veulent ou ne veulent pas. »// Elle soupire. //« Aussi, est-ce que tu as entendu ce que j&#39;ai dit quand je les ai reçus ?»
« Arrête avec le sarcasme, Kelsie. Je n&#39;en ai vraiment pas besoin aujourd&#39;hui. Ou que tu me rappelles à l’ordre non plus. Je pensais que tu apprécierais mes efforts un minimum pour une fois. »
« Sérieusement $name. Je l&#39;appréciais vraiment. Je les aime vraiment. »
« Si c’est la vérité, pourquoi tu ne l&#39;as pas dit directement ? Toujours besoin de lire entre les ligne avec toi. »//

Kelsie fait un pas en arrière, l&#39;air abattu. Elle vous rend d&#39;abord les fleurs, puis, comme ses mains sont libres, elle prend la boîte de chocolat sous son bras et vous la remet également. Elle s’enveloppe dans ses bras, ses mains les agrippant fermement. Ses yeux évitent votre regard.

//« Vraiment, Kelsie ? Tu vas agir comme ça juste à cause de quelques fleurs »// , vous plaignez-vous en pointant son visage avec les fleurs. //« Pff. Je savais que quelque chose n&#39;allait pas quand tu disais vouloir parler. Tu sais quoi, je ne pense pas que j’ai la tête à faire quoi que ce soit ici »//, revendiquez-vous, en agitant toujours au bouquet.

Kelsie regarde le bouquet, puis vers le sol. Certaines fleurs ont déjà perdu leurs pétales à force d&#39;avoir été secouées. Elle soupire tristement.

//« Je suppose que tu as raison. Il n&#39;y a plus besoin de célébrer quoi que ce soit. On n’a pas non plus besoin de prétendre que… »// Elle ne finit même pas sa phrase.
//« Ouais... Pas besoin. »//

Vous vous revenez sur vos pas, serrant rageusement le bouquet dans vos mains. Pétales traînant derrière vous, vous jetez le bouquet par terre. Les fleurs sont de toute façons ruinées. Vous quittez l&#39;appartement de Kelsie sans vous retourner.

[[Continuer|END1]]</tw-passagedata><tw-passagedata pid="68" name="END1_en" tags="Updated END" position="1100,1217" size="100,100">&lt;&lt;set $nomeeting to true&gt;&gt;You leave Kelsie’s apartment without looking back.

You never ended up finding out what Kelsie really wanted to talk about. Your mind was so set on her going to break up with you, that it became reality. You still can’t imagine why she would break up with you though. You know how good of a catch you are!

For a hot second, you tried to question yourself and your choices prior to that last meeting, but can&#39;t seem you find any fault in yourself or your actions. In your mind, it was all Kelsie’s. She just ticked you off and overreacted at you.

Speaking of Kelsie, after that disastrous encounter, you never end up hearing from her. At least not directly. She stopped replying to your messages and screened your calls. You heard from a friend of a friend that she had found someone new and that she never brought you up. It was obvious that this relationship was truly over.

Even after being in new relationships yourself after that, you kept thinking of Kelsie as your one true love and the one who got away. You continue to keep tab on her often, though it became more difficult when she started blocking you on social media. You were always quick to blame her for any of your new relationship failing, even if you had not talked to her since that evening.


&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;“No invitation”&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="69" name="END1_frm" tags="translated END" position="1100,1892" size="100,100">&lt;&lt;set $nomeeting to true&gt;&gt;Vous quittez l&#39;appartement de Kelsie sans vous retourner.

Vous n’avez jamais découvert ce que Kelsie voulait vraiment discuter. Votre esprit était tellement déterminé sur l’idée qu&#39;elle allait rompre avec vous, que ceci est devenu réalité. Cependant, vous ne pouvez toujours pas comprendre pourquoi elle romprait avec vous. Vous savez à quel point vous êtes quelqu’un de bien !

Pendant une courte minute, vous avez essayé de vous remettre un peu en question, ainsi que vos choix vous ayant mené à cette interaction finale. En revanche, vous ne trouvez aucune faute dans vos actions. D’après vous, tout doit être sur les épaules de Kelsie. Ses commentaires vous ont juste agacé et elle avait réagi de manière vraiment excessive.

En parlant de Kelsie, après cette rencontre désastreuse, vous n&#39;entendez plus jamais parler d&#39;elle. Du moins pas directement. Elle a cessé de répondre à vos messages et a filtré vos appels. Vous avez entendu de la part d&#39;un ami d&#39;un ami que non seulement elle avait rencontré quelqu&#39;un de nouveau, elle ne vous mentionnait jamais. C’est devenu évident que cette relation était vraiment terminée.

Même après avoir été vous-même dans de nouvelles relations après ce fiasco, vous continuiez à penser à Kelsie comme votre seul véritable amour et celui qui vous avait échappé de vos mains. Vous continuiez à la surveiller souvent, même si cela était devenu plus difficile lorsqu&#39;elle a commencé à vous bloquer sur les réseaux sociaux. Vous avez toujours été prompt à la blâmer pour l&#39;échec de vos nouvelles relations, même si vous ne lui aviez pas parlé face-à-face depuis ce soir-là.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Pas d&#39;invitation »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="70" name="Endings_en" tags="Updated" position="275,467" size="100,100">&lt;&lt;if def $nomeeting and $conspiracy and $tantrum and $endtime and $endoutfit and $endshake and $cheating and $ghosting and $faded and $fairytale&gt;&gt;&lt;img src=&quot;img/ach.png&quot;&gt; Congratulation! You have found all the possible endings!

&lt;&lt;/if&gt;&gt;&#39;&#39;Ending 1:&#39;&#39; &lt;&lt;if $nomeeting is true&gt;&gt;&#39;&#39;“No Invitation”&#39;&#39;
Something in Kelsie’s way of complimenting you ticked you off and you did not hold back. Rather than celebrating this anniversary with her, you berated her for her choice of words. 
You ended up even leaving before she was able to tell you the reason she wanted to talk. You never received the said invitation to meet her parents.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Ending 2:&#39;&#39; &lt;&lt;if $conspiracy is true&gt;&gt;&#39;&#39;“Conspiracies… Conspiracies Everywhere”&#39;&#39;
Dinner had been pleasant until Kelsie gave you an impossible choice, wanting you to meet her parents. Seeing through her “deceptions”, you called her out on it and other “mind games” she had been playing on you all this time. Obviously, this did not please Kelsie, who kicked you out of her apartment, and consequently her life.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Ending 3:&#39;&#39; &lt;&lt;if $tantrum is true&gt;&gt;&#39;&#39;“Temper Tantrum”&#39;&#39;
Having been refused service at the &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;bakery&lt;&lt;else&gt;&gt;flower shop&lt;&lt;/if&gt;&gt;, something nasty started puppeteering your body. It ends up trashing the place and your relationship with Kelsie. Instead of making it to the Sparks’, you ended up at the police station.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Ending 4:&#39;&#39; &lt;&lt;if $endtime is true&gt;&gt;&#39;&#39;“Time is only a societal construct”&#39;&#39;
Underestimating the available time you needed to arrive in a timely manner at the Spark’s home, you end up making a fool not only of yourself but of Kelsie. You arrive so late that they already had started eating lunch without you. After a row towards you, Kelsie does not even give you the chance to explain, apologize or make it up to her.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Ending 5:&#39;&#39; &lt;&lt;if $endoutfit is true&gt;&gt;&#39;&#39;“This is not Spring Break yet”&#39;&#39;
For some reason, you chose to wear something that Borat would at the beach. While this could have been a sick prank, this was not the place or time to pull it off. With no backup to change into, Kelsie refuse to let you in further. You were this close to see her parents.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Ending 6:&#39;&#39; &lt;&lt;if $endshake is true&gt;&gt;&#39;&#39;“Breaking Bones”&#39;&#39;
You chose to assert your dominance over Kelsie&#39;s dad through the customary strong handshake. However, you took it way too far and left John injured. You traumatized Kelsie&#39;s family and any potential partner who would hear the story later on.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Ending 7:&#39;&#39; &lt;&lt;if $cheating is true&gt;&gt;&#39;&#39;“Cheating”&#39;&#39;
After accepting Jessie’s number at the bakery, you spend most of the lunch at the Sparks’ texting her. Even though she does notice, Kelsie does not say anything about it until after the day is over. Turns out, both of your actions hurt each other that day. She does not understand how her comments and missing information hurt you, while you don’t understand how getting a stranger’s phone number and texting them hurt her. You end up parting ways with a lot of bitterness.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Ending 8:&#39;&#39; &lt;&lt;if $ghosting is true&gt;&gt;&#39;&#39;“Ghosting”&#39;&#39;
You’ve managed to go through all of the hoops the Sparks threw at you, but barely. You did not seem to make a good enough impression on Kelsie’s parents to warrant a warm response from them. They have pretty much ignored you the whole afternoon. Kelsie is not impressed with you either, leaving you stranded on the relationship road.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Ending 9:&#39;&#39; &lt;&lt;if $faded is true&gt;&gt;&#39;&#39;“Faded away”&#39;&#39;
You went through the day somewhat unscathed. Kelsie&#39;s parents are lukewarm towards you. You did not make too many mistakes that Kelsie would break up with you right away. But you made enough specific choices that left Kelsie somewhat indifferent towards this relationship later on. It starts to fizzle out in times. One day, she ends up leaving you through a letter.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
&#39;&#39;Ending 10:&#39;&#39; &lt;&lt;if $fairytale is true&gt;&gt;&#39;&#39;“Fairytale Ending”&#39;&#39;
You could not have made it through the day in any better way, even if you tried. You really impressed Kelsie’s parents, who hope to see you come around more often. They also hint at you meeting more of the family in the future. Your choices only affirmed what Kelsie thought of and talked about you. Do I hear wedding bells in the distance?&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Not Found&#39;&#39;@@&lt;&lt;/if&gt;&gt;

</tw-passagedata><tw-passagedata pid="71" name="Endings_frm" tags="translated" position="275,592" size="100,100">&lt;&lt;if def $nomeeting and $conspiracy and $tantrum and $endtime and $endoutfit and $endshake and $cheating and $ghosting and $faded and $fairytale&gt;&gt;&lt;img src=&quot;img/ach.png&quot;&gt; Félicitations ! Vous avez trouvé toutes les fins possibles !

&lt;&lt;/if&gt;&gt;&#39;&#39;Fin 1:&#39;&#39; &lt;&lt;if $nomeeting is true&gt;&gt;&#39;&#39;« Pas d&#39;Invitation »&#39;&#39;
Quelque chose dans la façon dont Kelsie vous a complimenté vous a agacé et vous ne vous êtes pas retenu. Plutôt que de célébrer cet anniversaire avec elle, vous l&#39;avez réprimandée pour son choix de mots.
Vous avez même fini par partir avant qu&#39;elle ne puisse vous dire la raison pour laquelle elle voulait vous parler. Vous n&#39;avez jamais reçu ladite invitation à rencontrer ses parents.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 2:&#39;&#39; &lt;&lt;if $conspiracy is true&gt;&gt;&#39;&#39;« Conspirations… Conspirations partout »&#39;&#39;
Le dîner avait été agréable jusqu&#39;à ce que Kelsie vous propose un choix impossible, voulant que vous rencontriez ses parents. Voyant à travers ses &quot;duperies&quot;, vous l&#39;avez humiliée pour ses actions et ses manigances. Évidemment, cela n&#39;a pas plu à Kelsie, qui vous a expulsé de son appartement, et par conséquent de sa vie&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 3:&#39;&#39; &lt;&lt;if $tantrum is true&gt;&gt;&#39;&#39;« Caprice »&#39;&#39;
Après s&#39;être vu refuser service &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;à la boulangerie&lt;&lt;else&gt;&gt;chez le fleuriste&lt;&lt;/if&gt;&gt;, quelque chose de mauvais a commencé à manipuler votre corps comme une marionnette. Cela finit par saccager la boutique et votre relation avec Kelsie. Au lieu de vous rendre chez les Sparks, vous vous êtes retrouvé au poste de police.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 4:&#39;&#39; &lt;&lt;if $endtime is true&gt;&gt;&#39;&#39;« Le temps n&#39;est qu&#39;une construction sociétale »&#39;&#39;
En sous-estimant le temps dont vous aviez besoin pour arriver à temps chez les Sparks, vous finissez par ridiculiser non seulement vous-même mais aussi Kelsie. Vous arrivez si tard qu&#39;ils avaient déjà commencé à déjeuner sans vous. Après une dispute contre votre égard, Kelsie ne vous donne même pas la chance pour vous expliquer, vous excuser ou vous racheter.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 5:&#39;&#39; &lt;&lt;if $endoutfit is true&gt;&gt;&#39;&#39;« Ce n&#39;est pas encore les vacances »&#39;&#39;
Pour une raison quelconque, vous avez choisi de porter quelque chose que Borat porterait à la plage. Bien que cela aurait pu être une bonne farce, ce n&#39;était pas le lieu ni le moment pour le faire. Sans tenue de rechange, Kelsie refuse de vous laisser entrer plus loin. Vous étiez si proche de rencontrer ses parents. &lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 6:&#39;&#39; &lt;&lt;if $endshake is true&gt;&gt;&#39;&#39;« Briser des os »&#39;&#39;
Vous avez choisi d&#39;affirmer votre domination envers le père de Kelsie par une traditionnelle forte poignée de main. Cependant, vous êtes allé trop loin et avez laissé John blessé. Vous avez traumatisé la famille de Kelsie et tous vos partenaires potentiels qui entendraient parler de l&#39;histoire plus tard.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 7:&#39;&#39; &lt;&lt;if $cheating is true&gt;&gt;&#39;&#39;« Infidélité »&#39;&#39;
Après avoir accepté le numéro de Jessie à la boulangerie, vous passez la majeure partie du déjeuner chez les Sparks à lui envoyer des messages. Même si elle le remarque, Kelsie ne dit rien à ce sujet jusqu&#39;à la fin de la journée. Il s&#39;avère que vos actions vous ont mutuellement blessés ce jour-là. Elle ne comprend pas comment ses commentaires vous blessent, alors que vous ne comprenez pas comment obtenir le numéro de téléphone d&#39;une étrangère et lui envoyer des messages la blesse. Vous finissez par vous séparer avec beaucoup d&#39;amertume. &lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 8:&#39;&#39; &lt;&lt;if $ghosting is true&gt;&gt;&#39;&#39;« Ghosting »&#39;&#39;
Vous avez réussi à franchir à travers tous les obstacles que les Sparks vous ont lancés, mais à peine. Vous n&#39;avez pas semblé faire une assez bonne impression sur les parents de Kelsie pour mériter une réponse chaleureuse de leur part. Ils vous ont à peu près ignoré tout l&#39;après-midi. Kelsie n&#39;est pas non plus impressionnée par vous, vous abandonnant sur la route des relations.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 9:&#39;&#39; &lt;&lt;if $faded is true&gt;&gt;&#39;&#39;« Estompé »&#39;&#39;
Vous avez traversé la journée un peu indemne. Les parents de Kelsie sont tièdes envers vous. Vous n&#39;avez pas fait trop d&#39;erreurs pour que Kelsie rompe avec vous tout de suite. Mais vous avez fait suffisamment de choix spécifiques qui ont laissé Kelsie quelque peu indifférente envers cette relation. Elle commence à tomber dans l’eau avec le temps. Un jour, elle finit par vous quitter via une lettre.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 10:&#39;&#39; &lt;&lt;if $fairytale is true&gt;&gt;&#39;&#39;« Fin de conte de fées »&#39;&#39;
Vous n&#39;auriez pas pu mieux passer la journée, même si vous aviez essayé. Vous avez vraiment impressionné les parents de Kelsie, qui espèrent vous voir venir plus souvent. Ils suggèrent également que vous rencontrerez les autres membres de la famille à l&#39;avenir. Vos choix ne faisaient qu&#39;affirmer ce que Kelsie pensait et parlait de vous. Est-ce que vous entendez les cloches de l’église au loin ?&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="72" name="SetUp_en" tags="Updated" position="1350,1092" size="100,100">&lt;label&gt;&#39;&#39;What is your favourite dish (savory)?&#39;&#39;
&lt;&lt;textbox &quot;$dish&quot; &quot;Type in&quot;&gt;&gt;&lt;&lt;button &quot;Confirm&quot;&gt;&gt;&lt;&lt;update&gt;&gt;&lt;&lt;/button&gt;&gt;&lt;/label&gt;
&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;You follow her instruction and sit at the table, waiting for her to join you.

Kelsie seems really happy with what you&#39;ve brought her. There really was nothing to be worried about. Feeling a bit more relieved, you start noticing the wonderful smell coming from the kitchen. It takes you a few second to recognize it, but you are almost sure that Kelsie had made your favourite dish: &#39;&#39;&lt;&lt;liveblock&gt;&gt;$dish&lt;&lt;/liveblock&gt;&gt;&#39;&#39;. Kelsie being a chef in training, you know she has prepared it with a twist and, after trying it, you won&#39;t want any other version but hers. She probably spent hours in the kitchen trying to perfect it. You know you can&#39;t wait to try it.

Kelsie emerges from the kitchen with the $dish at hand, all smiles, looking very proud of herself.

//“Hahaha $name. You already know what this is, don&#39;t you? I can see it in your face”
“Am I that open of a book to you?”
“In some ways you are. But sometimes, you are a complete mystery. Which is nice. You keep me on my toes. I know I will never be bored with you.”//

She sits across from you and start serving the $dish. It looks even better than you imagined. The different colours of the ingredients complimenting each other, you could almost think you are looking at a painting. After the first bite, you know you just want to eat this forever. The tastes are singing a melody on your tongue. You guessed it right, $dish will never taste the same. You savour every bite of it, not knowing when you would be table to have this dish again.

//“I&#39;m glad you like it, $name. If I knew your reaction would be this intense, I would have made more of it, so you could bring some home.”// (after a pause) //“Speaking of home, there is something I want to talk to you about.”//

[[Continue|Invit]]&lt;&lt;/linkreplace&gt;&gt;

</tw-passagedata><tw-passagedata pid="73" name="SetUp_frm" tags="translated" position="1350,1767" size="100,100">&lt;label&gt;&#39;&#39;Quel est votre plat salé préféré ? &#39;&#39;
&lt;&lt;textbox &quot;$dish&quot; &quot;Tapez ici&quot;&gt;&gt;&lt;&lt;button &quot;Confirmer&quot;&gt;&gt;&lt;&lt;update&gt;&gt;&lt;&lt;/button&gt;&gt;&lt;/label&gt;
&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Vous suivez ses instructions et vous vous asseyez à table, en attendant qu&#39;elle vous rejoigne.

Kelsie semble vraiment contente de ce que vous lui avez apporté. Il n&#39;y avait vraiment pas de quoi s&#39;inquiéter. Ressentant un peu plus soulagé, vous commencez à remarquer la merveilleuse odeur venant de la cuisine. Il vous faut quelques secondes pour la reconnaître, mais vous êtes presque sûr que Kelsie a préparé votre plat préféré : &lt;&lt;liveblock&gt;&gt;$dish&lt;&lt;/liveblock&gt;&gt;. Kelsie étant chef en formation, vous savez qu&#39;elle l&#39;a préparé avec une touche bien spéciale. Après l&#39;avoir essayé, vous êtes sûr que vous ne voudrez pas d&#39;autre version que la sienne. Elle a probablement passé des heures dans la cuisine à essayer de le perfectionner. Vous savez que vous avez hâte de le gouter.

Kelsie sort de la cuisine avec le $dish dans ses main, tout sourire, ayant l&#39;air très fière d&#39;elle.

//« Hahaha $name. Tu sais déjà ce que c&#39;est, n&#39;est-ce pas ? Je peux le lire sur ton visage »
« Suis-je vraiment un livre ouvert pour toi ? »
« À certains moments, oui, tu l’es un peu. Mais parfois, tu es un mystère complet. Ce qui est sympa. Tu me tiens sur mes gardes. Je sais que je ne m&#39;ennuierai jamais avec toi. »//

Elle s&#39;assoit en face de vous et commence à servir le plat. Il a l&#39;air encore mieux que vous ne l&#39;imaginiez. Les différentes couleurs des ingrédients se complétant, vous pourriez presque penser que vous regardez un tableau. Après la première bouchée, vous savez que c’est le seul plat que vous aimeriez manger pour toujours. Les goûts chantent une mélodie sur votre langue. Vous l&#39;avez deviné, $dish n&#39;aura plus jamais le même goût pour vous. Toute autre version n’atteindra celui-là. Vous en savourez chaque bouchée, sans savoir quand vous le verrez de nouveau à table devant vous.

//« Je suis contente que ça te plaise, $name. Si j&#39;avais su que ta réaction serait aussi intense, j&#39;en aurais fait plus pour que tu puisses en ramener chez toi. » //Après une pause.// « En parlant de chez soi, il y a quelque chose dont je veux t’en parler. »//

[[Continuer|Invit]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="74" name="Invit_en" tags="Updated" position="1475,1092" size="100,100">//“Speaking of home, there is something I want to talk to you about.”//

You look up at Kelsie. //Here it is,// you think, //the moment of truth.// The talk you have been dreading about all this time is happening now. You swallow with difficulty what is left in your mouth. //Keep you cool. You can go through it. Just breathe.//

Kelsie notice you getting flustered.

//“Oh no, $name. You can relax. Nothing is wrong!”// She grabs your hand and squeeze it, trying to make you feel better. //“It&#39;s just... Well... I&#39;ve been mentioning you quite a bit to my parents lately when I talk to them. You know, because we&#39;ve been seeing each other for a while now... Anyway, they keep asking questions about you. And I&#39;m going home for the break next week. And, well... I thought I could maybe introduce you to them then. You know... officially as my partner.”// She squeezes your hand again. It seems like hers is shacking a bit. //“What do you think?”//

This definitely wasn&#39;t what you thought would happen today. It’s not the bad omen you feared earlier, but this is still something as anxious inducing. //Meeting her parents? This early in the relationship? It’s only been 6 months!// You haven’t even moved in with her yet. You had envisioned to meet them at some point, in the future. The far future. Not the next week future. What if they don’t like you? You’ve seen it happened before. You’ve had friends break up because of this. It is so common that they have made movie franchises about it. Meeting their parents &#39;&#39;always&#39;&#39; ends in disaster.

//“$name? Are you ok? Talk to me.”
“Ha! … Sorry Kelsie, it&#39;s just... Is that a good idea? To do it so soon?”
“Meeting my parents? Maybe? I don’t know… I guess it depends on how the relationship is going. You do have people that get married like 3 months after meeting.”//

The mention of marriage transforms your face from riddled with anxiety to almost horror. Kelsie notices it and is quick to put out that fire.

//“Ah! $name. Don’t… don’t make that face. That’s not on the table for us now. I was just trying to explain to you my point of view.”
“Phew… I mean it’s just I want to finish school before I talk about that kind of commitment…”
“We’re on the same page about this. Don’t worry. Anyways, as I was saying… My family is important to me. If you are also seeing this relationship going long term, I just want to be sure that you guys can get along. If you don&#39;t feel up for it, you can tell me. It can wait. I won&#39;t pressure you.”//

You need some time to think. Is it fair of her to ask you about this? You’re clearly a bundle of nerves right now just thinking about this. Should you wait a few more months to meet her parents? Or should you just rip off the band-aid and do it now?


* /* [[Happy]] */&lt;&lt;link &quot;//“You know what. Better rip off the band-aid now. I&#39;ll knock their socks off! Let&#39;s do it!”//&quot; &quot;Happy&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* /* [[Later]] */&lt;&lt;link &quot;//“To be honest, I didn&#39;t think I would meet your parents so early. Don&#39;t get me wrong, I do want to meet them. Can you just give me a bit more time?”//&quot; &quot;Later&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* /* [[Refuse]] */&lt;&lt;link &quot;//“It&#39;s not a real choice, is it? Either I meet them and there is a chance they don&#39;t like me and we break up. Or I ask you to wait and you will have doubt that this relationship is actually long term, and we break-up.”//&quot; &quot;Refuse&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="75" name="Invit_frm" tags="translated" position="1475,1767" size="100,100">//« En parlant de chez soi, il y a quelque chose dont je veux t’en parler. »//

Vous levez votre regard vers Kelsie. //Ça y est//, pensez-vous, //le moment de vérité//. Le discours que vous redoutiez depuis tout ce temps se déroule maintenant. Vous avalez avec difficulté ce qui reste dans votre bouche. //Garde ton froid. Tout va bien se passer. Respire.//

Kelsie remarque que vous êtes agité.

//« Oh non, $name. Tu peux te détendre. Rien ne va mal ! »// Elle attrape votre main et la serre, essayant de te faire sentir mieux. //« C&#39;est juste… Eh bien… Je t&#39;ai pas mal mentionné à mes parents ces derniers temps quand je leur parle. Vu qu&#39;on se voit régulièrement depuis un moment maintenant... De toute façon, ils n&#39;arrêtent pas de poser des questions sur toi. Et je rentre à la maison pour les vacances la semaine prochaine. Et bien... J&#39;ai pensé de te les présenter. Genre... officiellement… en tant que mon partenaire. »// Elle vous serre à nouveau la main. Vous sentez la sienne trembler un peu. //« T’en pense quoi ? »//

Ce n&#39;était certainement pas ce que vous pensiez qu&#39;il se passerait aujourd&#39;hui. Ce n&#39;est définitivement pas le mauvais présage que vous craigniez plus tôt, mais c&#39;est quand même quelque chose d&#39;aussi anxieux. //Rencontrer ses parents ? Si tôt dans cette relation ? Enfin, cela ne fait que 6 mois !// Vous n&#39;avez même pas encore emménagé avec elle. Vous aviez envisagé de les rencontrer à un moment donné, dans le futur. Le futur lointain. Pas le futur de la semaine prochaine. Et s&#39;ils ne vous aiment pas ? Vous avez déjà vu cela arriver. Des amis ont rompu à cause de ça. C&#39;est tellement commun qu&#39;ils en ont fait des franchises de films à ce sujet. Rencontrer leurs parents se termine toujours par un désastre.

//« $name ? Ça va ? Parle-moi. »
« Ha ! … Désolé Kelsie, c&#39;est juste... Est-ce que c’est une bonne idée ? De le faire aussi tôt ? »
« Rencontrer mes parents ? Peut-être ? Je ne sais pas… Je suppose que cela dépend de la façon dont se déroule la relation. Il y a des gens qui se marient environ 3 mois après leur rencontre. »//

La mention du mariage transforme votre visage criblé d&#39;anxiété en presque horreur. Kelsie le remarque et s&#39;empresse d&#39;éteindre ce feu.

//« Ah ! $name. Ne… ne fais pas cette tête. Ce n&#39;est pas sur la table pour nous maintenant. J&#39;essayais juste de t’expliquer mon point de vue. »
« Ouf… Je veux dire, c&#39;est juste que je veux finir mon diplôme avant de parler de ce genre d&#39;engagement… »
« Nous sommes sur la même longueur d&#39;onde à ce sujet. Ne t&#39;inquiète pas. De toute façon, comme je le disais… Ma famille est importante pour moi. Si tu envisages également cette relation à long terme, je veux juste être sûre que vous pouvez vous entendre. Si tu ne te sens pas d&#39;accord, tu peux me le dire. Ça peut attendre. Je ne te mettrai pas la pression. »//

Vous avez besoin d’un peu de temps pour réfléchir. Est-ce juste de sa part de vous poser ce sujet dans les mains ? Vous êtes clairement une boule de nerfs, rien que d&#39;y penser. Faudrait-il attendre encore quelques mois avant de rencontrer ses parents ? Ou devriez-vous simplement arracher le pansement ?

* /* [[Happy]] */&lt;&lt;link &quot;//« Tu sais quoi. Mieux vaut arracher le pansement directement. Je leur en boucherai un coin ! Allons-y ! »//&quot; &quot;Happy&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* /* [[Later]] */&lt;&lt;link &quot;//« Pour être honnête, je ne pensais pas que je rencontrerais tes parents si tôt. Ne te méprend pas, je veux les rencontrer. Est-ce que tu peux me donner juste un peu plus de temps ? »//&quot; &quot;Later&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* /* [[Refuse]] */&lt;&lt;link &quot;//« Ce n&#39;est pas un vrai choix, hein ? Soit je les rencontre et il y a une chance qu&#39;ils ne m&#39;aiment pas et qu&#39;on se sépare. Ou je te demande d&#39;attendre et tu auras des doutes sur le fait que cette relation soit faite pour à long terme, et on se sépare quand même. »//&quot; &quot;Refuse&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="76" name="Happy_en" tags="Updated" position="1600,1092" size="100,100">&lt;&lt;set $happy to 1&gt;&gt;//“Well... this wasn&#39;t something I was expecting to have to choose tonight...”// You scratch the back of your head. //“I always thought I would have crossed some more &#39;firsts&#39; with you before this would happen.”
“If you are not up for it now, we can wait.”
“No! No, no... My mom always said: It&#39;s better to swiftly rip off the band-aid than leave it on because you are afraid it will hurt. And who knows. Maybe I&#39;ll knock their socks off.” 
“Really?”
“Yeah! Let&#39;s do it.”//

Kelsie sighs in relief and her face lights up. It seems like this had been eating her up for a while. 

//“I thought I was getting a bit ahead of myself when I proposed it. I know it&#39;s a bit early, but I had a good feeling about it.”
“You had nothing to worry about, Kelsie. If nothing else, your enthusiasm makes you so endearing.”
“I&#39;m still glad you want to do it though. I&#39;ll have to pass it by my parents for the logistics and all. It would probably be on a weekend, though. When are you free?”
“If it&#39;s during the weekend, just tell me when, and I’ll be there. I&#39;ll make it work.”//

She smiles at you and fills up your empty glass.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;//“Anyway,”// she continues, //“don&#39;t think I forgot what you said earlier. I clearly heard you mentioning that there were some &#39;firsts&#39; that you had wanted to cross before meeting my parents. What can we do to remedy that?”
“Oh... Kelsie. I meant it as them happening naturally. It&#39;s not something that I want to force, you know?”
“Well, what if I want to give you a nudge? You won&#39;t be forcing anything that way.”
“Ah!”// you cry out, mimicking getting shot in the chest.// “Technicalities, my only weakness!”//

Kelsie chuckles. Your stomach twists. //Oh no! It’s that feeling again. Not yet. It&#39;s not the right time. Don&#39;t blurt it out.// You barely to pull it together.

//“Haha! Seriously $name, give me your list. I know you have one on your phone. Don&#39;t pretend. I think I know you well enough by now.”//

You take out your phone, looking slightly guilty. You do have a list on your phone. You&#39;ve had it since you asked her on that first date. Sometimes, you wonder if Kelsie knows you better than you know yourself. Would she know that you love her?

//“So, what&#39;s something we could do tonight?”//

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;
You look up to her, suddenly feeling a bit sad. You remember that this will be the last time you will see her for a bit. After all, it&#39;s still examination time for her. You were lucky she even took some time off to see you and prepare this delicious meal for you.

//“$name, did I say something wrong?”
“Of course not, Kelsie. I just... I&#39;m going to miss you this week. That&#39;s all.”
“Well, let’s not think about that right now, ok? Come on, show me your list. There must be something we can do.”//

You refuse to lend her your phone. There are so many places you want to go with her. There are some items on your list that you want to turn into a surprise. Kelsie might read you like an open book, but you don&#39;t want to reveal all of your cards just yet. You still propose some options that could be done inside, with little to no preparation. Kelsie thinks it would be fun to prepare desserts together.

You both quickly finishes dinner and head to the kitchen. 

[[Continue|Comp]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="77" name="Happy_frm" tags="translated" position="1600,1767" size="100,100">&lt;&lt;set $happy to 1&gt;&gt;//« Eh bien... ce n&#39;était pas vraiment quelque chose que je m&#39;attendais à devoir choisir ce soir… » Vous vous grattez la nuque. « J&#39;ai toujours pensé que j&#39;aurais franchis plus d’&quot;étapes&quot; avec toi avant que cela n&#39;arrive. »
« Si tu n&#39;es pas prêt, ça peut toujours attendre. »
« Non ! Non, non... Ma mère me dit toujours : &quot;il vaut mieux enlever un pansement rapidement que le laisser en place parce que tu as peur que ça fasse mal&quot;. Et qui sait. Peut-être que je vais les épater. »
« Vraiment ? Tu es partant ? »
« Oui ! Allons-y. »//

Kelsie soupir de soulagement et son visage s&#39;illumine. Il semble que cela la rongeait depuis un certain temps.

//« Je pensais que je m’étais un peu emportée quand je t&#39;ai proposé ceci. Je sais que c&#39;est un peu tôt, mais j&#39;avais un bon pressentiment. »
« Tu n&#39;avais rien à craindre, Kelsie. À tout le moins, c’est ton enthousiasme te rend si attachante. »
« Je suis quand même contente que tu sois aussi emballé que moi à cette idée. Je passerai un coup de fil à mes parents pour l’organisation. Les connaissant, ce sera surement un de ces weekends. Quand est-ce que tu es libre ? »
 « Si c&#39;est durant un week-end, tu as simplement besoin de me donner une date et je serai là. Je ferais en sorte que ça rentre dans mon calendrier. »//

Elle vous sourit et remplit votre verre vide.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;//« Quoi qu&#39;il en soit, »// continue-t-elle, //« ne pense pas que j&#39;ai oublié ce que tu viens de dire. Je t&#39;ai bien entendu avoir mentionné qu&#39;il y avait des &quot;étapes&quot; que tu avais voulu franchir avant de rencontrer mes parents. Qu’est-ce qu’on peut faire pour y remédier ? »
« Oh… Kelsie. Je voulais dire… J’aurais préféré qu’on les passe ensemble naturellement. Ce n&#39;est pas vraiment quelque chose que je voudrais forcer, tu vois ? »
« Et si je voulais te donner un coup de coude ? Tu ne seras pas celui qui les force de cette façon. »
« Ah ! » // écriez-vous, imitant avoir été tiré dessus par une balle dans la poitrine.// « Les détails techniques, ma seule faiblesse ! »//

Kelsie rit. Votre estomac se tord. //Oh non ! C&#39;est à nouveau ce sentiment. Pas encore. Ce n&#39;est pas le bon moment. Ne lâche rien.// Vous peinez à vous ressaisir.

//« Haha ! Sérieusement $name, donne-moi ta liste. Je sais que tu en as une sur ton téléphone. Ne fais pas semblant. Je pense te connaître assez bien maintenant. »//

Vous sortez votre téléphone, l&#39;air légèrement coupable. Comme validement soupçonné par Kelsie, vous avez bien une liste sur votre téléphone. Vous l&#39;avez bien enregistrée dessus depuis que vous l’aviez invitée à ce premier rendez-vous. Parfois, vous vous demandez si Kelsie vous connaît mieux que vous-même. Est-ce qu’elle suspecte que vous l&#39;aimez ?

//« Alors, qu&#39;est-ce qu’on pourrait faire ce soir ? »//

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Vous la regardez, ressentant soudainement un peu de tristesse. Vous vous rappelez que ce soir sera la dernière fois que vous pourrez la voir pendant un moment. Après tout, elle est encore en plein examens. Vous êtes déjà chanceux qu&#39;elle ait pu prendre du temps pour vous voir et vous préparer ce délicieux repas.

//« $name ? Est-ce que j’ai dit quelque chose de déplacé ? »
« Ah… Bien sûr que non, Kelsie. C&#39;est juste que... tu vas me manquer cette semaine. C&#39;est tout. »
« Cette sem-… ah… Écoute. N&#39;y pensons pas trop, d&#39;accord ? Aller, montre-moi ta liste. Il doit bien y avoir quelque chose que nous pouvons faire ce soir. »//

Vous refusez tout de même de lui présenter votre téléphone. Il y a tellement d&#39;endroits où vous voulez aller avec elle. Il y a même des éléments sur votre liste que vous souhaiteriez qu’ils restent des surprises. Kelsie peut vous lire comme un livre ouvert, mais vous ne voulez pas encore lui révéler toutes vos cartes. Vous offrez tout de même quelques options qui pourraient être réalisées à l&#39;intérieur, avec peu ou pas de préparation. Kelsie pense que ce serait amusant de préparer un dessert ensemble.

Vous finissez tous les deux rapidement votre dîner et vous vous dirigez vers la cuisine.

[[Continuer|Comp]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="78" name="Refuse_en" tags="Updated" position="1600,1217" size="100,100">//“It&#39;s not a real choice, is it Kelsie?”// You put down the cutlery, raise your hand a bit with their palms facing the ceiling. //“Either I meet them and there is a chance they don&#39;t like me and we break up. Or I ask you to wait and you will have doubt that this relationship is actually long term. It&#39;s rigged from the start.”
“What rigging? I just wanted your opinion. An opportunity presented itself. So I put it on the table.”
“I bet you already told your parents I was coming.”
“I agreed with them that it would be nice for you to meet them, but–” 
“Bullshit, Kelsie. It&#39;s the same thing!”// you cry out, cutting her off. //“Now they have an expectation of me coming soon. You just planted the seed in their heads.”
“What are you going on about? I was going to say that I told them I would ask you if you were up for it or not. You don’t know my parents. They are more understanding that you give them credit for.”
“Well, you don&#39;t give me enough credit either. I saw through your dumb relationship test. I&#39;m screwed either way.”
“Ok... I&#39;m just confused now, $name. Why would I try to screw you over? I just wanted to know if you were up for meeting my family. That&#39;s all!”
“That&#39;s all? Always with the mind games. You know what... I am not falling for it this time.”
“Are you even listening to me or are you just hearing what you want to hear?” Kelsie asks, starting to get tired of your tirade.
“Are YOU listening to me? See I can ask you the same thing. Can you answer me? Huh?”
“I can&#39;t believe I wasted today making all of this, just to have you spiral into some conspiracy bullshit. I could have used this time to study for my exams instead...”
“Ok, Kelsie, THIS... this is not about your problems. Ok?”//

You continue to ramble on for a while. Kelsie getting more and more annoyed at you. She does not even bother answering your questions anymore. It’s not like you give her any time to be able to answer when you do ask her something.

It is clear by now that dinner is pretty much over for her. She starts bringing away the dishes and putting them in the kitchen, barely taking notice at you at this point. Like a puppy, you follow her, continuing you rambling about how most girls just don&#39;t go with nice people but assholes, how they don&#39;t know better because they don&#39;t know what it&#39;s like to be treated like a queen, how if you have high expectation of them is not because you put them on a pedestal but because that&#39;s how it should be, how at the end she does not understand you and how she is just trying to trap you into this relationship. 

As soon as she hears this, she stops what she is doing and turns to you.

//“Why are you still here then, $name?”//

[[Continue|END2]]</tw-passagedata><tw-passagedata pid="79" name="Refuse_frm" tags="translated" position="1600,1892" size="100,100">« Ce n&#39;est pas un vrai choix, hein Kelsie ? »// Vous posez vos couverts et levez vos mains, leurs paumes en l’air. //« Soit je les rencontre et il y a une chance qu&#39;ils ne m&#39;aiment pas et qu&#39;on se sépare. Ou je te demande d&#39;attendre et tu auras des doutes sur le fait que cette relation soit faite pour à long terme. C&#39;est truqué dès le départ. »
« Quoi ? Un truquage ? Je voulais seulement avoir ton avis. Une opportunité s&#39;est présentée. Alors je l&#39;ai mise sur la table. »
« Je parie que tu en as déjà parlé avec tes parents. »
« Je suis d&#39;accord avec eux sur le fait que ce serait bien que tu les rencontres, mais– »
« C’est des conneries tout ça, Kelsie. C&#39;est la même chose ! »// vous hurlez, la coupant. //« Maintenant, ils s’attendent à ce que je vienne bientôt. Tu as déjà semé cette graine dans leur tête. »
« Qu&#39;est-ce que tu racontes ? J&#39;allais dire que je leur ai expliqué que je te demanderais si tu étais partant ou non. Tu ne connais pas mes parents. Ils sont biens plus compréhensifs que tu ne le penses. »
« Et, tu ne vois pas que tu fais la même chose avec moi ? J&#39;ai vu à travers tes stupides tests. Je suis foutu de toute façon. »
« Ok... Je suis juste confuse maintenant, $name. Pourquoi est-ce que j&#39;essaierais de t’entuber ? Je voulais juste savoir si tu étais partant pour rencontrer ma famille. C&#39;est tout ! »
« C&#39;est tout ? C’est tout ?! Toujours avec les manigances. Tu sais quoi... Je ne suis pas en train de tomber dans le piège cette fois. »
« Est-ce que tu m&#39;écoutes ou tu retiens seulement ce que tu veux entendre ? »// demande Kelsie, commençant à en avoir marre de votre tirade.
//« Est-ce que toi tu m&#39;écoutes ? Hein ? Je peux te demander la même chose. Tu peux me répondre ? Hein ? »
« Je n’y crois pas. J&#39;ai gâché autant de temps aujourd&#39;hui à cuisiner tout ça, juste pour te voir sombrer dans une connerie de complot qui n’existe même pas. J&#39;aurais pu utiliser ce temps pour étudier pour mes examens à la place... »
« D&#39;accord, Kelsie, CECI... n’a rien à voir avec tes problèmes. D&#39;accord ? »//

Vous continuez à radoter pendant un certain temps, ce qui agace Kelsie de plus en plus. Elle ne prend même plus la peine de répondre à vos questions. Ce n&#39;est pas comme si vous lui laissiez le temps de répondre de toute manière lorsque vous lui poser une question. Vous n’attendez pas vraiment de réponse de sa part.

Il est clair maintenant que le dîner est à peu près terminé pour elle. Elle commence à emporter la vaisselle vers la cuisine, vous remarquant à peine à ce stade. Comme un chiot, vous la suivez, continuant à délirer sur le fait que la plupart des filles ne sortent pas avec des gens sympas mais seulement qu’avec des connards ; comment elles ne savent pas mieux parce qu&#39;elles ne connaissent pas ce que c&#39;est que d&#39;être traitée comme une reine ; comment, si vous attendez beaucoup d&#39;elles, ce n&#39;est pas parce que vous les mettez sur un piédestal, mais parce que c&#39;est comme ça que ça devrait être ; qu&#39;à la fin elle ne vous comprend pas et qu&#39;elle essaie juste de vous piéger dans cette relation.

Dès qu&#39;elle entend cela, elle arrête ce qu&#39;elle fait et se tourne vers vous.
//« Pourquoi es-tu encore là alors, $name ? »//

[[Continuer|END2]]</tw-passagedata><tw-passagedata pid="80" name="END2_en" tags="Updated END" position="1475,1217" size="100,100">&lt;&lt;set $conspiracy to true&gt;&gt;//“Why are you still here then, $name?”//

You are startled. Not really about the question, but by Kelsie speaking. You had gotten so used to only hear yourself talk the past couple of minutes, feeding into your anger and insecurities. You brain had filtered out any other noise around you.

//“What?”// you respond, confused.
//“Why are you with me?”
“What&#39;s with the questions?”
“You just said that I was doing all of this to trap you and you don&#39;t like it. Why are you still here then? Because from my perspective, you seem to enjoy hanging out with me with no strings attached. Like am I really your girlfriend or are you just calling me that to keep me around?”//

There is a silence for a few minutes. You open your mouth to say something but Kelsie beats you to the punch.

//“You know what? Don’t answer. Nothing will sound genuine coming out of your mouth anymore. I don&#39;t have to allow this happening in my own home. I don&#39;t know what&#39;s happening in your head for you to go all crazy relationship conspiracies. But I don&#39;t care anymore. Get out!”//

She grabs your stuff, open the door and wait for you to move. You stay still, standing, frozen in place You don&#39;t seem to register what had just happened.

//“Earth to $name. Did you hear me? Get out of my apartment.”//

For a minute, your body does not make a move. Your brain is still getting back to reality. As soon as you understand the gravity of things, you drag your feet towards her, looking sorry. She sighs in exasperation, throws out your stuff, which she was still holding, and walks back towards you. She pulls you by the arm towards the door. You try to resist and plead to stay.

//“This is the last time I will say this, $name. Get the fuck out of my apartment.”//

She changes tactics and start pushing you. As much as you resist her actions, you can&#39;t help to feel like you are losing her. You just don&#39;t know what you can do to change her mind. One last push and you are finally out of the apartment. You feel the door being slammed behind you. Through it, you can hear Kelsie shouting:

//“If I see you again here, I&#39;ll call the cops on your ass.”//


&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;You pick up the stuff Kelsie had thrown out in the corridor. You check that’s all in there. You don’t think that she would gently answer the door tonight if there was still something of yours left in there. Seeing how she reacted on you, you guess that she would probably try to throw it at your face. Dejected, you leave the building to go home. You were right in guessing the talk was a bad omen.

You talked about the events to your friends shortly after, though you omitted all of the words you spoke to her by the end of the evening nor Kelsie’s threat. Your friends thought it was a bit weird that Kelsie would just end it so brusquely, seeing how great you two looked together. They advised you to go and grovel at her feet, begging for forgiveness. You obviously saw their advice as a great idea!

Even though Kelsie threatened you if you showed up at her door, you still didn’t follow her wishes. You would pass by her building often, hoping to see her, maybe to talk to her. You sent her flowers and gifts to her apartment, with notes telling her how sorry you were and how you wanted her back. Some of the notes also included you agreeing to meet her parents, hoping that it would help mend the bridges. However, you would often find them by the trash outside of her building the day after. After some time, you stopped seeing Kelsie around her building altogether.

Not knowing how to fix this, you would complain to your friends how their advice was not working. Kelsie would still screen your calls and not open your messages. You had tried everything you could think of. Your friends would be as confused as you. With the information you told them, Kelsie would already have crawled back into your arms. One of your friends proposed to reach out to one of Kelsie’s friend, for help. Seeing as you would do anything to get Kelsie back, you approved of the idea.

Turns out, Kelsie had told a very different story to her friend than you did to yours. She told them the actual truth. She also got so scared of your action lately that she had decided to move out and even changer her number. Your friends, still being on your side, thought that she completely overreacted, but that maybe you should give up on her still. That relationship was clearly over.

You continued to believe that all of this had been Kelsie’s plan to all along leave you high and dry for someone who was definitely a controlling asshole, refusing her to see you at any cost. That, and ruining $dish for you.

You still ended up to date other people after her, with your friends advising you to keep your relationship mind game speech to yourself. However, your dates seem to all find out about your past with Kelsie one way or another; and inexplicably ghost you shortly after. Obviously, these short-lived relationships reinforced your beliefs that everyone was out to get you and make a complete fool out of you.


&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;“Conspiracies… Conspiracies Everywhere”&#39;&#39;//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="81" name="END2_frm" tags="translated END" position="1475,1892" size="100,100">&lt;&lt;set $conspiracy to true&gt;&gt;//« Pourquoi es-tu encore là alors, $name ? »//

Vous êtes pris de surprise. Pas vraiment du fait de la question, mais parce que Kelsie ait choisi de vous parler de nouveau. Vous vous étiez enfin habitué à seulement vous entendre parler ces dernières minutes, alimentant votre colère et vos insécurités. Votre cerveau avait filtré tout autre bruit autour de vous.

//« Quoi ? »// vous répondez, confus.
//« Pourquoi es-tu avec moi ? »
« Pourquoi toutes ces questions ? »
« Tu viens de dire que tout ce que j’ai fait ces derniers mois juste pour te piéger et que ça te dérangeait énormément. Pourquoi es-tu toujours là alors ? Parce que de mon point de vue, tu as l’air d&#39;aimer passer du temps avec moi, mais sans vraiment d’attachement de ta part. Est-ce que je suis vraiment ta petite amie ou est-ce que tu m&#39;appelles juste pour me garder dans les parages ? »//

Pendant quelques minutes, un silence s’invite dans la pièce. Vous ouvrez la bouche pour dire quelque chose mais Kelsie vous devance.

//« Tu sais quoi ? Ne réponds pas. Rien ne paraitra authentique sortant de ta bouche. Je n&#39;ai pas à permettre que cela se produise chez moi. Je ne sais pas ce qui se passe dans ta tête pour que tu craches de folles conspirations relationnelles. Mais je m&#39;en fiche. Dégage ! »//

Elle attrape vos affaires, ouvre la porte et attend que vous vous bougiez. Vous restez immobile, debout, figé sur place. Vous ne semblez pas enregistrer ce qui vient de se passer.

//« Terre à $name. Tu m&#39;as entendu ? Sort de chez moi. »//

Pendant une longue minute, votre corps ne fait aucun mouvement. Votre cerveau revient toujours à la réalité. Dès que vous comprenez la gravité des choses, vous traînez les pieds vers elle, l&#39;air désolé. Elle soupire d&#39;exaspération, jette dehors vos affaires, qu&#39;elle tenait toujours, et revient vers vous. Elle vous tire par le bras vers la porte. Vous essayez de résister et plaidez pour rester.

//« C&#39;est la dernière fois que je dirai ceci, $name. Fiche le camp de mon appart. »//

Elle change de tactique et commence à vous pousser. Autant vous résistez à ses actions, autant vous ne pouvez pas vous empêcher d&#39;avoir l&#39;impression de la perdre. Vous ne savez tout simplement pas ce que vous pouvez faire pour la faire changer d&#39;avis. Une dernière poussée et vous êtes enfin hors de l&#39;appartement. Vous sentez que la porte est claquée derrière vous. À travers elle, vous pouvez entendre Kelsie crier :

//« Si jamais je te revois ici, j&#39;appellerai les flics. »//


&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Vous ramassez vos affaires, celles que Kelsie avait jetées dans le couloir. Vous vérifiez que tout est là. Vous ne pensez pas qu&#39;elle ouvrirait de nouveau gentiment la porte si vous aviez encore oublié quelque chose dans son appartement. En voyant comment elle a réagi, vous devinez qu&#39;elle essaierait probablement de vous jeter n’importe quoi à la figure. Découragé, vous quittez l&#39;immeuble pour rentrer chez vous. Vous aviez raison de supposer que la conversation attendue était bien de mauvais augure.

Peu de temps après, vous mentionnez ces événements à vos amis, bien que vous ayez omis certains des mots que vous aviez prononcés à la fin de la soirée, ni la menace de Kelsie. Vos amis ont pensé que c&#39;était un peu bizarre que Kelsie vous ait largué si brusquement, voyant à quel point vous aviez l’air parfait ensemble. Ils vous ont conseillé d&#39;aller ramper à ses pieds, implorant le pardon. Vous avez visiblement vu leurs conseils comme une excellente idée !

Même si Kelsie vous a menacé si vous vous présentiez à sa porte, vous ne respectez pas ses volontés. Vous passez souvent devant son immeuble, espérant la voir, peut-être lui parler. Vous lui envoyez des fleurs et des cadeaux dans son appartement, avec des notes lui disant à quel point vous êtes désolé et à quel point vous voulez qu&#39;elle revienne. Certaines des notes comprenaient également que vous acceptiez de rencontrer ses parents, en espérant que cela aiderait à réparer votre relation. Cependant, vous les trouvez souvent près de la poubelle à l&#39;extérieur de son immeuble le lendemain. Après un certain temps, vous remarquez que Kelsie cesse complètement d’apparaître autour de son immeuble.

Ne sachant pas comment résoudre ce problème, vous vous plaignez de nouveau à vos amis que leurs conseils n’ont pas fonctionné. Kelsie filtre toujours vos appels et n&#39;ouvre pas vos messages. Vous avez essayé tout ce que vous aviez pu concocter. Vos amis sont aussi confus que vous. Avec les informations que vous leur avez données, Kelsie serait déjà revenue dans vos bras. L&#39;un de vos amis a proposé de contacter l&#39;un des amis de Kelsie pour obtenir de l&#39;aide. Comme vous feriez n&#39;importe quoi pour récupérer Kelsie, vous approuvez l&#39;idée.

Il s&#39;avère que Kelsie avait raconté à son amie une histoire très différente de celle que vous avez racontée aux vôtres. Elle leur avait actuellement raconté la vérité. Elle a également eu tellement peur de vos actions ces derniers temps qu&#39;elle a décidé de déménager et même de changer de numéro. Vos amis, toujours de votre côté, pensent toujours qu&#39;elle avait complètement réagi de manière excessive, mais que vous devriez peut-être abandonner votre quête. Cette relation est clairement terminée.

Vous continuez à croire que tout cela avait été le plan de Kelsie depuis le début pour vous larguer pour quelqu&#39;un qui est surement un connard contrôlant, lui refusant de vous voir à tout prix. Ça, et ruiner votre plat favori, $dish, pour vous.

Vous avez quand même fini par sortir avec d&#39;autres personnes après Kelsie, vos amis vous conseillant de garder pour vous votre discours sur toutes ces manigances relationnelles. Cependant, vos rendez-vous semblent tous découvrir votre passé avec Kelsie d&#39;une manière ou d&#39;une autre ; et vous ignorent inexplicablement peu de temps après. De toute évidence, ces relations de courte durée ont renforcé votre conviction que tout le monde est après vous et veut vous ridiculiser.


&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Conspirations… Conspirations partout »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="82" name="Later_en" tags="Updated" position="1600,967" size="100,100">&lt;&lt;set $later to 1&gt;&gt;//“Well... To be honest...”// you start. //“I don&#39;t think I am ready just yet.”//

You pause, trying to find the right words. You want Kelsie to understand that you are committed to her that way, but you still need some time.

//“I just… didn&#39;t think I would meet your parents so early. Don&#39;t get me wrong, I do want to meet them at some point in the future. But I feel like there are still some steps that we haven&#39;t taken yet. You know?”//
//“Oh no,”// Kelsie laments. //“I got to ahead myself too fast, didn&#39;t I?”//
//“Maybe you did a bit, Kelsie. But your enthusiasm. I love that so much about you. Can you just give me a bit more time? I don&#39;t want to worry about what would our family think of each other. Not yet.”//

Kelsie seems a bit disappointed. She was definitely hoping for a different answer from you. She pouts just for a second before asking you:
 
//“How much time would you need?”
“I... I don&#39;t really know. I mean there are &#39;firsts&#39; that I want to do before meeting your parents or before you meeting my family. And I don&#39;t really want to rush into things. You know, I want this to take its course naturally. Maybe... Maybe ask me again in a few months?”
“Alright, $name,”// she says, as if she was capitulating the battle. //“I think I can wait for your to be ready. I&#39;d rather have a confident you meeting my family than a ball of stress because they are not ready.”//

She smiles at you and fills up your empty glass.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;//“Anyway, you mentioned that there are things you wanted to do. Do you have like a list of &#39;firsts&#39; to tick off of it?”//
//“I mean… it&#39;s not like I have an actual list or anything...”//
//“Come on, $name. Don&#39;t pretend like you don&#39;t have one on your phone. I know it has not been long, but there are plenty of things I know about you by now.”//

You take out your phone, looking slightly guilty. You did have a list on your phone. You&#39;ve had it since you asked her on that first date. Sometimes, you wonder if Kelsie knows you better than you know yourself. That or if she can read your mind.

//“So, what&#39;s something we could organise for when I come back?”//

You look up to her, butterflies in your stomach. There are so many places you want to go with her. You don&#39;t really know what to pick. There are also some items on that list that you want to surprise her with. Kelsie might read you like an open book, but you don&#39;t want to reveal all of your cards just yet. You propose some safe options and spend the rest of dinner planning with her what to do when she returns from her visit.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;The rest of dinner is somewhat uneventful. You are sad that you won&#39;t see Kelsie until she comes back from her parents. After all, it&#39;s still examination time for her. You were lucky she even took some time off just to see you and cook you something so delicious. You delay as much as possible the moment you have to leave. If it were up to you, you would stay here forever.

As you&#39;re about to leave her apartment, leaning for another kiss, you blurt out: //“God, I love you.”// Surprised, Kelsie blushes, pushes you out and close the door on you. You stand there, confused, for a moment. The door suddenly re-opens. Kelsie, still blushing, cries out //“Me too!”//, kisses you one more time, and close the door again.

You stand in front of Kelsie&#39;s apartment for a while, petrified. Your brain can’t seem to process what just happened. Regaining consciousness, you turn around and get yourself home, grinning from ear to ear.

[[Continue|Later2]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="83" name="Later_frm" tags="translated" position="1600,1642" size="100,100">&lt;&lt;set $later to 1&gt;&gt;//« Eh bien... Pour être honnête... »// commencez-vous. //« Je ne pense pas encore être prêt pour ça. »//

Vous faites une pause, essayant de trouver les mots justes. Vous voulez que Kelsie comprenne que vous êtes romantiquement engagé envers elle, mais vous avez encore besoin de temps pour vous faire à l’idée de faire ce pas.

//« C&#39;est juste que… je ne pensais pas que je rencontrerais tes parents si tôt. Ne te méprend pas, je veux les rencontrer à un moment donné dans le futur. Mais j&#39;ai l&#39;impression qu&#39;il y a encore des étapes que nous n&#39;avons pas encore franchies ensemble. Tu me suis ? »
« Oh non, »// se lamente Kelsie. //« J&#39;ai pris de l&#39;avance trop vite, n&#39;est-ce pas ? »
« Un peu, peut-être, Kelsie. Mais ton enthousiasme. J&#39;aime tellement ça chez toi. Peux-tu me donner un peu plus de temps ? Je ne veux pas m&#39;inquiéter de ce que nos familles penseraient l&#39;un de l&#39;autre. Pas encore. »//

Kelsie semble un peu déçue. Elle espérait certainement une réponse différente de votre part. Elle fait la moue juste une seconde avant de vous demander :
 
//« De combien de temps aurais-tu besoin ? »
« Je... je ne sais pas vraiment. Je veux dire qu&#39;il y a des &quot;premières étapes&quot; que je veux faire avec toi avant de rencontrer tes parents ou avant que tu rencontres ma famille. Et je ne veux pas vraiment me précipiter dans ce genre de choses. Je veux que ça suive son cours naturellement. Peut-être... Peut-être redemande-moi dans quelques mois ? »
« D&#39;accord, $name »//, dit-elle, comme si elle capitulait la bataille. //« Je pense que je peux attendre que tu sois prêt. Je préférerais que tu rencontres ma famille en toute confiance plutôt qu&#39;une boule de nerf. »//

Elle vous sourit et remplit votre verre vide.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;//« Quoi qu&#39;il en soit, tu as mentionné qu&#39;il y a des choses que tu voulais faire. Tu as une liste de à cocher, non ? »
« Eh bien... ce n&#39;est pas comme si j&#39;avais une liste réelle ou quoi que ce soit... »
« Allez, $name. Ne faites pas comme si tu n&#39;en avais pas une sur ton téléphone. Je sais que ça ne fait pas longtemps qu’on soit ensemble, mais il y a assez de choses que je sache déjà sur toi. »//

Vous sortez votre téléphone, l&#39;air légèrement coupable. Vous aviez une liste prête sur votre téléphone. Vous l&#39;avez depuis que vous lui avez demandé pour ce premier rendez-vous. Parfois, vous vous demandez si Kelsie vous connaît mieux que vous-même. Ça ou si elle peut lire dans vos pensées.

//« Alors, qu&#39;est-ce que nous pourrions organiser à mon retour ? »//

Vous la regardez, des papillons dans le ventre. Il y a tellement d&#39;endroits où vous voudriez aller avec elle. Vous ne savez pas vraiment quoi choisir. Il y a aussi des éléments sur cette liste avec lesquels vous voudriez la surprendre. Kelsie peut vous lire comme un livre ouvert, mais vous ne voulez pas révéler toutes vos cartes tout de suite. Vous proposez des options sûres et passez le reste du dîner à planifier avec elle ces rendez-vous pour lorsqu&#39;elle reviendra de sa visite.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Le reste du dîner se passe quelque peu sans incident. Vous êtes triste de ne pas voir Kelsie jusqu&#39;à ce qu&#39;elle revienne de chez ses parents. Après tout, elle est encore en plein examens. Vous avez eu de la chance qu&#39;elle ait quand même pris du temps pour vous voir et vous cuisiner quelque chose de si délicieux. Vous retardez le plus possible le moment où vous devez partir. Si cela ne tenait qu&#39;à vous, vous resteriez ici pour toujours.

Alors que vous êtes sur le point de quitter son appartement en vous penchant pour un autre baiser, vous lâchez : //« Qu’est-ce que je t&#39;aime. »// Surprise, Kelsie rougit, vous pousse dehors et vous ferme la porte au nez. Vous restez là, confus, pendant un moment. La porte se rouvre soudainement. Kelsie, toujours rougissante, crie : //« Moi aussi ! »//, vous embrasse encore une fois et referme la porte.

Vous vous tenez devant l&#39;appartement de Kelsie pendant un moment, pétrifié. Votre cerveau n&#39;arrive pas à comprendre ce qui vient de se passer. Reprenant conscience, vous vous retournez et rentrez chez vous, souriant d&#39;une oreille à l&#39;autre.

[[Continuer|Later2]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="84" name="Later2_en" tags="Updated" position="1725,967" size="100,100">As promised, Kelsie did not bring up meeting her family for a while. Your relationship with her still continued to take its course, almost as if nothing had been asked. Though, you noticed that as she came back from her visit, she seemed even more enthusiastic in crossing items off of your list. You had wondered once or twice if she was doing this to be able to ask you again to visit her family with her. However, most of the time, you were just as happy to cross these item one by one. The experiences you had out of it were unforgettable.

As the list grew smaller, Kelsie started dropping hints. It was clear that meeting her parents really was that important to her. Unlike a few months earlier, you felt more confident being Kelsie&#39;s partner. You were even thinking of introducing Kelsie to your own family.

It has now been a few months since that fateful dinner. You feel your phone vibrating in your pocket. Kelsie messaged you.

&lt;div class=&quot;message&quot;&gt;//Hey $name. If you&#39;re not too busy today, let&#39;s have lunch! There is this nice place on 5th that just opened. Want to try it?
Love, K.//&lt;/div&gt;

You&#39;ve also heard about that place and the raved reviews about their menu. Of course Kelsie wanted to try it. Never turning down an opportunity to see your girlfriend, you reply excitedly that you can’t wait to meet her there.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;By the time lunch comes around, you stroll towards 5th Street to meet Kelsie. Turning the corner, you see her waiting by the door. She notices you too, smiles and waves frantically at you. You guess that she is pretty excited to try this place.

//“Ah $name! You&#39;re here! Good! Let&#39;s go inside, I am starving”//

She grabs your hand and pull you inside. After the server gets your orders, she puts her chin on her knuckles, looking intensely at you.

//“Say $name. How would you feel with getting out of the city this weekend?”
“Well, that would be very welcomed. It&#39;d be nice to see something different. Why? Anything you want to tick off of the list?”
“It&#39;s not really on your list. But we&#39;ve talked about it before.”
“Oh! Then I am intrigued.”
“I&#39;m going to see my parents this weekend. And since it&#39;s been a while since I last asked you, I was wondering if you had changed your mind about meeting them. Isn&#39;t it time that we organise it?”//

You had been expecting this question for some time. The list was almost empty now. You smile at her and takes her hand. Unlike the last time Kelsie asked you, you are ready to face them. 

//“You&#39;re right. I think now is the right time to do it.”//

As soon as you say this, the server comes back with the first plate. You see Kelsie smile, but you&#39;re not sure if it was because of your answer or because food was served. Seeing your confused face, Kelsie giggles.

//“Haha. Oh $name. I am glad you agree. I&#39;ll call my parents and organise it all. I&#39;ll text you tomorrow with the details, alright? For now, let&#39;s just enjoy the food.”//

You nod, relieved, and dig in. You found the food good but confusing. Kelsie is also not impressed with what she had picked. She tells you as soon as you leave the restaurant that she could easily recreate those dishes but make them so much better. You might be a bit biased, but having tasted her cooking before, you can&#39;t help but completely agree with her.

[[Continue|Instruc]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="85" name="Later2_frm" tags="translated" position="1725,1642" size="100,100">Comme promis, pendant un long moment, Kelsie n&#39;a pas remis sur table la rencontre entre sa famille et vous. Votre relation continue à suivre son cours, presque comme si rien n&#39;avait été demandé. En revanche, depuis son retour, elle semblait plus enthousiaste à vouloir rayer les éléments de votre liste. Vous vous êtes demandé plusieurs fois si elle vous poussait peut-être pour pouvoir vous demander de nouveau de rencontrer ses parents. En même temps, vous étiez tout aussi heureux de franchir toutes ces étapes avec elle. Les expériences que vous avez vécues ont été inoubliables.

Au fur et à mesure que la liste diminuait, Kelsie commençait à faire de plus en plus allusion à votre conversation. Il était clair que rencontrer ses parents était vraiment important pour elle. Contrairement à quelques mois plus tôt, vous vous sentiez déjà plus en confiance en tant que partenaire de Kelsie. Vous pensiez même présenter Kelsie à votre propre famille.

Cela fait maintenant quelques mois depuis ce dîner fatidique. Vous sentez votre téléphone vibrer dans votre poche. Vous venez de recevoir un message de Kelsie.

&lt;div class=&quot;message&quot;&gt;//Salut $name. Si tu n&#39;es pas trop occupé aujourd&#39;hui, ça te dis de déjeuner ensemble ? Il y a un resto sympa sur 5th qui vient d&#39;ouvrir. Tu veux essayer ?
Je t’aime, K.//&lt;/div&gt;

Vous avez également entendu parler de cet endroit et des critiques élogieuses sur leur menu. Évidement que Kelsie voulait l&#39;essayer. Ne refusant jamais une occasion de voir votre petite amie, vous répondez avec enthousiasme que vous avez hâte de la rencontrer là-bas.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;À l’heure du déjeuner, vous vous promenez en direction de 5th Street pour rencontrer Kelsie. Au coin de la rue, vous la voyez attendre près de la porte. Elle vous remarque aussi, vous sourit et vous salue frénétiquement. Vous devinez qu&#39;elle est assez excitée d&#39;essayer cet endroit.

//« Ah $name ! Tu es là ! Enfin ! Rentrons à l&#39;intérieur, je meurs de faim »//

Elle attrape votre main et vous tire vers l&#39;intérieur. Une fois que le serveur a noté vos commandes, elle met son menton sur ses points, vous regardant intensément.

//« Dis $name. Qu’est-ce que tu penses d’une sortie hors ville ce week-end ? »
« Eh bien, ce serait le bienvenu. Ce serait bien de voir quelque chose de différent. Pourquoi ? Quelque chose que tu veux cocher sur la liste ? »
« C’est pas vraiment sur ta liste. Mais nous en avons déjà parlé. »
« Oh ! Alors ça m’intrigue. »
« Je vais retourner voir mes parents ce week-end. Et comme cela faisait longtemps que je ne t&#39;avais pas demandé, je me demandais si tu avais changé d&#39;avis à propos de les rencontrer. Tu penses pas que ce serait temps de l’organiser ? »//

Vous attendiez qu’elle vous pose cette question depuis un certain moment. La liste était maintenant presque vide. Vous lui souriez et lui prenez la main. Contrairement à la dernière fois que Kelsie vous a demandé, vous êtes prêt à les affronter. 

//« Je crois que tu as raison. Ce sera le bon moment pour le faire. »//

Dès que vous dites cela, le serveur revient avec la première assiette. Vous voyez Kelsie sourire, mais vous n’êtes pas sûr si c&#39;est à cause de votre réponse ou parce que de le plat a été servi. En voyant votre visage confus, Kelsie rit.

//« Ahahah. Oh $name. Je suis contente que tu sois d&#39;accord avec moi. J’appellerai toute à l’heure mes parents pour tout organiser. Je t&#39;enverrai un texto demain avec les détails, d&#39;accord ? Pour l&#39;instant, profitons simplement du déjeuner. »//

Vous hochez la tête, soulagé, et entamez votre assiette. Vous avez trouvé nourriture bonne mais aussi déroutante. Kelsie n&#39;est pas non plus impressionnée par ce qu&#39;elle a choisi. Elle vous dit dès que vous quittez le restaurant qu&#39;elle pourrait facilement recréer ces plats mais les rendre tellement meilleurs. Vous êtes peut-être un peu partial, mais après avoir déjà goûté sa cuisine, vous ne pouvez pas vous empêcher d&#39;être tout à fait d&#39;accord avec elle.

[[Continuer|Instruc]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="86" name="Comp_en" tags="Updated" position="1725,1092" size="100,100">You both quickly finishes dinner and head to the kitchen. You propose to turn the rest of the evening into a mini baking competition for dessert. You know that Kelsie taking her studies seriously has a stocked pantry. Kelsie laughs and playfully says:

//“Do you really want to have a competition against me? How will you win against my completely unfair advantage?”
“Well, I thought of that. We both pick the recipe that the other will make, and–”
“If you think I&#39;m going to give you an easy one on purpose, you&#39;re just kidding yourself!”
“Ah, but let me finish! Since we both agree that you have an unfair advantage over me, I should get to add a handicap on you.”
“Hmmm. Even with a handicap, I&#39;ll still kick your ass.”
“Even if I get to pick the ingredients? And you can&#39;t add anything else.”
“You wouldn&#39;t dare!”// cries Kelsie, faking a gasp. //“No worries. I&#39;ll still beat you!”//

Describing the rest of the evening as uneventful would be misleading. The mini-competition took its course with you losing your mind over a chocolate soufflé refusing the rise; and Kelsi questioning her entire life choices trying to make a mille-feuille out of leftover snacks from the back of her cupboards. 

An outsider looking in would think they would have stumbled into the set of a cooking show while looking at the both of you falling apart in front of your creations. However, you would always remember this night as one of the most unexpected fun one you ever had in your life. Even if your soufflé did not properly rise and almost got burnt, Kelsie had nothing but compliments to give you. You could see on her face how proud she was of you, regardless of the actual result. When it came to trying her dessert, you knew from the first bite that you had lost by a mile. You could not believe that it had been made out of some random lonely cupboard snacks. You had picked the items she could use and had tried a few at the same time, but what she created tasted completely different. And looked like it had come out of a fancy bakery. 

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;After the playful competition, you started delaying as much as possible the moment you had to leave. If it were up to you, you would stay here forever.

As you&#39;re about to leave her apartment, leaning for another kiss, you blurt out: //“God, I love you.”// Surprised, Kelsie blushes, pushes you out and close the door on you. You stand there, confused, for a moment. The door suddenly re-opens. Kelsie, still blushing, cries out: //“Me too!”//, kisses you one more time, and close the door again.

You stand in front of Kelsie&#39;s apartment for a while, petrified. Your brain can’t seem to process what just happened. Regaining consciousness, you turn around and get yourself home, grinning from ear to ear.

[[Continue|Instruc]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="87" name="Comp_frm" tags="translated" position="1725,1767" size="100,100">Vous finissez tous les deux rapidement votre dîner et vous vous dirigez vers la cuisine. Vous proposez de transformer la préparation du dessert en mini concours de pâtisserie. Vous savez que Kelsie, prenant ses études au sérieux, a des placards bien rempli. Kelsie rit et plaisante :

//« Tu veux vraiment avoir une compétition contre moi ? Comment vas-tu gagner contre mon flagrant avantage ? »
« Eh bien, j&#39;y ai pensé. Nous choisissons tous les deux la recette que l&#39;autre fera, et– »
« Si tu penses que je vais t’en donner une facile exprès, tu te fais des illusions ! »
« Ah, mais laisse-moi finir ! Puisque nous sommes tous les deux d&#39;accord sur le fait que tu as clairement un avantage injuste sur moi, je devrais pouvoir t’ajouter un handicap. »
« Hm... Même avec un handicap, je vais quand même te botter les fesses. »
« Même si je choisis les ingrédients ? Et tu ne peux pas ajouter autre chose. »
« Tu n&#39;oserais pas ! »// s&#39;écrie Kelsie, en faisant semblant d&#39;être sidérée. //« Pas de soucis. Tu vas voir. Je vais quand même te battre ! »//

Décrire le reste de la soirée comme sans incident serait trompeur. Le mini-concours a suivi son cours. Vous, perdant la tête devant un soufflé au chocolat refusant de monter ; et Kelsie se remettant en question tous ses choix en essayant de faire un mille-feuille à partir de restes de sucreries au fond de ses placards.

Si quelqu’un aurait jeté un coup d’œil à l&#39;intérieur, il aurait surement pensé être tombé sur le plateau d&#39;une émission de cuisine en vous regardant tous les deux s&#39;effondrer devant vos créations. Cependant, vous vous souviendrez toujours de cette nuit comme l&#39;une des plus amusantes que vous ayez jamais eu dans votre vie. Même si votre soufflé n&#39;a pas bien levé et a failli brûler, Kelsie n&#39;avait que des compliments à vous faire. Vous pouviez voir sur son visage à quel point elle était fière de vous, quel que soit le résultat. Quand il fut le moment d&#39;essayer son dessert, vous saviez dès la première bouchée que vous aviez été complètement battu. Vous ne pouviez pas croire que cette création avait été réalisée à partir de collations choisis au hasard. Vous aviez choisi les éléments qu&#39;elle pouvait utiliser et en aviez même goûté quelques-uns, mais ce qu&#39;elle avait créé avait un goût complètement différent. Et on aurait dit que ce dessert serait sorti d&#39;une boulangerie chic.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Après cette compétition ludique, vous aviez commencé à retarder le plus longtemps possible le moment où vous deviez enfin partir. Si cela ne tenait qu&#39;à vous, vous resteriez ici pour toujours.

Alors que vous êtes sur le point de quitter son appartement en vous penchant pour un autre baiser, vous lâchez : //« Wow… Je t&#39;aime. »// Surprise, Kelsie rougit, vous pousse dehors et vous ferme la porte au nez. Vous restez là, confus, pendant un moment. La porte se rouvre soudainement. Kelsie, toujours rougissante, crie : //« Moi aussi ! »//, vous embrasse encore une fois et referme la porte.

Vous vous tenez devant l&#39;appartement de Kelsie pendant un moment, pétrifié. Votre cerveau n&#39;arrive pas à comprendre ce qui vient de se passer. Reprenant conscience, vous vous retournez et rentrez chez vous, souriant jusqu’aux oreilles.

[[Continuer|Instruc]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="88" name="Instruc_en" tags="Updated" position="1850,1092" size="100,100">You wake up the following day, still not entirely realizing what you had just agreed to. It all just feels like a dream. &lt;&lt;if $happy is 1&gt;&gt;It was only yesterday you decided to tell Kelsie you loved her.  It’s only been 6 months since you have been together, but it felt so right. You know you’ve agreed to something she had asked you then, but still in the high of your love declaration. You seem to come to your senses when you see Kelsie’s message on your phone:&lt;&lt;else&gt;&gt;It seems like it was only yesterday you were standing in front of Kelsie’s apartment, having just declared your love to her. In the back of your mind, you know that you had lunch with Kelsie yesterday and agreed to a proposition she made. You realize the actual extend of it when you see Kelsie&#39;s message on your phone:&lt;&lt;/if&gt;&gt;

&lt;div class=&quot;message&quot;&gt;//Hey $name, 
I hope you&#39;re still excited for this weekend, cause my parents really are. We agreed it would be the nicest if we had a nice lunch together on Saturday. My mother has a particular menu she wants help with, so I&#39;ll be leaving on Friday evening.
Lunch will be on the table by 12h30. If you can arrive earlier, it would be nice. Don&#39;t be late!
And the address is: navigation map link
Love you! 
K.//&lt;/div&gt;

You read it once. And then another time. And another time. The more you read and re-read her message, the more you start to freak out. Why the hell would you agree to do this? Why did you think you were prepared at all? You seemed soooo confident in front of Kelsie yesterday. Where is that confidence now, huh? What are you going to do when Saturday comes around? It is so easy to become the fool in front of people you don’t know. What if her parents don’t like you? What if they like you too much but you don’t like them? You never really asked Kelsie what they were really like. Or what they like. What if you have nothing in common with them? What if you have nothing to talk about with them? What if you start talking way too much and say the wrong thing? They definitely won’t want to know about that time in 5th grade, when your classmate dumped a bucket of water on you, and you started peeing yourself…

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;
So you spiral in your anxiety of meeting Kelsie’s family. And you continue to spiral for most of that day. The only think that you know for certain at that point is that there was no way you could back out now. If you did not go after promising Kelsie, she would never let it go and would always end up being so disappointed in you.

When you start to conjure up the courage of doing something about the situation, you try to make a plan of attack. You still have a few days to prepare. It will be perfect. It must be. You owe it to Kelsie.

[[Continue|Prep]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="89" name="Instruc_frm" tags="translated" position="1850,1767" size="100,100">Vous vous réveillez le lendemain, ne réalisant toujours pas tout à fait ce que vous venez d&#39;accepter. Tout cela a encore l’air d’être sorti d’un rêve. &lt;&lt;if $happy is 1&gt;&gt;Ce n&#39;est qu&#39;hier que vous aviez décidé de dire à Kelsie que vous l&#39;aimiez. Même si cela ne fait que 6 mois que vous êtes ensemble, tout semble juste. Vous savez que vous avez accepté quelque chose qu&#39;elle vous avait demandé à ce moment, mais toujours au sommet de votre déclaration d&#39;amour. Vous semblez reprendre vos esprits lorsque vous voyez le message de Kelsie sur votre téléphone :&lt;&lt;else&gt;&gt;Il semble que ce n&#39;était qu&#39;hier que vous vous trouviez devant l&#39;appartement de Kelsie, venant de lui déclarer votre amour. Au fond de votre esprit, vous savez que vous avez déjeuné avec Kelsie hier et que vous avez accepté une proposition qu&#39;elle vous a faite. Vous ne réalisez l&#39;étendue réelle de celui-ci que lorsque vous voyez le message de Kelsie sur votre téléphone :&lt;&lt;/if&gt;&gt;

&lt;div class=&quot;message&quot;&gt;//Hey $name, 
J&#39;espère que tu es toujours enthousiaste pour ce week-end, parce que mes parents le sont vraiment. On s’est mis d’accord que déjeuner ensemble samedi serait le mieux. Ma mère a un menu particulier pour lequel elle a besoin de l&#39;aide, donc je rentre chez eux vendredi soir.
Le déjeuner sera sur la table à 12h30. Si tu peux arriver plus tôt, ce serait bien. Ne sois pas en retard !
Et l&#39;adresse est : lien vers la carte de navigation
Je t&#39;aime ! 
K.//&lt;/div&gt;

Vous lisez son message une fois. Et puis une deuxième fois. Et une autre fois. Plus vous lisez et relisez son message, plus vous commencez à paniquer. Pourquoi diable avez-vous accepter ceci ? Pourquoi pensez-vous que vous étiez préparé ? Vous sembliez tellement confiant devant Kelsie hier. Où est cette confiance maintenant, hein ? Qu&#39;allez-vous faire quand le samedi arrivera ? Il est si facile d’avoir l’air stupide devant des gens que vous ne connaissez pas. Et si ses parents ne vous aiment pas ? Et s&#39;ils vous aiment trop mais que vous ne les aimez pas ? Vous n&#39;avez jamais vraiment demandé à Kelsie à quoi ils ressemblaient vraiment. Ou ce qu&#39;ils aiment. Et si vous n&#39;avez rien en commun avec eux ? Et si vous n&#39;aviez rien à discuter avec eux ? Et si vous commenciez à parler un peu trop et que vous disiez la mauvaise chose ? Ils ne voudront certainement pas savoir qu’en 5e année, quand votre camarade de classe vous a jeté un seau d&#39;eau sur la tête, que vous avez commencé à vous faire pipi dessus…

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;
Alors, vous commencez à être anxieux de rencontrer la famille de Kelsie. Et vous continuez à tourner en spirale pendant la majeure partie de cette journée. La seule pensée dont vous êtes sûr à ce moment-là est qu&#39;il n&#39;y avait aucun moyen que vous puissiez revenir en arrière maintenant. Si vous n’y allez pas après l’avoir promis à Kelsie, elle ne le lâchera jamais et finira toujours par être déçue de vous.

Lorsque vous commencez à avoir le courage de faire quelque chose pour remédier à la situation, vous essayez d&#39;élaborer un plan d&#39;attaque. Vous avez encore quelques jours pour vous préparer. Tout sera parfait. Cela doit l’être. Vous le devez à Kelsie.

[[Continuer|Prep]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="90" name="Prep_en" tags="Updated" position="1975,1092" size="100,100">With that freak-out out of the way, you think of the best way to make sure this lunch is perfect. Lucky for you, the only thing you need to take care of is… yourself. You start spending hours on the internet, combing pages upon pages of advice to slay meeting your partner&#39;s parents and avoid the usual traps. Diligently making notes through all of it, you end up with a board so full of sticky notes, you could make pixel art with it. You get overwhelmed again and cover the board for the night. You have trouble falling asleep, seeing the covered board as taunting you.

Day 2 of your preparation, you muster your courage and uncover your sticky note board. Some notes fall on the ground. The whole thing is just messy. You try to make sense of it all. Like an investigator on a case, you start seeing patterns between them and start categorizing your note. Taking a break in the middle of it, you realize how glad you are not living with Kelsie right now. She would probably flip out after seeing this mess.

Coming from your extensive research comes out sensible advices. You know that you should be alright as long as you don&#39;t bring up controversial topics, spill drinks on you or anyone, eat with your mouth open or spill food, forget to flush the toilet or overflow it, start a fight with anyone, etc. You know… Common sense. //&quot;No need to impress Kelsie&#39;s parents with my political tirades or bottle juggling then,&quot;// you think, smirking. 

While you start feeling better about how to handle yourself during most of the day, one thing still stresses you out: &lt;&lt;linkappend &quot;first impression.&quot;&gt;&gt;

First impressions are everything. A look is all that is needed for most people to make an idea of you and start judging you. A simple mistake can make you look like a fool and people will never take you seriously. Since you really want to make Kelsie happy, you go through your notes again to find the answer to: &#39;&#39;How to make a great first impression&#39;&#39;.

Again, as much as you wish it, bottle juggling will not help you. However, your notes confirm your suspicion. Before people see who you are, they see what you wear.

[[Let&#39;s Pick an Outfit Then!|Outfit]]&lt;&lt;/linkappend&gt;&gt;</tw-passagedata><tw-passagedata pid="91" name="Prep_frm" tags="translated" position="1975,1767" size="100,100">Avec cette panique passant doucement, vous pensez à la meilleure façon de vous assurer que ce déjeuner soit parfait. Heureusement pour vous, la seule chose dont vous devez vous occuper est… vous-même. Vous commencez à passer des heures sur Internet, à ratisser pages sur pages de conseils pour édifier une bonne relation avec les parents de votre partenaire et éviter les pièges habituels. En prenant des notes avec diligence, vous vous retrouvez avec un tableau si rempli de post-it que vous pourriez faire du pixel art avec. Vous êtes à nouveau submergé de stress et couvrez la planche pour la nuit. Vous avez du mal à vous endormir, la planche couverte vous narguant dans son coin.

Deuxième jour de votre préparation, vous rassemblez votre courage et découvrez votre tableau de post-it. Certaines notes tombent par terre. Le tout a l’air en désordre. Vous essayez de donner un sens à tous vos mots. Comme un enquêteur sur une affaire, vous commencez à voir des liens entre eux et commencez à catégoriser vos notes. En faisant une pause au milieu de celle-ci, vous réalisez à quel point vous êtes heureux de ne pas vivre avec Kelsie en ce moment. Elle s&#39;effondrerait probablement après avoir vu cette pagaille.

De vos recherches approfondies ressortent des conseils judicieux. Vous savez que tout devrait bien se passer tant que vous n&#39;abordez pas des sujets controversés, que vous ne renversez pas de boissons sur vous ou sur quelqu&#39;un d’autre, mangez la bouche ouverte ou renversez de la nourriture, oubliez de tirer la chasse d&#39;eau ou de les faire déborder, commencez une bagarre avec n&#39;importe qui, etc. Le bon sens, quoi. //&quot;Pas besoin d&#39;impressionner les parents de Kelsie avec mes tirades politiques ou mon jonglage de bouteilles alors,&quot;// pensez-vous en souriant d&#39;un air narquois.

Alors que vous commencez à vous sentir mieux sur la façon de vous gérer pendant la majeure partie de la journée, une chose vous stresse toujours : &lt;&lt;linkappend &quot;la première impression.&quot;&gt;&gt;

Les premières impressions sont tellement importantes. Un regard est tout ce dont la plupart des gens ont besoin pour se faire une idée de vous et pour commencer à vous juger. Une simple erreur peut vous faire passer pour un imbécile et les gens ne vous prendront jamais au sérieux. Puisque vous voulez vraiment faire plaisir à Kelsie, vous parcourez à nouveau vos notes pour trouver la réponse à LA question : &#39;&#39;Comment faire une bonne première impression&#39;&#39;.

Encore une fois, autant que vous le souhaitez, jongler avec des bouteilles ne vous aidera pas. Cependant, vos notes confirment vos soupçons. Avant que les gens ne voient qui vous êtes, ils voient ce que vous portez.

[[Choisissez une tenue ! |Outfit]]&lt;&lt;/linkappend&gt;&gt;</tw-passagedata><tw-passagedata pid="92" name="Outfit_en" tags="Updated" position="2100,1092" size="100,100">You stare blankly at the full closet in front of you. From black tie to carnival costume, you have amassed a large collection of outfits, that could cover most if not all situations someone could encounter in their life. With hand-me-downs, thrifting and sales, and the occasional gifts, your closet is almost bursting with clothes. 

//Shit… Am I a hoarder?// you think in the back of your mind.// Well, not really the time to think about it now. Focus $name!//

You take a full breath and try to look at your closet with a different eye. You see that you have 3 types of outfit in there: fancy, casual and funky (though some people might call it peculiar). Well, there is also this one sexy fireman costume you have. You try to take it out as often as you can, but it might not be the appropriate choice for this occasion.


//“What should I wear?”// you mutter. 

* [[Your motto is dress to impress. You better pick your fanciest outfit.|Blacktie][$outfit to 1]]
* [[You want to make sure that they remember you. You should pick your funkiest flashiest outfit!|Swimsuit][$outfit to 0]]
* [[Maybe the middle lane is best. Like a casual outfit.|Casual][$outfit to 2]]</tw-passagedata><tw-passagedata pid="93" name="Outfit_frm" tags="translated" position="2100,1767" size="100,100">Vous regardez fixement le placard plein devant vous. Du smoking chic au costume de carnaval, vous avez amassé une large collection de tenues, qui pourraient couvrir la plupart, sinon toutes les situations, que quelqu&#39;un pourrait rencontrer dans sa vie. Avec les articles de seconde main, les friperies et les soldes, et les cadeaux occasionnels, votre garde-robe regorge de vêtements.

//Merde… Suis-je un amasseur ?// vous pensez au fond de votre esprit. //Eh bien, c’est pas le moment d&#39;y penser maintenant. Concentre-toi $name !//

Vous respirez un bon coup et essayez de regarder votre garde-robe avec un œil différent. Vous y trouvez 3 types de tenues : chic, décontracté et funky (bien que certaines personnes qualifieraient cette catégorie comme &quot;particulier&quot;). Votre œil se tourne aussi vers ce costume de pompier sexy que vous avez dans un coin du placard. Vous essayez de le sortir aussi souvent que possible, mais ce n&#39;est peut-être pas le choix approprié pour cette occasion.

//« Qu’est-ce que je devrais mettre ? »// vous marmonnez.

* [[Votre devise est de s&#39;habiller pour impressionner. Vous feriez mieux de choisir la tenue la plus chic. |Blacktie][$outfit to 1]]
* [[Vous voulez vous assurer qu&#39;ils se souviennent tous de vous. Vous devriez choisir votre tenue la plus originale et la plus flashy ! |Swimsuit][$outfit to 0]]
* [[Il vaudrait mieux ne pas faire trop de vague, et mettre une tenue décontractée. |Casual][$outfit to 2]]</tw-passagedata><tw-passagedata pid="94" name="Change_en" tags="Updated" position="2100,1217" size="100,100">You take off the outfit that you have just chosen. This does not feel right. Maybe there is a better way of showing yourself off to Kelsie’s parents.

You look again at your closet to pick again an outfit:
* [[Let&#39;s not be forgotten tomorrow. Flashiest outfit it is!|Swimsuit][$outfit to 0]]
* [[First impression are important, but this is a simple lunch too. Better go with a simple casual outfit.|Casual][$outfit to 2]]
* [[This day will be one of the most important day of your life. Show them how important it is with your fanciest clothes.|Blacktie][$outfit to 1]]

</tw-passagedata><tw-passagedata pid="95" name="Change_frm" tags="translated" position="2100,1892" size="100,100">Vous enlevez la tenue que vous venez de choisir. Vous ne le sentez pas. Il y a peut-être une meilleure façon de vous présenter aux parents de Kelsie.

Vous regardez à nouveau votre penderie pour trouver une nouvelle tenue :
* [[Il vaut mieux ne pas être oublié demain. La tenue la plus originale, le mieux ! |Swimsuit][$outfit to 0]]
* [[La première impression est importante, mais c’est censé être aussi un simple déjeuner. Mieux vaut aller avec une simple tenue décontractée. |Casual][$outfit to 2]]
* [[Ce jour sera l&#39;un des jours les plus importants de votre vie. Montrez-leur à quel point c&#39;est important avec votre tenue la plus chic. |Blacktie][$outfit to 1]]</tw-passagedata><tw-passagedata pid="96" name="Casual_en" tags="Updated" position="2225,1092" size="100,100">//“Maybe it’s safer to go simple and casual,”// you mutter. //“I’m pretty sure I noted down that the best outfits were usually the ones made of a simple pair of pants and a nice fitted shirt.”// 

You search around in your closet for those two items. Between your collection of jeans in any colour imaginable and of shirts in motifs that should have been burnt as soon as it was created, you need a moment to pick a good combination. Looking like a human rainbow is fun, but you are striving to be casual, not really funky.

You end up settling on a simple pair of dark blue jeans and a button shirt with flowery details. You ponder for a bit if you should add a jacket on top of it. You try on the outfit chosen with a couple of jackets that you own.

//“Easy and simple is best,”// you say while taking off the last jacket. //“No need for accessory, this is fine by itself.”//

* [[Continue with this outfit|Bed]] 
* [[Pull out a different outfit|Change]]</tw-passagedata><tw-passagedata pid="97" name="Casual_frm" tags="translated" position="2225,1767" size="100,100">//« Peut-être qu&#39;il est plus sûr d&#39;y aller simple et décontracté »//,
murmurez-vous. //« Je suis presque sûr d&#39;avoir noté sur un des Post-It que les meilleures tenues étaient généralement celles composées d&#39;un simple pantalon et d&#39;une belle chemise ajustée. »// 

Vous cherchez dans votre garde-robe ces deux articles. Entre votre collection de jeans de toutes les couleurs imaginables et celle de chemises aux motifs qui auraient dû être brûlés dès leur création, il vous faut un moment pour choisir une bonne combinaison. Ressembler à un arc-en-ciel humain est amusant, mais vous vous efforcez d&#39;être décontracté, pas vraiment original.

Vous finissez par vous fixer sur un simple jean bleu foncé et une chemise boutonnée aux détails fleuris. Vous réfléchissez un peu si vous devriez ajouter une veste par-dessus. Vous essayez la tenue choisie avec quelques vestes que vous possédez.

//« Facile et simple, c&#39;est mieux »//, dites-vous en enlevant la dernière veste.  //« Pas besoin d&#39;accessoire, ça marche très bien tout seul. »//

* [[Continuer avec cette tenue. |Bed]] 
* [[Sortez une tenue différente. |Change]]</tw-passagedata><tw-passagedata pid="98" name="Swimsuit_en" tags="Updated" position="2225,967" size="100,100">//“Funkiest it is!”// you exclaim, pulling out of your closet an outfit of bright colours, made of cloth that could barely cover your privates. //“This is for sure going to make a strong first impression for sure!”//

You try your best to recall the last time you’ve worn this, as you put it on to check if it still fits. You are pretty sure that it was out during that Halloween party, a couple of days after you had met Kelsie for the first time. You had not had your first date yet with her. The rest of your memories from that night are quite hazy, probably due to the alcohol passed around all night. You remember your friends taking funny pictures of you, completely wasted, in the most outrageous positions, partying like there was no tomorrow. 

Thankfully, they had the good sense of not posting them online but only keep them, with the intent of sending them to you once in a while for a laugh or two. Kelsie also had a good laugh when she saw them.

You look at yourself in the mirror. That outfit is a bit tighter than you remember. But you can make it work. //I wonder if Kelsie will laugh this time too.//

* [[Continue with this outfit|Bed]] 
* [[Pull out a different outfit|Change]]
</tw-passagedata><tw-passagedata pid="99" name="Swimsuit_frm" tags="translated" position="2225,1642" size="100,100">//« Allons-y avec la tenue la plus originale ! »// vous vous exclamez en sortant de votre armoire une tenue aux couleurs vives, faite d&#39;un tissu qui pourrait à peine couvrir vos parties intimes. //« Cela va faire une forte première impression à coup sûr ! »//

Vous faites de votre mieux pour vous rappeler la dernière fois que vous avez porté cet habit, tout en le mettant pour vérifier qu&#39;il vous aille toujours. Vous êtes presque sûr de l’avoir mis pendant cette fête d&#39;Halloween, quelques jours après avoir rencontré Kelsie pour la première fois. Vous n&#39;aviez pas encore eu votre premier rendez-vous avec elle. Le reste de vos souvenirs de cette nuit-là est assez flou, probablement à cause de l&#39;alcool qui a coulé à flot toute la nuit. Vous vous souvenez de vos amis vous prenant en photo, complètement ivre, dans les positions assez embarrassantes, faisant la fête comme s&#39;il n&#39;y avait pas de lendemain.

Heureusement, vos amis ont eu le bon sens de ne pas les publier en ligne mais de les garder à tenu de main, dans l&#39;intention de vous les envoyer de temps en temps pour en rire. Kelsie a également bien ri en les voyant.

Vous vous regardez dans le miroir. Cette tenue est un peu plus serrée que vous vous en souvenez. Mais vous pouvez le faire fonctionner. //Je me demande si Kelsie va rire aussi cette fois.//

* [[Continuer avec cette tenue. |Bed]] 
* [[Sortez une tenue différente. |Change]]
</tw-passagedata><tw-passagedata pid="100" name="Blacktie_en" tags="Updated" position="2225,1217" size="100,100">You look at the hanged pieces, each covered by a plastic protection. Under the plastic hangs a different suit, each fancier than the other. These clothes are clearly not often worn, as dust disperses around when you try to take a peek at them. You haven’t worn any of these for months now. You try to recall when was the last time you pulled one of these bad boys out. Maybe a wedding? Or was it that fancy party?

You end up pulling out one of the suit from your closet. You are pretty sure this was the last one you had worn and the one that would probably fit you best in your current shape. You pull the zipper of the plastic cover down to extract the suit. Its material feels expensive to the touch, and its cut is crisp. A few years back, you had brought it to a tailor to have it fitted to you. But you are not in the same shape as you were then.

//“I hope it still fits properly…”// you mutter as you put it on.

Looking in the mirror, you can see that the suit is a bit too tight in some places, hanging a bit sloppily on you. Thankfully, all of it disappears when you finally put on the blazer.

//“What better way to show how important tomorrow is by wearing my best outfit!”// you exclaim as you look at yourself in the mirror.

* [[Continue with this outfit|Bed]] 
* [[Pull out a different outfit|Change]]
</tw-passagedata><tw-passagedata pid="101" name="Blacktie_frm" tags="translated" position="2225,1892" size="100,100">Vous regardez les pièces pendues, chacune recouverte d&#39;une protection en plastique. Sous le plastique se trouve un costume différent, tous plus chics les uns que les autres. Ces vêtements ne sont manifestement pas souvent portés, car la poussière se disperse lorsque vous essayez de les regarder. Vous n&#39;en avez pas porté depuis des mois. Vous essayez de vous rappeler à quand remonte la dernière fois que vous avez sorti un de ces smokings. Peut-être un mariage ? Ou était-ce cette fête professionnelle ?

Vous finissez par sortir l&#39;un des costumes de votre placard. Vous êtes presque sûr que c&#39;était le dernier que vous aviez porté et celui qui vous irait probablement le mieux en prenant en compte votre physique actuel. Vous tirez vers le bas la fermeture éclair de la protection en plastique pour extraire le smoking. Son tissu est cher au toucher et sa coupe est nette. Vous vous souvenez l’avoir apporté à un tailleur à l’époque pour qu’il vous l’ajuste. Mais votre corps n&#39;a plus dans la même forme qu&#39;à l&#39;époque.

//« J&#39;espère qu&#39;il me va encore... »// murmurez-vous en le mettant.

En vous regardant dans le miroir, vous pouvez voir que le costume est un petit peu serré à certains endroits, s&#39;accrochant un peu négligemment sur vous. Heureusement, tout disparaît lorsque vous enfilez enfin le blazer.

//« Quelle meilleure façon de montrer à quel point demain est important en portant ma plus belle tenue ! »// vous vous exclamez en vous regardant dans le miroir.

* [[Continuer avec cette tenue. |Bed]] 
* [[Sortez une tenue différente. |Change]]
</tw-passagedata><tw-passagedata pid="102" name="Bed_en" tags="Updated" position="2350,1092" size="100,100">Happy with your decision, you leave your outfit in the bathroom and close your closet doors. You also put aside what you will need to get ready tomorrow. You set yourself in front of the mirror, offering your hand to your reflection. 

//“Good morning, my name is $name, nice to meet you... no, it won&#39;t be morning anymore... and it&#39;s not really afternoon then... maybe something like this instead? Hello, thank you for inviting me over, my name is $name... Ugh... this is weird.”//

You spend the rest of the evening pitching to the mirror how you should introduce yourself, what to answer their questions, what to say if some topics are brought up and just in case, you write down a list of question you could ask to them. 

Feeling more or less prepared for tomorrow. You settle in your bed, when you hear your phone vibrating and see a notification on your phone. It&#39;s a text from Kelsie.

&lt;div class=&quot;message&quot;&gt;//Can&#39;t wait for you to meet up everyone tomorrow. 
FYI, I&#39;ll be taking care of lunch tomorrow, so if you text me after 9, I won&#39;t be able to answer you. 
Love you $name. K//&lt;/div&gt;

You text back your excitement and that you love her. You can&#39;t help but smile as you close your eyes. Hopefully, tomorrow will pass without any problem. Thinking of her, you fall soundly asleep.

[[Continue|Saturday]] </tw-passagedata><tw-passagedata pid="103" name="Bed_frm" tags="translated" position="2350,1767" size="100,100">Heureux de votre décision, vous laissez votre tenue dans la salle de bain et fermez les portes de votre placard. Vous mettez également de côté ce dont vous aurez besoin pour vous préparer demain. Vous vous installez devant le miroir, offrant votre main à votre reflet.

//« Bonjour, je m&#39;appelle $name, ravi de vous rencontrer... non, ce ne sera plus le matin à ce point... et ce n&#39;est pas vraiment l&#39;après-midi alors... peut-être quelque chose comme ça à la place ? Bonjour, merci de m&#39;avoir invité, je m&#39;appelle $name... Ugh... c&#39;est trop bizarre. »//

Vous passez le reste de la soirée à expliquer au miroir comment vous présenter, quoi répondre à leurs questions, quoi dire si certains sujets sont abordés et juste au cas où, vous écrivez une liste de questions que vous pourriez leur poser.

Vous sentant plus ou moins préparé pour demain, vous vous installez dans votre lit, lorsque vous entendez votre téléphone vibrer et voyez une notification sur votre téléphone. C&#39;est un texto de Kelsie.

&lt;div class=&quot;message&quot;&gt;//J&#39;ai hâte que tu rencontres tout le monde demain.
Pour info, je m&#39;occupe du déjeuner demain, donc si tu m&#39;envoies un texto après 9h, je ne pourrai pas te répondre.
Je t&#39;aime $name. K//&lt;/div&gt;

Vous lui répondez à quel point votre excitation vous tient debout et que vous l&#39;aimez. Vous ne pouvez pas vous empêcher de sourire en fermant les yeux. Espérons que demain se passera sans problème. En pensant à elle, vous vous endormez profondément.

[[Continuer|Saturday]] </tw-passagedata><tw-passagedata pid="104" name="Saturday_en" tags="Updated" position="2475,1092" size="100,100">//&#39;&#39;BZZZT... BZZZT...&#39;&#39;//

You wake up brusquely and reach your hand out to your phone. Your alarm only just started ringing. It&#39;s a good thing Kelsie changed your alarm ringtone recently, your brain was really getting used to the old one.

Still sleepy, you make your way to the bathroom to take a quick shower. It slowly dawns on you that you are meeting Kelsie&#39;s parents for the first time today. You start feeling a bit anxious at the thought of messing up somehow. You don&#39;t want to disappoint Kelsie in all of this. 

You glance in the mirror and see your &lt;&lt;if $outfit lt 1&gt;&gt;funky skimpy outfit&lt;&lt;elseif $outfit gt 1&gt;&gt;jean and button shirt&lt;&lt;else&gt;&gt;fancy smocking suit&lt;&lt;/if&gt;&gt; hanging behind you. You&#39;re glad you prepared a bit yesterday. You recall yourself talking to the mirror yesterday.

//“This was the weirdest interview preparation I have ever done in my life,”// you think to yourself.

You step in the warm shower and you shed a bit the stress in your shoulder. You keep reminding yourself that everything should be alright.

You step out of the shower and get ready. Giddy with excitement, you can&#39;t stop thinking about how you can&#39;t wait to meet everybody and make Kelsie proud.

[[Continue|Leaving]]</tw-passagedata><tw-passagedata pid="105" name="Saturday_frm" tags="translated" position="2475,1767" size="100,100">//&#39;&#39;BZZZT... BZZZT...&#39;&#39;//

Vous vous réveillez brusquement et tendez le bras vers votre téléphone. Votre réveil vient juste de sonner. C&#39;est une bonne chose que Kelsie ait changé votre sonnerie récemment, votre cerveau s&#39;habituait vraiment à l&#39;ancienne.

Toujours à moitié endormi, vous vous dirigez vers la salle de bain pour prendre une douche rapide. Vous réalisez lentement que vous allez rencontrer les parents de Kelsie pour la première fois aujourd&#39;hui. Vous commencez à vous sentir un peu anxieux à l&#39;idée de tout gâcher d&#39;une manière ou d&#39;une autre. Vous ne voulez pas décevoir Kelsie dans tout ça.

Vous regardez le miroir et voyez dans sa réflexion votre &lt;&lt;if $outfit lt 1&gt;&gt;tenue originale&lt;&lt;elseif $outfit gt 1&gt;&gt;jean et chemise à fleurs&lt;&lt;else&gt;&gt;élégant smoking&lt;&lt;/if&gt;&gt; accroché derrière vous. Vous êtes bien content de vous avoir préparé un peu hier. Vous vous souvenez soudainement avoir parlé au miroir hier.

//« C’était vraiment la préparation d&#39;entretien la plus étrange que j&#39;ai jamais faire de ma vie, »// pensez-vous.

Vous entrez dans la douche chaude et vous vous débarrassez un peu du stress attaché à vos épaules. Vous essayez de vous rappeler que tout devrait bien se passer aujourd’hui.

Vous sortez de la douche et vous vous préparez. Étourdi d&#39;excitation, vous ne pouvez pas arrêter de penser à quel point vous avez hâte de rencontrer tout le monde et de rendre Kelsie fière.

[[Continuer|Leaving]]</tw-passagedata><tw-passagedata pid="106" name="Leaving_en" tags="Updated" position="2600,1092" size="100,100">Ready to go, you look at the clock. If you leave now, you would still be able to make it... well… for a late breakfast. You sit down cursing under your breath. You could have woken up later, sleep a bit longer and still be on time for lunch. Nevertheless, before you start twiddling at your thumb waiting for time to pass, you should think seriously about when to leave for the Spark&#39;s home.

You type the address Kelsie gave you on your navigation app. It should take you about 30 minutes to get there with the current traffic.


You decide to:
* [[leave at the time given by the app. They have accurate algorithms to calculate this kind of things. It should be alright.|GPS][$time to 0]]
* [[leave about 30min earlier, you never know what could happen on the road. Traffic could be worse by the time you step into the car.|30Early][$time to 1]]
* [[leave even earlier. Better be too early than late. 1 hour early should do the trick.|60Early][$time to 2]]</tw-passagedata><tw-passagedata pid="107" name="Leaving_frm" tags="translated" position="2600,1767" size="100,100">Prêt à partir, vous regardez l&#39;heure. Si vous partez maintenant, vous pourrez toujours arriver à l’heure... enfin... pour un petit-déjeuner tardif. Vous vous asseyez en ruminant dans votre souffle. Vous auriez pu vous réveiller plus tard, dormir un peu plus longtemps et être toujours à l&#39;heure pour le déjeuner. Néanmoins, avant de commencer à vous tourner les pouces en attendant que le temps passe, vous devriez réfléchir sérieusement au moment de partir pour la maison des Sparks.

Vous saisissez l&#39;adresse que Kelsie vous a donnée sur votre application de navigation. Vous voyez que vous avez besoin de compter environ 30 minutes pour vous y rendre avec le trafic actuel.

Vous décidez de :
* [[partir à l’heure indiquée sur l’application. Ils ont bien des algorithmes qui calculent ce genre de chose. Tout devrait bien aller. |GPS][$time to 0]]
* [[partir 30min en avance. On ne sait jamais ce qu’il peut arriver en route. Le trafic pourrait empirer à partir du moment où vous vous mettez au volant. |30Early][$time to 1]]
* [[partir encore plus tôt. Il vaut mieux arriver un peu tôt qu’en retard. 1h en avance devrait faire l’affaire. |60Early][$time to 2]]</tw-passagedata><tw-passagedata pid="108" name="GPS_en" tags="Updated" position="2725,967" size="100,100">You decide to put your trust in the algorithm. After all, they are complicated enough to take into account whatever could happen with traffic. Plus, isn&#39;t it fashionable to be a tad late? 

Since you have a few hours on your hand, you decide to turn on your laptop and continue watching your series to pass the time. Once in a while, you check the time to see if you can still watch another episode or not.

As the cliff-hanger closes that last episode, you realize it is time for you to go. You set your laptop aside and walk towards the door to grab your keys, wallet and phone.&lt;&lt;if $outfit is 0&gt;&gt; Instinctively, you try to put them in your pockets. That is until you realize that your outfit does not have any. There is only so much cloth to cover your privates, and definitely not more for a pocket. You look around you and find lying on the floor a dusty belt pouch.

//“Well, this should do the trick!”// you think as you put it on, inserts your stuff and leave the apartment.&lt;&lt;else&gt;&gt; You put them in your pocket and leave your apartment.&lt;&lt;/if&gt;&gt;

You get into your car and set up your phone. As the navigation app calculates the best way to get to your destination, you notice that the roads you need to take are not coloured in green like they should be.

//“Damn”//

You were misled by your phone yet again. The screen shows that some traffic has built up. If you speed up a bit on some parts of the road or take a bit of a detour to avoid traffic, you should be able to make it on time

You start up your car and go on your way.

[[Continue|Stop]] 
</tw-passagedata><tw-passagedata pid="109" name="GPS_frm" tags="translated" position="2725,1642" size="100,100">Vous décidez de faire confiance à l&#39;algorithme. Après tout, ils sont suffisamment compliqués pour prendre en compte tout ce qui pourrait arriver avec le trafic. De plus, n&#39;est-il pas à la mode d&#39;être un peu en retard ?

Comme vous avez quelques heures devant vous, vous décidez d&#39;allumer votre ordinateur portable et de continuer à regarder votre série pour passer le temps. De temps en temps, vous vérifiez l&#39;heure pour voir si vous pouvez toujours regarder un autre épisode ou non.

Alors que le suspense ferme ce dernier épisode, vous réalisez qu&#39;il est temps pour vous de partir. Vous mettez votre ordinateur portable de côté et vous vous dirigez vers la porte pour récupérer vos clés, votre portefeuille et votre téléphone.&lt;&lt;if $outfit is 0&gt;&gt; Instinctivement, vous essayez de les mettre dans vos poches. Jusqu&#39;à ce que vous vous rendiez compte que votre tenue n&#39;en a pas. Il n&#39;y a qu&#39;une quantité limitée de tissu pour couvrir vos parties intimes, et certainement pas assez pour une poche. Vous regardez autour de vous et trouvez par terre une banane couverte de poussière.

//« Eh bien, cela devrait faire l&#39;affaire ! »// vous pensez en l’attachant à vos hanches, y insérant vos affaires et quittant l&#39;appartement.&lt;&lt;else&gt;&gt; Vous les mettez dans votre poche et quitter l’appartement.&lt;&lt;/if&gt;&gt;

Vous montez dans votre voiture et configurez votre téléphone. Alors que l&#39;application de navigation calcule le meilleur moyen d&#39;atteindre votre destination, vous remarquez que les routes que vous devez emprunter ne sont pas colorées en vert comme elles devraient l&#39;être.

//« Et merde… »//

Vous avez encore été induit en erreur par votre téléphone. L&#39;écran montre que le trafic s&#39;est accumulé depuis toute à l’heure. Si vous accélérez un peu sur certaines parties de la route ou faites un petit détour pour éviter la circulation, vous devriez pouvoir arriver à temps pour le déjeuner.

Vous démarrez votre voiture et continuez votre chemin.

[[Continuer|Stop]] 
</tw-passagedata><tw-passagedata pid="110" name="30Early_en" tags="Updated" position="2725,1092" size="100,100">//“Better be a bit early than late”//, you think to yourself.

You don&#39;t want to make a fool of yourself by following an app that is, by nature, flawed. They can’t take into account now what could happen in the future. There could be more traffic than expected, or worse an accident that stops it completely. You really don’t want to be stuck on the road and arrive late.

Since you decided to leave 30 minutes early, you don&#39;t need to wait too long at home. Twiddling your thumbs is fun at first, but you soon get bored. You wish that it would be time to go already.

When the moment finally come, you get up, walks to the door and pick-up your keys, wallet and phone.&lt;&lt;if $outfit is 0&gt;&gt; Instinctively, you try to put them in your pockets. That is until you realize that your outfit does not have any. There is only so much cloth to cover your privates, and definitely not more for a pocket. You look around you and find lying on the floor a dusty belt pouch. 

//“Well, this should do the trick!”// you think as you put it on, inserts your stuff and leave the apartment.&lt;&lt;else&gt;&gt; You put them in your pocket and leave your apartment.&lt;&lt;/if&gt;&gt;

You get into your car and set up your phone. As you predicted, it shows that some traffic has built up. You hope that you left early enough to arrive on time. You start up your car and go on your way.

[[Continue|Stop]]  
</tw-passagedata><tw-passagedata pid="111" name="30Early_frm" tags="translated" position="2725,1767" size="100,100">//« Mieux vaut arriver un peu tôt que tard »//, pensez-vous.

Vous ne voulez pas vous ridiculiser en suivant une application qui est, par nature, imparfaite. Ils ne peuvent pas prendre en compte maintenant ce qui pourrait arriver à l&#39;avenir. Il pourrait y avoir plus de trafic que prévu, ou pire un accident qui l&#39;arrête complètement. Vous ne voulez vraiment pas être coincé sur la route et arriver en retard.

Puisque vous avez décidé de partir 30 minutes plus tôt, vous n&#39;avez pas besoin d&#39;attendre trop longtemps à la maison. Se tourner les pouces est amusant au début, mais on s&#39;ennuie assez vite. Vous souhaitez qu&#39;il soit déjà moment de partir.

Quand le moment arrive enfin, vous vous levez. Vous vous dirigez vers la porte pour récupérer vos clés, votre portefeuille et votre téléphone.&lt;&lt;if $outfit is 0&gt;&gt; Instinctivement, vous essayez de les mettre dans vos poches. Jusqu&#39;à ce que vous vous rendiez compte que votre tenue n&#39;en a pas. Il n&#39;y a qu&#39;une quantité limitée de tissu pour couvrir vos parties intimes, et certainement pas assez pour une poche. Vous regardez autour de vous et trouvez par terre une banane couverte de poussière.

//« Eh bien, cela devrait faire l&#39;affaire ! »// vous pensez en l’attachant à vos hanches, y insérant vos affaires et quittant l&#39;appartement.&lt;&lt;else&gt;&gt; Vous les mettez dans votre poche et quitter l’appartement.&lt;&lt;/if&gt;&gt;

Vous montez dans votre voiture et configurez votre téléphone. Comme vous l&#39;aviez prévu, l’application montre que le trafic s&#39;est accumulé. Vous espérez être parti assez tôt pour arriver à l&#39;heure. Vous démarrez votre voiture et continuez votre chemin.

[[Continuer|Stop]]  
</tw-passagedata><tw-passagedata pid="112" name="60Early_en" tags="Updated" position="2725,1217" size="100,100">//“Better be too early than too late”//, you think to yourself.

You don&#39;t want to make a fool of yourself by following an app that is, by nature, flawed. They can’t take into account now what could happen in the future. There could be more traffic than expected, or worse an accident that stops it completely.

Since you decided to leave 1 hour early, you don&#39;t need to wait too long at home. Twiddling your thumbs is fun at first, but you couldn&#39;t have stand more if you had to wait longer than this.

When the moment finally come, you get up, walks to the door and pick-up your keys, wallet and phone.&lt;&lt;if $outfit is 0&gt;&gt; Instinctively, you try to put them in your pockets. That is until you realize that your outfit does not have any. There is only so much cloth to cover your privates, and definitely not more for a pocket. You look around you and find lying on the floor a dusty belt pouch. 

//“Well, this should do the trick!”// you think as you put it on, inserts your stuff and leave the apartment.&lt;&lt;else&gt;&gt; You put them in your pocket and leave your apartment.&lt;&lt;/if&gt;&gt;

You get into your car and set up your phone. 

//“Ha!”// you exclaim watching the screen. 

As you predicted, it shows that some traffic has built up. You don&#39;t worry much as you have ample time to get to your destination. You start up your car and go on your way.

[[Continue|Stop]] </tw-passagedata><tw-passagedata pid="113" name="60Early_frm" tags="translated" position="2725,1892" size="100,100">//« Mieux vaut arriver trop tôt que trop tard »//, pensez-vous.

Vous ne voulez pas vous ridiculiser en suivant une application qui est, par nature, imparfaite. Ils ne peuvent pas prendre en compte maintenant ce qui pourrait arriver à l&#39;avenir. Il pourrait y avoir plus de trafic que prévu, ou pire un accident qui l&#39;arrête complètement.

Puisque vous avez décidé de partir 1 heure plus tôt, vous n&#39;avez pas besoin d&#39;attendre trop longtemps à la maison. Tourner les pouces est amusant au début, mais vous n&#39;auriez pas pu rester plus longtemps si vous deviez attendre plus longtemps que cela.

Quand le moment arrive enfin, vous vous levez. Vous vous dirigez vers la porte pour récupérer vos clés, votre portefeuille et votre téléphone.&lt;&lt;if $outfit is 0&gt;&gt; Instinctivement, vous essayez de les mettre dans vos poches. Jusqu&#39;à ce que vous vous rendiez compte que votre tenue n&#39;en a pas. Il n&#39;y a qu&#39;une quantité limitée de tissu pour couvrir vos parties intimes, et certainement pas assez pour une poche. Vous regardez autour de vous et trouvez par terre une banane couverte de poussière.

//« Eh bien, cela devrait faire l&#39;affaire ! »// vous pensez en l’attachant à vos hanches, y insérant vos affaires et quittant l&#39;appartement.&lt;&lt;else&gt;&gt; Vous les mettez dans votre poche et quitter l’appartement.&lt;&lt;/if&gt;&gt;

Vous montez dans votre voiture et configurez votre téléphone.

//« Ha! »// vous exclamez-vous en regardant l&#39;écran.

Comme vous l&#39;aviez prévu, l’application montre que le trafic s&#39;est accumulé. Vous ne vous inquiétez pas beaucoup car vous avez amplement le temps d&#39;arriver à destination. Vous démarrez votre voiture et continuez votre chemin.

[[Continuer|Stop]] </tw-passagedata><tw-passagedata pid="114" name="Stop_en" tags="Updated" position="2850,1092" size="100,100">On your way to the Spark&#39;s house, you wonder if you should maybe stop somewhere and buy something to bring to Kelsie’s parents. You try to think of what could be appropriate to bring to someone, when they invite you to their house. You wish you had asked Kelsie beforehand. Calling her now would be useless, she mentioned she would be busy with preparing the food before lunch.

At a crossroad, you see multiple stores, among others, a liquor store, a flower shop and a bakery. You try to recollect what you have learnt so far about her family. You vaguely remember an old story about a family member swearing off alcohol for a while. Not wanting to risk anything, you cross it out of your mental list. You also check the time. Stopping to get something would take some time and could make you late. Should you really stop and run that risk?

What should you do ?
* [[Stop at the Flower shop and pick out a thoughtful bouquet of lovely flowers.|Flower][$present to 2]]
* [[Stop at the Bakery and get a delicious assortment of small cakes for dessert.|Dessert][$present to 1]]
* [[Better not run the risk of being late today. Let&#39;s not stop.|Nothing][$present to 0]]

&lt;&lt;if $memory is &quot;flower&quot;&gt;&gt;
&lt;&lt;linkappend &quot;Hint&quot;&gt;&gt;&lt;&lt;dialog &#39;Your Memory&#39;&gt;&gt;\Your thoughts immediately remember that night, when Kelsie first brought up the idea of this lunch. You recall that she had enjoyed the bouquet you brought her much more than the sweets.\&lt;&lt;/dialog&gt;&gt;&lt;&lt;/linkappend&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="115" name="Stop_frm" tags="translated" position="2850,1767" size="100,100">En chemin vers la maison des Sparks, vous vous demandez si vous ne devriez pas vous arrêter quelque part et acheter quelque chose à offrir aux parents de Kelsie. Vous essayez de penser à ce qui pourrait être approprié d&#39;apporter à quelqu&#39;un, lorsque vous êtes invité chez eux. Vous auriez aimé avoir posé la question à Kelsie avant de partir. L&#39;appeler maintenant serait inutile, elle a mentionné qu&#39;elle serait occupée à cuisiner les plats avant le déjeuner.

À un carrefour, vous voyez plusieurs magasins, entre autres, une cave, un fleuriste et une boulangerie. Vous essayez de vous souvenir de ce que vous avez appris jusqu&#39;à présent sur sa famille. Vous vous souvenez vaguement d&#39;une vieille histoire à propos d&#39;un membre de la famille qui jure de ne plus boire d&#39;alcool. Ne voulant rien risquer, vous le rayez de votre liste mentale. Vous vérifiez également l&#39;heure. Si vous vous arrêtez pour obtenir quelque chose prendrait un certain temps et pourrait vous mettre en retard. Faut-il vraiment s&#39;arrêter et courir ce risque ?

Que choisissez-vous de faire ?
* [[Vous vous arrêtez devant le fleuriste et choisissez un bouquet bien pensé de belles fleurs.|Flower][$present to 2]]
* [[Vous vous arrêtez devant la boulangerie et obtenez un délicieux assortiment de petits gâteaux pour le dessert. |Dessert][$present to 1]]
* [[Vous ne vous arrêtez pas. Il faut mieux de pas courir le risque d’être en retard aujourd’hui|Nothing][$present to 0]]

&lt;&lt;if $memory is &quot;flower&quot;&gt;&gt;
&lt;&lt;linkappend &quot;Hint&quot;&gt;&gt;&lt;&lt;dialog &#39;Votre Souvenir&#39;&gt;&gt;\Vos pensées se souviennent immédiatement de cette nuit-là, lorsque Kelsie a évoqué pour la première fois l&#39;idée de ce déjeuner. Vous vous souvenez qu&#39;elle avait beaucoup plus apprécié le bouquet que vous lui aviez apporté que les bonbons.\&lt;&lt;/dialog&gt;&gt;&lt;&lt;/linkappend&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="116" name="Dessert_en" tags="Updated" position="2975,1142" size="100,100">&lt;&lt;if $outfit is 2&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;You decide to stop at the bakery for some delicious dessert. You pull over to the door and enter the shop.

The bakery is almost empty, especially for the time of day. Feeling lucky, you decide that you will take your time to choose what to get. Or maybe just follow the recommendation of the employee, they rarely get it wrong after all.

//“Good morning! How can I help you today?”// asks the employee at the counter, with a monotone voice. She does not seem to want to be here right now.
//“Hi there. I am meeting my girlfriend&#39;s parents for the first time today and I wanted to bring dessert to them. Can you recommend me a nice selection?”
“Sure. Any preference in taste? Any dietary restriction?”
“Uhh…”//, you mutter. 

Maybe it was not the best idea to bring dessert without asking Kelsie first. And now, it was too late to ask her. You realize that when the occasion rose, she would usually make and bring the treats. People would avoid doing them on purpose, as hers were clearly superior. It is now also too late to back out and arrive there without anything in hands.

//“No preference in taste. No restriction that I know of. Can you give me a simple selection that is usually like by most?”
“Suuure... Let&#39;s get you some fruity small tarts. Then a few creamy ones and a few with chocolate.”//

She packs nicely the box with the treats inside. You thank her profusely for her help, she rolls her eyes and give you a very fake smile. You pay and get on your way.

You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.


[[Continue|Arrival]]

&lt;&lt;elseif $outfit is 1&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;You decide to stop at the bakery for some delicious dessert. You pull over to the door and enter the shop.

The bakery is empty, especially for the time of day. Feeling lucky, you decide that you will take your time to choose what to get. Or maybe just follow the recommendation of the employee, they rarely get it wrong after all.

//“Good morning! How can I help... Oh!”// exclaims the employee at the counter, stopping dead in her tracks after taking a look at you. //“If I had known someone so attractive would walk into the shop today, I&#39;d have worn something nicer,”// she adds, winking at you.

You start to blush. It&#39;s not every day people notice you like that. While it does feel good to be complimented on your looks, you also feel a bit awkward by it.

//“Is he here right now...”// the employee looks around, as if looking for someone. When it is clear the place is clear, she adds: //“I don&#39;t usually do this... Say handsome, are you free later? Would you want to get a drink with me? My treat.”//

Flabbergasted by the attitude of the employee, you can&#39;t help but just stand there, mouth open. She notices and giggles.

//“I do have that effect on people. So what do you say, cutie?”
“I... I wasn&#39;t really expecting this,”// you mumble.
//“How about I give you my number and you decide later?”//

She writes something on one of the bakery business card and hands it to you.

What do you do?
* [[Accept her number with a smile, promising you will text her you answer later.|Number][$cheating to 2]]
* [[Accept the card halfmindedly, making a mental note to throw it out later.|Number][$cheating to 1]]
* [[Refuse the card, you have a girlfriend already.|Number]]

&lt;&lt;else&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;You decide to stop at the bakery for some delicious dessert. You pull over to the door and enter the shop.

The bakery is empty, especially for the time of day. Feeling lucky, you decide that you will take your time to choose what to get. Or maybe just follow the recommendation of the employee, they rarely get it wrong after all.

//“Good morning! How can I help... Oh!”// says the employee at the counter, stopping dead in her tracks after taking a look at you. //“Ew... no. I&#39;m not dealing with this today.”//

You&#39;re taken aback. Why wouldn&#39;t she deal with you? You see her walk to a door behind her, half open it and yells at someone in the back room.

//“Dimitri! There&#39;s another weirdo in the front. You really don&#39;t pay me enough to deal with this shit. Please take care of it. I&#39;m going on a break.”//

She goes back to the counter and takes her apron off. She takes another look at you once more, shakes her head and moves to another room. The door to the backroom opens and a buff Slavic-looking man comes out. With his rolled-up sleeves, you can see some deep scars atop hunky muscles. A knife in his hand, he looks like he could butcher you and not blink an eye. He takes a look at you and sighs.

//“Why you enter shop looking like this?”// he says with a strong Slavic accent, moving up and down his arm, pointing at your outfit. //“Very disrespectful.”// He puts his empty hand to his face and rubs his forehead. //“Dimitri don&#39;t serve you. You. Better leave.”
“But… But the customer is king! You have to serve me”
“Or what? You trash my shop? Ah! I want see you try.”
“I just want to get some cake. And you will serve me some!”
“If you don&#39;t leave,”// he starts, stabbing the knife straight on the counter, //“there will be trouble.”//

You swallow with pain.

What do you do?
* [[Stay and face Dimitri. This is not how an employee should treat a customer, regardless of their outfit. That&#39;s just discrimination!|StayB][$shop to &quot;cake1&quot;][$present to 0]]
* [[Back off and leave the shop. Better not try to get into trouble. Not today!|Leave][$shop to &quot;cake&quot;][$present to 0]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="117" name="Dessert_frm" tags="translated" position="2975,1792" size="100,100">&lt;&lt;if $outfit is 2&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;Vous décidez de vous arrêter à la boulangerie pour un délicieux dessert. Vous vous garez devant la porte et entrez dans la boutique.

La boulangerie est presque vide, surtout pour le moment de la journée. Vous sentant chanceux, vous décidez que vous prendrez votre temps pour choisir quoi prendre. Ou peut-être suivez-vous simplement la recommandation de l&#39;employée, qui se trompe rarement après tout.

// « Bonjour ! Comment puis-je vous aider aujourd&#39;hui ? » // demande l&#39;employée au comptoir, d&#39;une voix monotone. Elle ne semble pas vouloir être ici en ce moment.
// « Bonjour. Je rencontre les parents de ma copine pour la première fois aujourd&#39;hui et je voulais leur apporter un dessert. Pouvez-vous me recommander une bonne sélection ? »
« Bien sûr. Une préférence de goût ? Une restriction alimentaire ? »
« Euh… » //, murmurez-vous.

Peut-être que ce n&#39;était pas la meilleure idée d&#39;apporter un dessert sans demander à Kelsie d&#39;abord. Et maintenant, il était trop tard pour lui demander. Vous vous rendez compte que lorsque l&#39;occasion se présentait, elle préparait et apportait généralement les friandises. Les gens évitaient de les faire exprès, car les siens étaient clairement supérieurs. Il est maintenant aussi trop tard pour reculer et y arriver sans rien en mains.

//« Aucune préférence de goût. Ni de restriction à ma connaissance. Pouvez-vous me donner une sélection simple qui est aimée généralement à la plupart des gens ? »
« Ooook... Je vais te mettre des petites tartes aux fruits. Puis quelques crémeux et quelques-uns au chocolat. »//

Elle emballe bien la boîte avec les friandises à l&#39;intérieur. Vous la remerciez abondamment pour son aide, elle lève les yeux au ciel et vous sourit faussement. Vous payez et passez votre chemin.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival]]

&lt;&lt;elseif $outfit is 1&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;Vous décidez de vous arrêter à la boulangerie pour un délicieux dessert. Vous vous garez devant la porte et entrez dans la boutique.

La boulangerie est presque vide, surtout pour le moment de la journée. Vous sentant chanceux, vous décidez que vous prendrez votre temps pour choisir quoi prendre. Ou peut-être suivez-vous simplement la recommandation de l&#39;employée, qui se trompe rarement après tout.

// « Bonjour ! Comment puis-je vous aider... Oh ! » // s&#39;exclame l&#39;employée au comptoir, s&#39;arrêtant net après vous avoir jeté un coup d&#39;œil. //« Si j&#39;avais su que quelqu&#39;un d&#39;aussi séduisant entrerait dans la boutique aujourd&#39;hui, j&#39;aurais porté quelque chose de plus joli »//, ajoute-t-elle en vous faisant un clin d&#39;œil.

Vous commencez à rougir. Ce n&#39;est pas tous les jours que les gens vous remarquent comme ça. Bien qu&#39;il soit agréable d&#39;être complimenté sur votre apparence, vous vous sentez également un peu gêné par cela.

//« Est-ce qu&#39;il est là maintenant... »// l&#39;employée regarde autour de lui, comme se elle cherchait quelqu&#39;un. Quand il est clair que l&#39;endroit est vide, elle ajoute : //« Je ne fais pas ça d&#39;habitude... Dis beau gosse, tu es libre plus tard ? Tu voudrais prendre un verre avec moi ? Je t’invite. »//

Abasourdi par l&#39;attitude de l&#39;employée, vous ne pouvez pas vous empêcher de rester là, la bouche ouverte. Elle remarque et rit.

//« J&#39;ai cet effet sur les gens. Alors qu&#39;est-ce que tu dis, mon mignon ? »
« Je... je ne m&#39;attendais pas vraiment à ça, »// vous marmonnez.
// « Et si je te donnais mon numéro et tu décides plus tard ? »//

Elle écrit quelque chose sur l&#39;une des cartes de visite de la boulangerie et vous la remet.

Que faites-vous ?
* [[Vous acceptez son numéro avec un sourire, en lui promettant de répondre à son invitation plus tard. |Number][$cheating to 2]]
* [[Acceptez la carte distraitement, en notant mentalement de la jeter plus tard. |Number][$cheating to 1]]
* [[Refusez la carte, vous avez déjà une petite amie. |Number]]

&lt;&lt;else&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;Vous décidez de vous arrêter à la boulangerie pour un délicieux dessert. Vous vous garez devant la porte et entrez dans la boutique.

La boulangerie est presque vide, surtout pour le moment de la journée. Vous sentant chanceux, vous décidez que vous prendrez votre temps pour choisir quoi prendre. Ou peut-être suivez-vous simplement la recommandation de l&#39;employée, qui se trompe rarement après tout.

// « Bonjour ! Comment puis-je vous aider... Oh ! » // dit l&#39;employée au comptoir, s&#39;arrêtant net après vous avoir jeté un coup d&#39;œil. // « Euh... non. Je ne m&#39;occupe pas de ça aujourd&#39;hui. »//

Vous êtes pris de court. Pourquoi ne s&#39;occuperait-elle pas de vous ? Vous la voyez se diriger vers une porte derrière elle, l&#39;entrouvrir et crier après quelqu&#39;un dans la pièce du fond.

// « Dimitri ! Il y a un autre cinglé dans la boutique. Tu ne me paies vraiment pas assez pour gérer cette merde. S&#39;il te plaît occupe-t’en toi. Je pars en pause. »//

Elle retourne vers le comptoir et enlève son tablier. Elle vous regarde à nouveau, secoue la tête et se déplace vers une autre pièce. La porte de l&#39;arrière-boutique s&#39;ouvre et un homme musclé d&#39;apparence slave y en sort. Avec ses manches retroussées, vous pouvez voir des cicatrices profondes sur de ses gros muscles. Un couteau à la main, il a l&#39;air de pouvoir vous massacrer sans cligner des yeux. Il vous regarde et soupire.

// « Pourquoi tu entres dans la boutique, habillé comme ça ? » // dit-il avec un fort accent slave, se déplaçant de haut en bas de son bras, pointant vers votre tenue. // « Très irrespectueux. »// Il porte sa main vide à son visage et se frotte le front. // « Dimitri ne te sert pas. Mieux vaut dégager. »
« Mais… mais le client est roi ! Vous devez me servir ! » // Vous avez déjà essayé cette ligne, mais cette fois, cela devrait fonctionner !
// « Ou quoi ? Tu saccages ma boutique ? Ah ! Je veux voir ça. »
« Je veux juste avoir des gâteaux. Et vous aller m&#39;en servir ! »
« Si tu ne pars pas, »// commence-t-il en poignardant le couteau directement sur le comptoir, // « il y aura des problèmes. »//

Vous avalez avec douleur.

Que faites-vous ?
* [[Restez et affrontez Dimitri. Ce n&#39;est pas ainsi qu&#39;un employé doit traiter un client, quelle que soit sa tenue. C&#39;est juste de la discrimination ! |StayB][$shop to &quot;cake1&quot;][$present to 0]]
* [[Reculez et quittez la boutique. Mieux vaut ne pas essayer d&#39;avoir des ennuis. Pas aujourd&#39;hui ! |Leave][$shop to &quot;cake&quot;][$present to 0]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="118" name="Flower_en" tags="Updated" position="2975,967" size="100,100">&lt;&lt;if $outfit is 2&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;You decide to stop at the flower shop get bring a beautiful bouquet. You remember a while back you had brought Kelsie a bouquet and she really enjoyed it. You had tried your best to pick the flowers and give a meaning to it. Maybe you should do it again?

You pull over to the door and enter the shop. Lucky for you, it seems like the store shelves are full of flowers and many different kinds. You see a woman at the counter, finishing up with a client.

//“What kind of message should I try to make?”// you say under your breath. Most importantly, what kind of flower would convey your message. There are so many flowers representing love, but you don&#39;t love her parents, yet. Which one you tell them that you respect them or happy to meet them?

//“Hello there!”// the employee behind you greets you, making you jump out of surprise. //“Wow, what a cute shirt. Love the design with the flowers. I know it&#39;s not really professional to ask but where did you get it?”
“That old thing? I am not sure... It was a gift. I think it&#39;s vintage?”
“Oh! That&#39;s too bad...”// the employee reacts looking a bit sadden. //“Well, that makes it even more special. If you ever decide to part with it, please let me know!”// Then after a small awkward silence: //“Anyway, can I help you with choosing some flowers?”
“Well... Uhh...&quot;// you say, having lost your original train of thought. You mumble for second before exclaiming: //“Yes, actually. Please. I am meeting my girlfriend&#39;s parents for the first time today and I wanted to make a custom meaningful bouquet for them. You know, in Flower language.”
“Ooh! How special! Most flowers have a general message to them, but they can be meaningful in different ways to different people. Any message in mind you want to try to convey?”
“Well, I want to tell them that I am happy to meet them and/or that I respect them. Something along those lines.”
“Mmh. Let&#39;s see...”// She thinks for a few minutes, after which she continues and picks along some flowers: //“Daffodils usually represent respect. Crocus should mean cheerfulness, but we could twist it into happiness in your case. I don&#39;t really know what flower would mean meeting tough... but since I can guess you might be a bit anxious to meet your girlfriend&#39;s parents and want to please them, maybe Sprig of White Tendrils should do the trick? Let&#39;s maybe add some Stocks for affection, and some green leaves to wrap the whole thing. How does this sound?”
“That sounds perfect. That looks perfect. Thank you!”//

She wraps the flowers in paper and rope to give it a rustic look. You thank her again for her help, pay and get on your way. You hope that these are the correct flowers. You are pretty sure Kelsie mentioned at one point that the Sparks&#39; past-time is sending each other messages with flowers.

You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.

[[Continue|Arrival]]
&lt;&lt;elseif $outfit is 1&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;You decide to stop at the flower shop get bring a beautiful bouquet. You remember a while back you had brought Kelsie a bouquet and she really enjoyed it. You had tried your best to pick the flowers and give a meaning to it. Maybe you should do it again?

You pull over to the door and enter the shop. Lucky for you, it seems like the store shelves are full of flowers and many different kinds. You see a woman at the counter, finishing up with a client.

//“What kind of message should I try to make?”// you say under your breath. Most importantly, what kind of flower would convey your message. There are so many flowers representing love, but you don&#39;t love her parents, yet. Which one you tell them that you respect them or happy to meet them?

//“Hello there!”// the employee behind you greets you, making you jump out of surprise. She looks up and down at you and smile. //“What can I help you with today? Looking for a potted plant? Choosing some flowers? I have some lovely Juliet Roses that just arrived. Would you want to take a look at that?”
“Well... Uhh...”// you say, having lost your original train of thought. You mumble for second before exclaiming: //“Yes, I do need some help. Please. I am meeting my girlfriend&#39;s parents for the first time today and I wanted to make a custom meaningful bouquet for them. You know, in Flower language. I don&#39;t think roses should be appropriate though.”
“Ooh! How special! Most flowers do have a general message to them, but they can be meaningful in different ways to different people. Even roses. Any message in mind you want to try to convey?”
“Well, I want to tell them that I am happy to meet them and/or that I respect them. Something along those lines.”
“Mmh. Let&#39;s see...”// She thinks for a few minutes, after which she continues and picks along some flowers: //“Daffodils usually represent respect. Crocus should mean cheerfulness, but we could twist it into happiness in your case. I don&#39;t really know what flower would mean meeting tough... but since I can guess you might be a bit anxious to meet your girlfriend&#39;s parents and want to please them, maybe Sprig of White Tendrils should do the trick? Let&#39;s maybe add some Stocks for affection, and some green leaves to wrap the whole thing. How does this sound?”
“That sounds perfect. That looks perfect. Thank you!”
“Great! Are you still interested in the roses?”//

She really seems to be insisting on selling you roses today. Uncomfortable with her sales tactics, you scratch the back of your head and mumble a quiet //“No thank you”//. She smiles at you, but you can notice some disappointment  in her face. She wraps the picked flowers in paper and rope to give it a rustic look. You thank her again for her help, pay and get on your way. You hope that these are the correct flowers. You are pretty sure Kelsie mentioned at one point that the Sparks&#39; past-time is sending each other messages with flowers.

You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.

[[Continue|Arrival]]
&lt;&lt;else&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;&lt;&lt;set $present to 0&gt;&gt;You decide to stop at the flower shop get bring a beautiful bouquet. You remember a while back you had brought Kelsie a bouquet and she really enjoyed it. You had tried your best to pick the flowers and give a meaning to it. Maybe you should do it again?

You pull over to the door and enter the shop. Lucky for you, it seems like the store shelves are full of flowers and many different kinds. You see a woman at the counter, finishing up with a client.

//“What kind of message should I try to make?”// you say under your breath. Most importantly, what kind of flower would convey your message. There are so many flowers representing love, but you don&#39;t love her parents, yet. Which one you tell them that you respect them or happy to meet them?

//“Hello there!”// the employee behind you greets you, making you jump out of surprise. She looks up and down at you and frowns. //“I&#39;m sorry, but I must ask you to leave. We do not serve customers that are not wearing a proper attire.”//

You look confuse at first. As the employee notice, she points at your body. It hits you. She means that your funky outfit is not appropriate here.

//“But isn&#39;t the customer king?”
“Doesn&#39;t matter. We have the right to refuse service”
“But I really need a bouquet!”
“Please, don&#39;t start to make a scene. I ask you again to leave. If you refuse. I will be calling the authorities.”//

What do you do?
* [[Stay and make a scene. This is not how an employee should treat a customer, regardless of their outfit. That&#39;s just discrimination!|StayF][$shop to &quot;flower1&quot;]]
* [[Back off and leave the shop. Better not involve the police, not with your current attire|Leave][$shop to &quot;flower&quot;]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="119" name="Flower_frm" tags="translated" position="2975,1617" size="100,100">&lt;&lt;if $outfit is 2&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;Vous décidez de vous arrêter chez le fleuriste pour acheter un beau bouquet. Vous vous souvenez il y a quelque temps, vous aviez apporté un bouquet à Kelsie et elle l&#39;avait vraiment apprécié. Vous aviez fait de votre mieux en choisissant les fleurs et donner un sens au bouquet. Peut-être, vous devriez faire de même ici ?

Vous vous garez devant la porte et entrez dans la boutique. Heureusement pour vous, il semble que les étagères des magasins soient pleines de fleurs et de toutes sortes. Vous voyez une femme au comptoir, finissant avec un client.

//« Quel genre de message devrais-je essayer de faire passer ? »// vous dites à voix basse. Plus important encore, quel type de fleur transmettrait votre message. Il y a tellement de fleurs représentant l&#39;amour, mais vous ne savez pas encore si vous aimez ses parents. Pourquoi pas leur dire que vous les respectez ou que vous êtes heureux de les rencontrer ?

// « Bonjour ! »// l&#39;employée derrière vous vous salue, vous faisant sursauter de surprise. // « Wow, quelle jolie chemise. J&#39;adore le design avec les fleurs. Je sais que ce n&#39;est pas vraiment professionnel de demander, mais où l&#39;avez-vous obtenu ? »
« Ce vieux truc ? Je ne suis pas sûr… C&#39;était un cadeau. Je pense que c&#39;est vintage ? »
« Oh ! C&#39;est dommage... » // l&#39;employée réagit avec un air un peu attristé. // « Eh bien, cela la rend encore plus spécial. Si jamais vous décidez de vous en séparer, faites-le moi savoir ! »// Puis après un petit silence gêné : // « Quoi qu&#39;il en soit, puis-je vous aider à choisir des fleurs ? »
« Eh bien... Euh... »// vous dites, ayant perdu le fil de vos pensées. Vous marmonnez une seconde avant de vous exclamer : // « Oui, en fait. S&#39;il vous plaît. Je rencontre les parents de ma petite amie pour la première fois aujourd&#39;hui et je voulais leur faire un bouquet personnalisé et significatif. Vous savez, en langage fleuri. »
« Ooh ! Comme c&#39;est spécial ! La plupart des fleurs ont un message général, mais elles peuvent être significatives de différentes manières pour différentes personnes. Vous avez un message en tête que vous voulez essayer de transmettre ? »
« Eh bien, je veux leur dire que je suis heureux de les rencontrer et/ou que je les respecte. Quelque chose dans ce sens. »
« Mmh. Voyons voir... »// Elle réfléchit quelques minutes, après quoi elle continue et cueille des fleurs : // « Les jonquilles représentent généralement le respect. Les crocus devraient signifier la gaieté, mais nous pourrions le transformer ça en bonheur dans votre cas. Je ne sais pas vraiment quelle fleur signifierait une rencontre difficile... mais comme je peux supposer que vous pourriez être un peu anxieux de rencontrer les parents de votre petite amie et vouloir leur faire plaisir, peut-être que des brins de lierre vrilles blanches devrait faire l&#39;affaire ? Ajoutons des giroflées pour l&#39;affection et des feuilles vertes pour envelopper le tout. Ça vous va ? »
« Ça a l&#39;air parfait. Merci ! »//

Elle enveloppe les fleurs dans du papier et l’entoure de corde pour lui donner un aspect rustique. Vous la remerciez encore pour son aide, payez et partez. Vous espérez avoir pris les bonnes fleurs. Vous êtes presque sûr que Kelsie a mentionné à un moment donné que le passe-temps des Sparks était de s&#39;envoyer des messages avec des fleurs.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks

[[Continuer|Arrival]]
&lt;&lt;elseif $outfit is 1&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;Vous décidez de vous arrêter chez le fleuriste pour acheter un beau bouquet. Vous vous souvenez il y a quelque temps, vous aviez apporté un bouquet à Kelsie et elle l&#39;avait vraiment apprécié. Vous aviez fait de votre mieux en choisissant les fleurs et donner un sens au bouquet. Peut-être, vous devriez faire de même ici ?

Vous vous garez devant la porte et entrez dans la boutique. Heureusement pour vous, il semble que les étagères des magasins soient pleines de fleurs et de toutes sortes. Vous voyez une femme au comptoir, finissant avec un client.

// « Quel genre de message devrais-je essayer de faire passer ? »// vous dites à voix basse. Plus important encore, quel type de fleur transmettrait votre message. Il y a tellement de fleurs représentant l&#39;amour, mais vous ne savez pas encore si vous aimez ses parents. Pourquoi pas leur dire que vous les respectez ou que vous êtes heureux de les rencontrer ?

// « Bonjour ! »// l&#39;employée derrière vous vous salue, vous faisant sursauter de surprise. Elle vous regarde de haut en bas et sourit. // « En quoi puis-je vous aider aujourd&#39;hui ? Vous cherchez une plante en pot ? Un bouquet de fleurs ? J&#39;ai de jolies roses de Juliette qui viennent d&#39;arriver. Voudriez-vous y jeter un coup d’œil ? »
« Eh bien... Euh... »// vous dites, ayant perdu le fil de vos pensées. Vous marmonnez une seconde avant de vous exclamer : // « Oui, en fait. S&#39;il vous plaît. Je rencontre les parents de ma petite amie pour la première fois aujourd&#39;hui et je voulais leur faire un bouquet personnalisé et significatif. Vous savez, en langage fleuri. Cependant, je ne pense pas que les roses soient appropriées pour cette occasion. »
« Ooh ! Comme c&#39;est spécial ! La plupart des fleurs ont un message général, mais elles peuvent être significatives de différentes manières pour différentes personnes. Même les roses. Vous avez un message en tête que vous voulez essayer de transmettre ? »
« Eh bien, je veux leur dire que je suis heureux de les rencontrer et/ou que je les respecte. Quelque chose dans ce sens. »
« Mmh. Voyons voir... »// Elle réfléchit quelques minutes, après quoi elle continue et cueille des fleurs : // « Les jonquilles représentent généralement le respect. Les crocus devraient signifier la gaieté, mais nous pourrions le transformer ça en bonheur dans votre cas. Je ne sais pas vraiment quelle fleur signifierait une rencontre difficile... mais comme je peux supposer que vous pourriez être un peu anxieux de rencontrer les parents de votre petite amie et vouloir leur faire plaisir, peut-être que des brins de lierre vrilles blanches devrait faire l&#39;affaire ? Ajoutons des giroflées pour l&#39;affection et des feuilles vertes pour envelopper le tout. Ça vous va ? »
« Ça a l&#39;air parfait. Merci ! »
« Super ! Les roses vous intéressent toujours ? »//

Elle semble vraiment insister pour vous vendre des roses aujourd&#39;hui. Mal à l&#39;aise avec ses tactiques de vente, vous vous grattez la tête et marmonnez un //&quot;Non merci&quot;//. Elle vous sourit, mais vous pouvez remarquer une certaine déception sur son visage. Elle enveloppe les fleurs dans du papier et l’entoure de corde pour lui donner un aspect rustique. Vous la remerciez encore pour son aide, payez et partez. Vous espérez avoir pris les bonnes fleurs. Vous êtes presque sûr que Kelsie a mentionné à un moment donné que le passe-temps des Sparks était de s&#39;envoyer des messages avec des fleurs.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival]]
&lt;&lt;else&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;&lt;&lt;set $present to 0&gt;&gt;Vous décidez de vous arrêter chez le fleuriste pour acheter un beau bouquet. Vous vous souvenez il y a quelque temps, vous aviez apporté un bouquet à Kelsie et elle l&#39;avait vraiment apprécié. Vous aviez fait de votre mieux en choisissant les fleurs et donner un sens au bouquet. Peut-être, vous devriez faire de même ici ?

Vous vous garez devant la porte et entrez dans la boutique. Heureusement pour vous, il semble que les étagères des magasins soient pleines de fleurs et de toutes sortes. Vous voyez une femme au comptoir, finissant avec un client.

// « Quel genre de message devrais-je essayer de faire passer ? »// vous dites à voix basse. Plus important encore, quel type de fleur transmettrait votre message. Il y a tellement de fleurs représentant l&#39;amour, mais vous ne savez pas encore si vous aimez ses parents. Pourquoi pas leur dire que vous les respectez ou que vous êtes heureux de les rencontrer ?

// « Bonjour ! »// l&#39;employée derrière vous vous salue, vous faisant sursauter de surprise. Elle vous regarde de haut en bas et fronce les sourcils. // « Je suis désolé, mais je dois vous demander de partir. Nous ne servons pas les clients qui ne portent pas une tenue correcte. »//

Vous avez l&#39;air confus au début. Comme le remarque l&#39;employée, elle pointe vers votre corps. Cela vous tombe dessus. Elle veut dire que votre tenue funky n&#39;est pas appropriée ici.

//« Mais… le client n&#39;est-il pas roi ? »
« Peu importe. Nous avons le droit de refuser de servir nos clients. »
« Mais j&#39;ai vraiment besoin d&#39;un bouquet ! »
« S&#39;il vous plaît, ne commencez pas à faire une scène. Je vais vous demander à nouveau de partir. Si vous refusez, j’appellerai les autorités. »//

Que faites-vous ?
* [[Restez et faites une scène. Ce n&#39;est pas ainsi qu&#39;un employé doit traiter un client, quelle que soit sa tenue. C&#39;est juste de la discrimination ! |StayF][$shop to &quot;flower1&quot;]]
* [[Reculez et quittez la boutique. Mieux vaut ne pas impliquer la police, pas avec votre tenue actuelle. |Leave][$shop to &quot;flower&quot;]]

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="120" name="Nothing_en" tags="Updated" position="2975,1342" size="100,100">You decide not to stop on the way. No need to waste more time in traffic and arrive too late. Better be safe than sorry.

&lt;&lt;if $outfit is 0&gt;&gt;You do notice after some time that you get weird looks on the road. Especially at crossing, where people look around them more often. You wonder what makes them look at you that way, and why they are sticking their businesses where it does not belong. On the other hand, it makes you happy to see giggling children pointing and waving at you.

&lt;&lt;elseif $outfit is 1&gt;&gt;At one crossing, a man waves at you a makes a movement asking you to lower your window. Intrigued, you comply. The man shouts at you, hoping that his voice is louder than the ambient  noise around:

//“Looking dapper, pals! Have a good day!”//

Before you can respond, the light turns green and the car speeds away. His compliment stays with you for the rest of the trip.

&lt;&lt;/if&gt;&gt;You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.

[[Continue|Arrival]] </tw-passagedata><tw-passagedata pid="121" name="Nothing_frm" tags="translated" position="2975,2017" size="100,100">Vous décidez de ne pas vous arrêter en chemin. Inutile de perdre plus de temps dans la circulation et d&#39;arriver trop tard. Mieux vaut prévenir que guérir.

&lt;&lt;if $outfit is 0&gt;&gt;Vous remarquez après un certain temps que vous obtenez des regards étranges sur la route. Surtout aux intersections, où les gens regardent plus souvent autour d&#39;eux. Vous vous demandez ce qui les poussent à vous regarder de cette façon et pourquoi ils mettent leur nez dans les affaires des autres. D&#39;un autre côté, cela vous fait plaisir de voir des enfants gloussant en vous pointant du doigt et vous faisant coucou.

&lt;&lt;elseif $outfit is 1&gt;&gt;À une intersection, un homme vous fait signe et fait un mouvement vous demandant de baisser votre vitre. Intrigué, vous obéissez. L&#39;homme vous crie dessus, espérant que sa voix soit plus forte que le bruit ambiant :

//« Tu as l&#39;air fringant, mec ! Passe une bonne journée ! »//

Avant que vous ne puissiez répondre, le feu passe au vert et sa voiture accélère. Son compliment vous accompagne pour le reste du voyage.

&lt;&lt;/if&gt;&gt;Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival]] </tw-passagedata><tw-passagedata pid="122" name="Arrival_en" tags="Updated" position="3350,1092" size="100,100">//“You’ve arrived at your destination,”// chimes the navigation app on your phone. 

In front of you stands two 10-feet tall hedges of thick flowering quinces separated by a tight gravel road. There does not seem to be anything beyond it. You wonder if you made a wrong turn anywhere or a mistake when typing the address. Not seeing any sign of life, you check your phone again. The screen confirms that you’ve indeed arrived at the address Kelsie gave you. 

//“I guess the house must be hidden behind the hedge. It&#39;s so thick, you can&#39;t see a thing.”//

You hold on to your courage and start driving further on the gravel road. Going through the hedge, your field of view increase and a large garden stands before you. In a semi-British style, you see bushes of flowers in any colour imaginable, growing next to ruler-cut green lawn. Further, you see a red and white building getting larger the closer you get. You knew Kelsie&#39;s family was comfortable, but this was on another level.

While its design looks somewhat dated, the house seems to have survived many harsh seasons. It was probably built a century or two ago. Bright red bricks contrast with the pearly white details around openings.

You look around you. The place seems deserted. You could peak at the windows, see if anyone is there. But it&#39;s rude. And they could think that you are a Peeping Tom, which is not a good way of being introduced to someone.

You stop the car in front of the house. &lt;&lt;if $present lt 1&gt;&gt;You get up from your seat and walk towards the door.&lt;&lt;elseif $present gt 1&gt;&gt;Picking up the bouquet you picked, you get up from your seat and walk towards the door.&lt;&lt;else&gt;&gt;Picking up the dessert you picked, you get up from your seat and walk towards the door.&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time gt 0&gt;&gt;[[Continue|Early]]&lt;&lt;elseif $time lt 0&gt;&gt;[[Continue|END3]]&lt;&lt;else&gt;&gt;[[Continue|Time]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="123" name="Arrival_frm" tags="translated" position="3350,1767" size="100,100">//« Vous êtes arrivé à destination, »// sonne l&#39;application de navigation sur votre téléphone.

Devant vous se dressent deux haies hautes de 10 mètres de haies à fleurs épaisses séparées par une route de gravier étroite. Il ne semble pas y avoir quoi que ce soit au-delà. Vous vous demandez si vous avez fait un mauvais virage ou une erreur en tapant l&#39;adresse. Ne voyant aucun signe de vie, vous vérifiez à nouveau votre téléphone. L&#39;écran confirme que vous êtes bien arrivé à l&#39;adresse que Kelsie vous a donnée.

//« Je suppose que la maison doit être cachée derrière la haie. C&#39;est si épais qu’on peut presque rien voir. »//

Vous prenez votre courage à deux mains et commencez à rouler plus loin sur la route de gravier. En passant la haie, votre champ de vision augmente et un grand jardin se dresse devant vous. Dans un style semi-britannique, vous voyez des buissons de fleurs de toutes les couleurs imaginables, poussant à côté de la pelouse verte coupée à la règle. Plus loin, vous voyez un bâtiment rouge et blanc s&#39;agrandir à mesure que vous vous en approchez. Vous saviez que la famille de Kelsie était confortable, mais là c’est bien un autre niveau.

Bien que sa conception semble quelque peu datée, la maison semble avoir survécu à de nombreuses saisons difficiles. Elle a probablement été construite il y a un siècle ou deux. Les briques rouge vif contrastent avec les détails blancs nacrés autour des ouvertures.

Vous regardez autour de vous. L&#39;endroit semble désert. Vous pensez jeter un coup d&#39;œil aux fenêtres, voir s&#39;il y a quelqu&#39;un. Mais ce serait juste grossier. Et ils pourraient penser que vous êtes un voyeur, ce qui n&#39;est pas une bonne façon d&#39;être présenté à quelqu&#39;un.

Vous arrêtez la voiture devant la porte d’entrée. &lt;&lt;if $present lt 1&gt;&gt;Vous vous levez de votre siège et vous vous dirigez vers la porte. &lt;&lt;elseif $present gt 1&gt;&gt;Ramassant le bouquet que vous avez choisi, Vous vous levez de votre siège et vous vous dirigez vers la porte. &lt;&lt;else&gt;&gt;Ramassant les desserts que vous avez apportés, Vous vous levez de votre siège et vous vous dirigez vers la porte. &lt;&lt;/if&gt;&gt;


&lt;&lt;if $time gt 0&gt;&gt;[[Continuer|Early]]&lt;&lt;elseif $time lt 0&gt;&gt;[[Continuer|END3]]&lt;&lt;else&gt;&gt;[[Continuer|Time]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="124" name="Time_en" tags="Updated" position="3475,1092" size="100,100">&lt;&lt;set $time to 0&gt;&gt;You check the time on your phone. You barely arrived on time. &lt;&lt;if $present gt 0&gt;&gt; Stopping to get a gift ended up being a good idea. &lt;&lt;/if&gt;&gt;You&#39;re glad the traffic did not end up getting worse, or you would not have made it.

You walk to the door and ring the bell. A few seconds later, the door opens and you see Kelsie emerge from the house smiling.
//“Here you are $name! We were waiting for you! Good timing too. We were just going to set the table and start lunch.”
“Ah! I was a bit worried I had the wrong house when I stopped on the street. You can barely see that there is a house over there,”// you mention, waving at the hedges behind you.
//“I should have given you a picture of the entrance or at least described it to you,”// Kelsie says laughing.// “I&#39;m glad you managed to get here anyway. Come on. Let&#39;s get in and meet my parents.”//

You start following her inside when she stops on her tracks.

//“Wait a second. Before they meet you, let me take a look at you.”//

Kelsie turns around and looks at you from top to toes.

&lt;&lt;if $outfit gt 1&gt;&gt;[[Continue|Compliment]]&lt;&lt;elseif $outfit lt 1&gt;&gt;[[Continue|END4]]&lt;&lt;else&gt;&gt;[[Continue|Puzzled]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="125" name="Time_frm" tags="translated" position="3475,1767" size="100,100">&lt;&lt;set $time to 0&gt;&gt; Vous vérifiez l&#39;heure sur votre téléphone. Vous êtes à peine arrivé à l&#39;heure. &lt;&lt;if $present gt 0&gt;&gt; S’arrêter pour obtenir un cadeau a fini par être une bonne idée. &lt;&lt;/if&gt;&gt;Vous êtes content que le trafic n&#39;ait pas empiré, ou vous n&#39;auriez pas pu arriver à temps.

Vous vous dirigez vers la porte et sonnez. Quelques secondes plus tard, la porte s&#39;ouvre et vous voyez Kelsie sortir de la maison en souriant.

//« Te voilà $name ! Nous t’attendions avec impatience ! Bon timing aussi. Nous allions à peine mettre la table et commencer le déjeuner. »
« Ah ! J&#39;avais un peu peur de m&#39;être trompé de maison lorsque je me suis arrêté dans la rue. On peut à peine voir qu&#39;il y a une maison là-bas », mentionnez-vous en pointant les haies derrière vous.
« J&#39;aurais dû te donner une photo de l&#39;entrée ou au moins te la décrire, »// Kelsie dit en riant.// « Je suis contente que tu ais réussi à trouver la maison quand même. Aller. Entre rencontrer mes parents. »//

Vous commencez à la suivre à l&#39;intérieur quand elle s&#39;arrête sur ses traces.

//« Attends une seconde. Avant qu&#39;ils ne te rencontrent, laisse-moi jeter un coup d’œil. »//

Kelsie se retourne et vous regarde de la tête aux pieds.

&lt;&lt;if $outfit gt 1&gt;&gt;[[Continuer|Compliment]]&lt;&lt;elseif $outfit lt 1&gt;&gt;[[Continuer|END4]]&lt;&lt;else&gt;&gt;[[Continuer|Puzzled]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="126" name="Early_en" tags="Updated" position="3475,967" size="100,100">&lt;&lt;set $time to 1&gt;&gt;You check the time on your phone. A bit early, as usual. &lt;&lt;if $present gt 0&gt;&gt;It was a good idea to stop for gifts after all.&lt;&lt;/if&gt;&gt; 

You walk up to the door and ring the bell. A few seconds later the door opens and a head pop out of the door frame. You see that is a little boy, could not be more than 10 years old, barely half your size. From his look, you recognise him from a picture Kelsie has in her apartment. You think you remember her telling you that he was her brother.

// “Hi... Noah, right?”//

The little boy nods but shows to be suspicious of you. You are a complete stranger to him ultimately. Better introduce yourself to make him at ease.

//“My name is $name. I&#39;m Kelsie&#39;s friend.”
“Oh! That’s you that we are waiting for! You&#39;re here already. Hold on.”//

The door slightly closes. You hear footsteps running away and a high pitch voice yelling: //“Keelllsiiiie! Your friend is heeere!”//Some minutes later, you hear some footsteps coming closer. Kelsie finally appear in front of you, wearing a floury and flowery apron. 

//“$name! You&#39;re already here! Good, because I was almost done in the kitchen.”
“Do you need to go back? I can wait if needed.”
“No! No... Mom is in there. She can finish it. There is not much left to do anyway. I already did the bulk of things. I am glad you&#39;re already here. I wanted you to have some time before serving lunch to meet everyone properly. Come on, this way.”//

You start following her inside when she stops on her tracks.

//“Wait a second. Before they meet you, let me take a look at you.”//

Kelsie turns around and look at you from top to toes.

&lt;&lt;if $outfit gt 1&gt;&gt;[[Continue|Compliment]]&lt;&lt;elseif $outfit lt 1&gt;&gt;[[Continue|END4]]&lt;&lt;else&gt;&gt;[[Continue|Puzzled]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="127" name="Early_frm" tags="translated" position="3475,1642" size="100,100">&lt;&lt;set $time to 1&gt;&gt;Vous vérifiez l&#39;heure sur votre téléphone. Un peu tôt, comme d&#39;habitude. &lt;&lt;if $present gt 0&gt;&gt;C&#39;était bien une bonne idée de s&#39;être arrêté pour acheter un cadeau après tout. &lt;&lt;/if&gt;&gt;

Vous vous dirigez vers la porte et sonnez. Quelques secondes plus tard, la porte s&#39;ouvre et une tête sort du cadre de la porte. Vous voyez que c&#39;est un petit garçon, il ne doit pas avoir plus de 10 ans, à peine la moitié de votre taille. À son regard, vous le reconnaissez sur une photo que Kelsie a dans son appartement. Vous pensez vous souvenir qu&#39;elle vous avait dit qu&#39;il était son frère.

// « Salut... Noah, n&#39;est-ce pas ? »//

Le petit garçon hoche la tête mais se montre méfiant envers vous. Vous êtes un parfait inconnu pour lui en fin de compte. Mieux vaut se présenter pour le mettre à l&#39;aise.

// « Mon nom est $name. Je suis l&#39;ami de Kelsie. »
« Oh ! C&#39;est toi qu’on attendait ! T’es déjà là. Attends une seconde. »//

La porte se ferme légèrement. Vous entendez des pas s&#39;enfuir et une voix aiguë crier : //« Keelllsiiiie ! Ton copain est là ! » // Quelques minutes plus tard, vous entendez des pas se rapprocher. Kelsie apparaît enfin devant vous, vêtue d&#39;un tablier farineux et fleuri.

// « $name ! Tu es déjà là ! Tant mieux, parce que j&#39;avais presque fini en cuisine. »
« Tu as besoin d&#39;y retourner ? Je peux attendre si besoin. »
« Non ! Non... Maman est là-bas. Elle peut finir le reste. Il n&#39;y a plus grand chose à faire de toute façon. J&#39;ai déjà fait le gros des choses. Je suis contente que tu sois là. Je voulais que tu aies un peu de temps avant de servir le déjeuner pour rencontrer tout le monde correctement. Aller, par ici. »//

Vous commencez à la suivre à l&#39;intérieur quand elle s&#39;arrête sur ses traces.

// « Attends une seconde. Avant qu&#39;ils ne te rencontrent, laisse-moi jeter un coup d’œil. »//

Kelsie se retourne et vous regarde de la tête aux pieds.

&lt;&lt;if $outfit gt 1&gt;&gt;[[Continuer|Compliment]]&lt;&lt;elseif $outfit lt 1&gt;&gt;[[Continuer|END4]]&lt;&lt;else&gt;&gt;[[Continuer|Puzzled]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="128" name="END3_en" tags="Updated END" position="3475,1217" size="100,100">&lt;&lt;set $endtime to true&gt;&gt;You check the time on your phone. //Shit// You can&#39;t believe that it is already so late. 

You run to the door and ring the doorbell. //Kelsie is going to be mad, isn&#39;t she...//

The door opens and Kelsie stands in front of you, fuming.
//“Have you seen the time ? Where have you been, $name? I wanted you to make a good first impression with my parents. Being timely is a virtue they highly value. Everyone has been seated at the table for lunch for a while already. We started eating even. We couldn&#39;t wait for you anymore.” 
“I&#39;m so sorry love. I swear I have never been late before–“ 
“Don&#39;t call me love,”// she interrupts. //“And don&#39;t give me any excuse. Ugh. I can&#39;t look at you right now.”
“Please believe me, this was a simple mistake. Isn&#39;t there anything I can do to make it up? Can you let me in and at least apologize to your parents?”
“I don&#39;t think so, no. A simple mistake my ass. I told you how important today was for me and you could not follow simple instructions. Is it too much to ask for you to be on time? I think it&#39;s best if you just go $name.”//

Kelsie barely looks at you and closes the door on you. You go back to your car, looking back from your shoulder, hoping that Kelsie opens the door again and lets you in. The door stays closed. Even if Kelsie had asked you to do a few things earlier, you can&#39;t believe that she would not let you in now. You stay sitting in your car for a few minutes, hoping that Kelsie changes her mind and welcomes you back. You never meant to arrive this late. &lt;&lt;if $present gt 0&gt;&gt;It would have never happened if you hadn’t picked up a stupid gift.&lt;&lt;/if&gt;&gt;

Kelsie never shows up outside again. You sigh deeply. There is really nothing you can do but leave. You start the car and drive off. &lt;&lt;if $present gt 1&gt;&gt;On the way back, you feel like the flowers keep staring at you. Taunting you. Making fun of you for the missed meeting. At a stop, you open your window and throw the bouquet out. //What a waste…//&lt;&lt;elseif $present is 1&gt;&gt;As you arrive home, you realize that the cakes are still sitting next to you. //It’d be a waste to throw them away,// you think. You pick up the box and bring it inside, with the intent to eat them all to distract you from the hurt of today.&lt;&lt;/if&gt;&gt;

Later that day, you receive a text from Kelsie.

&lt;div class=&quot;message&quot;&gt;//I don&#39;t I don&#39;t think I can do this anymore. Goodbye $name.//&lt;/div&gt;

Kelsie never answers your messages after this. Weirdly, you are never late to any meeting after this.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;“Time is only a societal construct”&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;
	
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="129" name="END3_frm" tags="translated END" position="3475,1892" size="100,100">&lt;&lt;set $endtime to true&gt;&gt;Vous vérifiez l&#39;heure sur votre téléphone. //Merde// Vous ne pouvez pas croire qu&#39;il soit déjà si tard.

Vous courez vers la porte et sonnez à la porte. //Kelsie va être en colère, hein...//

La porte s&#39;ouvre et Kelsie se tient devant vous, furieuse.
//« Tu as vu l&#39;heure ? Où étais-tu, $name ? Je voulais que tu aies une bonne première impression avec mes parents. Être ponctuel est une vertu qu&#39;ils apprécient grandement. Tout le monde est assis à table pour le déjeuner depuis un moment déjà. Nous avons même commencé à manger. Nous ne pouvions plus t’attendre. »
« Je suis tellement désolé mon amour. Je jure que je n&#39;ai jamais été en retard auparavant– »
« Ne m&#39;appelle pas mon amour, » // interrompt-elle. //« Et ne me donne pas d’excuse. Pouah. Je ne peux pas te regarder maintenant. »
« S&#39;il te plaît, crois-moi quand je te dis que c&#39;était une simple erreur. N&#39;y a-t-il vraiment rien que je puisse faire pour me rattraper ? Peux-tu me laisser entrer et au moins m’excuser auprès de tes parents ? »
« Je ne pense pas, non. Une simple erreur mon cul. Je t’ai dit à quel point aujourd&#39;hui était important pour moi et tu ne pouvais même pas suivre des simples instructions. Est-ce c’est trop de te demander d&#39;être à l&#39;heure ? Je pense que c&#39;est mieux si tu t’en va, $name. »//

Kelsie vous regarde à peine et vous ferme la porte au nez. Vous retournez vers votre voiture, regardant derrière votre épaule, espérant que Kelsie ouvre à nouveau la porte et vous laisse entrer. Celle-ci reste fermée. Même si Kelsie vous auriez demandé de faire quelques choses plus tôt, vous ne pouvez pas croire qu&#39;elle ne vous laisse pas entrer maintenant. Vous restez assis dans votre voiture pendant quelques minutes, en espérant que Kelsie change d&#39;avis et vous souhaite la bienvenue. Vous n&#39;avez jamais voulu arriver si tard. &lt;&lt;if $present gt 0&gt;&gt;Cela ne serait jamais arrivé si vous n&#39;aviez pas acheté un cadeau stupide. &lt;&lt;/if&gt;&gt;

Kelsie ne sors toujours pas. Vous soupirez profondément. Vous ne pouvez vraiment rien faire d&#39;autre que de partir d’ici. Vous démarrez la voiture et retroussez votre chemin. &lt;&lt;if $présent is 2&gt;&gt;Au retour, vous avez l&#39;impression que les fleurs ne cessent de vous fixer. Vous narguer. Se moquent de vous pour le rendez-vous manqué. Arrêté à un feu rouge, vous ouvrez votre fenêtre et jetez le bouquet. //Quel gâchis…//&lt;&lt;elseif $present is 1&gt;&gt;En arrivant à la maison, vous vous rendez compte que les gâteaux sont toujours assis à côté de vous. // Ce serait du gâchis de les jeter, // pensez-vous. Vous prenez la boîte et l&#39;apportez à l&#39;intérieur, avec l&#39;intention de tous les manger pour vous distraire de la douleur infligée parce de rendez-vous manqué. &lt;&lt;/if&gt;&gt;

Plus tard dans la journée, vous recevez un message de Kelsie.

&lt;div class=&quot;message&quot;&gt;//Je ne pense pas pouvoir continuer comme ça. Au revoir $name.//&lt;/div&gt;

Kelsie ne répond plus à vos messages après ça. Bizarrement, vous n&#39;êtes jamais en retard à aucun de vos rendez-vous après cela.


&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Le temps n&#39;est qu&#39;une construction sociétale  »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="130" name="Puzzled_en" tags="Updated" position="3600,1092" size="100,100">Kelsie takes a look at you confused.

//“Uhh $name?”
“Yes?”
“What&#39;s with the getup?”// she asks, pointing at your clothes.
//“Just trying to make a good impression. You don&#39;t like it?”
“Well... I do. You look really good in this. You will definitely make an impression on everyone with this.” 
“You told me how important it was to meet your parents. So I tried to match it with my clothes.”
“Oh I don&#39;t fault you on that $name. It&#39;s just that... it&#39;s just lunch. At home. Not a 5-star restaurant. You&#39;re a bit overdressed for what I had planned. That&#39;s all.”
“Don&#39;t sell yourself short, Kelsie. Your culinary talents are 5-star chef level!”//

She blushes.

//“That&#39;s sweet of you $name. I appreciate it. But I am not there yet. But let&#39;s go back to your outfit and make it a bit... less.”//

She looks at you again, pensive. Wanting to help, you try to think of a solution. But nothing comes to mind. &lt;&lt;if $cheating is 3&gt;&gt;You get distracted by your phone vibrating. You are pretty sure Jessie texted you again.

* [[You check your phone and respond to Jessie.|Puzzled2][$cheating +=1]]
* [[You ignore Jessie’s message. |Puzzled2]]
&lt;&lt;else&gt;&gt;

//“I think if you take this neck piece off, open a few buttons and leave the jacket at the door...”// she explains, handling you as if you were a mannequin. //“You will start to look like a normal human being. There.”//

She takes a few steps back, looks at you up and down again; and feeling satisfied, she smiles at you.&lt;&lt;if $present gt 0&gt;&gt; She looks at what you are holding.&lt;&lt;/if&gt;&gt; &lt;&lt;if $present is 2&gt;&gt;Looking at the bouquet, her smile grows. However, she does not peep a word about it.&lt;&lt;elseif $present is 1&gt;&gt;Looking at the box of sweets, a sullen look falls on her face. However, she does not peep a word about it.&lt;&lt;/if&gt;&gt;

She takes your arm and bring you further into the house.

//“Come on, $name. Let&#39;s meet everyone. For real this time.”//

[[Continue|Handshake]] &lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="131" name="Puzzled_frm" tags="translated" position="3600,1767" size="100,100">Kelsie vous regarde confuse.

//« Euh $name ? »
« Oui? »
« Qu&#39;est-ce que c&#39;est que cette tenue ? »// demande-t-elle en désignant vos vêtements.
//« J&#39;essaie juste de faire bonne impression. Tu n&#39;aimes pas ? »
« Eh bien, oui. Tu as l&#39;air vraiment bien là-dedans. Tu auras certainement une impression avec tout le monde comme ça. »
« Tu m&#39;as dit à quel point c&#39;était important de rencontrer tes parents. J&#39;ai donc essayé d&#39;assortir ceci avec mes vêtements. »
« Oh, tu n’as pas besoin d’excuses $name. C&#39;est juste que... c&#39;est juste un déjeuner. À la maison. Pas un restaurant 5 étoiles. Tu es un peu trop habillé pour ce que j&#39;avais prévu. C&#39;est tout. »
« Ne te sous-estime pas, Kelsie. Tes talents culinaires sont au niveau d’un chef dans un restaurant à 5 étoiles ! »//

Elle rougit.

//« C&#39;est bien gentil de ta part $name. Mais je n&#39;en suis pas encore là. Revenons à ta tenue et faisons-en un peu... moins. »//

Elle vous regarde à nouveau, pensive. Voulant l’aider, vous essayez de penser à une solution. Mais rien ne vous vient à l&#39;esprit. &lt;&lt;if $cheating is 3&gt;&gt;Vous êtes distrait par la vibration de votre téléphone. Vous êtes presque sûr que Jessie vous a encore envoyé un texto.

* [[Vous consultez votre téléphone et répondez aux message de Jessie. |Puzzled2][$cheating +=1]]
* [[Vous ignorez le message de Jessie. |Puzzled2]]
&lt;&lt;else&gt;&gt; 
//« Je pense que si tu enlèves ce tour de cou, ouvres quelques boutons et laisses ta veste ici... » // explique-t-elle en vous manipulant comme si vous étiez un mannequin. //« Tu commences à ressembler à quelqu’un de normal. Là. »//

Elle recule de quelques pas, vous regarde encore de haut en bas ; et se sentant satisfaite, elle vous sourit. &lt;&lt;if $present gt 0&gt;&gt;

Elle regarde ce que vous tenez. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 2&gt;&gt;En regardant le bouquet, son sourire s&#39;agrandit. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;&lt;elseif $present is 1&gt;&gt;En regardant la boîte de bonbons, un air maussade tombe sur son visage. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;

Elle prend votre bras et vous emmène plus loin dans la maison.

//« Aller, $name. Viens rencontrer tout le monde. Pour de vrai cette fois. »//

[[Continuer|Handshake]] &lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="132" name="Compliment_en" tags="Updated" position="3650,967" size="100,100">Kelsie takes a look at you and smiles.

//“You clean up good $name. I like the flower details on your shirt.”//

You blush. This was the right call indeed.&lt;&lt;if $present gt 0&gt;&gt;

She looks at what you are holding.&lt;&lt;/if&gt;&gt; &lt;&lt;if $present is 2&gt;&gt;Looking at the bouquet, her smile grows. However, she does not peep a word about it.&lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 1&gt;&gt;Looking at the box of sweets, a sullen look falls on her face. However, she does not peep a word about it.&lt;&lt;/if&gt;&gt;

She takes your arm and bring you further into the house.

//“Come on, $name. Let&#39;s meet everyone. For real this time.”//

[[Continue|Handshake]] 
</tw-passagedata><tw-passagedata pid="133" name="Compliment_frm" tags="translated" position="3650,1642" size="100,100">Kelsie vous regarde et sourit.

// « Tu es superbe, $name ! J&#39;adore les détails de fleurs sur ta chemise. »//

Vous rougissez. C&#39;était le bon choix en effet. &lt;&lt;if $present gt 0&gt;&gt;

Elle regarde ce que vous tenez. &lt;&lt;if $present is 2&gt;&gt;En regardant le bouquet, son sourire s&#39;agrandit. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;elseif $present is 1&gt;&gt;En regardant la boîte de bonbons, un air maussade tombe sur son visage. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

Elle prend votre bras et vous emmène plus loin dans la maison.

//« Aller, $name. Viens rencontrer tout le monde. Pour de vrai cette fois. »//

[[Continuer|Handshake]] 
</tw-passagedata><tw-passagedata pid="134" name="END4_en" tags="Updated END" position="3600,1217" size="100,100">&lt;&lt;set $endoutfit to true&gt;&gt;Kelsie takes a look at you confused.
//“Uhh… $name?”
“Yes?”
“What... what&#39;s with the costume?”
“What costume?”// you ask. Then pointing at the piece of stretchy cloth barely covering you: //“You mean this?”
“Yes I mean this, $name. What else could I mean?”
“You don&#39;t like it?”
“In the right setting, I wouldn&#39;t mind it. But this is not a Halloween party or spring break $name! Why did you think this was appropriate to wear this?”
“I wanted to leave an impression on your parents. This is the best outfit to do it. I mean, didn&#39;t you say they had a good sense of humour?”
“They like to joke around, but what did they think they would say seeing you for the first time like this?”
“I don&#39;t know. Something along the line for appearing in a rap video or a parody movie? Or wishing me a good spring break?”
“How does that make it even better… Stop with your dumb jokes $name! I am being serious here! Unbelievable! The day I need you to be somewhat normal, you pull a childish prank like this.”
“Come on Kelsie. Don&#39;t be so superficial. It&#39;s what&#39;s inside that matters.”
“Stop $name! Just... stop.”//

Silence sets in the corridor. Maybe the funky outfit was not the right way to go.

//“Kelsie sweetie, is everything ok?”// you hear down the corridor.

//“Shit”// curses Kelsie under her breath, panicking. //“Yes mom. Coming in a minute.”// Then back at you, waving at your outfit://“By any chance, did you bring anything else with you to cover... This?”
“Uh... No, not really. Can I just borrow a robe or something?”
“And look more like a creep than you would be now? No. And my parents would ask too many questions if we borrowed anything from the closets. I mean why would you be wearing our clothes in the first place.”
“Haha”//, you smirk, uneasy. //“Then what should we do?”
“We? No... no... I am not dirtying my hands in your mess. You should ask what should you do.”// And stopping you from replying: //“And the only answer in your head should be to go home. I can&#39;t handle this mess today.”
“What about meeting your parents?”
“Forget about it. Just go home.”//

She walks past you and open the door. You look at her, feeling sorry. She nudges you again to leave and you comply. As you as you pass the door, you hear it slam behind you. You get in your car, still not completely realizing what just happened and drive home.

As you get home, you receive a text from Kelsie.

&lt;div class=&quot;message&quot;&gt;//I don&#39;t understand why you would want to humiliate me like this. 
I don&#39;t think I can be with you anymore. 
Goodbye $name.//&lt;/div&gt;

Kelsie never answers your messages after this. Retelling this story to your friends, they thought that this was hilarious and that Kelsie overreacted. While you agree with them, you still start to think twice before wearing anything in the morning. Just in case.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;“This is not Spring Break yet”&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="135" name="END4_frm" tags="translated END" position="3600,1892" size="100,100">&lt;&lt;set $endoutfit to true&gt;&gt;Kelsie vous regarde confuse.
//« Euh… $name ? »
« Oui ? »
« Qu&#39;est-ce... pourquoi le costume ? »
« Quel costume ? »// demandez-vous. Puis en pointant le morceau de tissu extensible qui vous recouvre à peine : //« Tu veux dire ça ? »
« Oui, je parle de ce choix-là, $name. Quoi d&#39;autre que ça ? »
« Tu n&#39;aimes pas ? »
« Dans le bon cadre, ça ne m’aurait pas dérangé pas. Mais ce n&#39;est pas une fête d&#39;Halloween ou une fête d’étudiant $name ! Pourquoi pensais-tu que c&#39;était approprié de porter ça ? »
« Je voulais laisser une impression sur tes parents. C’était la meilleure tenue pour le faire. Enfin, c’est pas toi qui m’avais dit qu&#39;ils avaient un bon sens de l&#39;humour ? »
« Ils aiment plaisanter, mais qu’est-ce qu’ils penseraient en te voyant pour la première fois comme ça ? »
« Je ne sais pas. Quelque chose du genre me demandant si j’apparaîtrai dans une vidéo de rap ou un film parodique ? Ou me souhaiter de bonnes vacances d’été à Ibiza ? »
« C’est pas mieux… Arrête avec tes blagues stupides $name ! Je suis sérieuse là ! Incroyable ! Le jour où j&#39;ai besoin que tu sois un peu normal, tu fais un canular débile. »
« Hé Kelsie. Sois pas aussi superficielle. C&#39;est ce qu&#39;il y a à l&#39;intérieur qui compte vraiment. »
« Arrête $name ! Arrête. »//

Le silence s&#39;installe dans le couloir. Peut-être que cette tenue originale n&#39;était pas la bonne voie à prendre.

//« Kelsie, ma chérie, est-ce que tout va bien ? »// vous entendez dans le couloir.

//« Merde »// maudit Kelsie dans un soupire, paniquée. //« Oui maman. J&#39;arrive dans une minute. » // Puis elle se retourne vers vous, en faisant signe à votre tenue://« Par hasard, tu aurais apporté autre chose avec toi pour couvrir… ça ? »
« Euh... Non, pas vraiment. Je peux pas simplement emprunter un peignoir ou quelque chose ? »
« Et ressemblez encore plus à un pervers que tu ne l’es maintenant ? Non. Et mes parents poseraient trop de questions si on empruntait quelque chose des placards. Je veux dire, pourquoi est-ce que tu voudrais nos vêtements en premier lieu ? »
« Ha… ha… »//, vous souriez, mal à l&#39;aise. //« Alors qu’est-ce qu’on peut faire ? » 
« On ? Non... non... Je ne me salirai pas les mains dans ton bordel. Tu devrais demander ce que tu devrais faire. » // Et vous empêchant de répondre : // « Et la seule réponse dans ta tête devrait être de rentrer chez toi. Je ne peux pas gérer ce bordel aujourd&#39;hui. »
« Mais… je devais rencontrer tes parents aujourd’hui ? »
« Oublie tout ça et rentre chez toi. »//

Elle passe devant vous et ouvre la porte. Vous la regardez, désolé. Elle vous pousse à nouveau à partir et vous obéissez. En passant la porte, vous l&#39;entendez claquer derrière vous. Vous montez dans votre voiture, ne réalisant toujours pas complètement ce qui vient de se passer et rentrez chez vous.

En arrivant chez vous, vous recevez un message de Kelsie.

&lt;div class=&quot;message&quot;&gt;//Je ne comprends pas pourquoi tu voulais m&#39;humilier comme ça aujourd’hui.
Je ne pense pas pouvoir être avec quelqu’un qui fout le bordel comme ça.
Au revoir $name.//&lt;/div&gt;

Kelsie ne répond plus à vos messages après ça. En racontant cette histoire à vos amis, ils ont pensé que c&#39;était hilarant et que Kelsie avait réagi de manière excessive. Bien que vous soyez d&#39;accord avec eux, vous commencez toujours à réfléchir à deux fois avant de porter quoi que ce soit le matin. Au cas où.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Ce n&#39;est pas encore les vacances »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="136" name="Handshake_en" tags="Updated" position="3850,1092" size="100,100">Pulled by the arm by Kelsie, you leave the dark corridor and enter a room filled with light. Your eyes need a moment to adjust. You&#39;ve stepped into a veranda, which you think is located at the back of the house.  All around you, from the bottom to the top, things seem to gleam into the sunlight coming through the glass ceiling.&lt;&lt;if $outift is 2&gt;&gt;

//“What a cute flower motif on their shirt,”// you hear in the distance.&lt;&lt;/if&gt;&gt; 

Your eyes start to finally notice shapes moving around you. You focus again and see in the room three people, two adults, a man and a woman, and a young boy. The adults seem to be in their early fifties&lt;&lt;if $time is 0&gt;&gt;, the child should be about 10 year old&lt;&lt;/if&gt;&gt;.&lt;&lt;if time is 1&gt;&gt; You recognise the little one as Noah, who greeted you at the door.&lt;&lt;else&gt;&gt; Kelsie had mentioned earlier that she had a little brother. You recall his name being Noah.&lt;&lt;/if&gt;&gt; Seeing the similarity in their faces, you presume that the two adults are Kelsie&#39;s parents. //Well, who else could they be but her parents.//

//“Mom, Dad. This is $name. $name meet my parents, John and Cora. &lt;&lt;if $time is 1&gt;&gt;You&#39;ve already met Noah earlier.&lt;&lt;else&gt;&gt;And Noah, my little brother.&lt;&lt;/if&gt;&gt;”
“Hi...”//, you mutter shyly. It seems that all of your preparation did not really help with the reality.

//“Hello $name. It is lovely to finally meet you. Kelsie has told us quite a bit about you. But it is really nice to being able to put a face to the name!”// you hear John say, while extending his hand to you.

Next to him, Noah hides behind Cora, who smile and waves at you.

What do you do?

* [[You take John&#39;s hand and shake it simply and slightly firmly.|Proper]]
* [[John seems like a cool dad. Why not take the casual way and high five him?|High5]]
* /* [[END5]] */&lt;&lt;link &quot;Your dad always told you: //“A strong handshake to show your dominance”//. You take John&#39;s hand with force.&quot; &quot;END5&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
</tw-passagedata><tw-passagedata pid="137" name="Handshake_frm" tags="translated" position="3850,1767" size="100,100">Tiré par le bras par Kelsie, vous quittez le couloir sombre et entrez dans une pièce remplie de lumière. Vos yeux ont besoin d&#39;un moment pour s&#39;adapter. Vous êtes entré dans une véranda, que vous pensez être située à l&#39;arrière de la maison. Tout autour de vous, du sol au plafond, les choses semblent briller dans la lumière du soleil qui traverse le plafond de verre. &lt;&lt;if $outift is 2&gt;&gt;

//« Quel joli motif de fleurs sur sa chemise, »// vous entendez au loin.&lt;&lt;/if&gt;&gt; 

Vos yeux commencent enfin à remarquer des formes qui se déplacent autour de vous. Vous vous concentrez à nouveau et voyez dans la pièce trois personnes, deux adultes, un homme et une femme, et un jeune garçon. Les adultes semblent avoir la cinquantaine&lt;&lt;if $time is 0&gt;&gt;, l&#39;enfant doit avoir environ 10 ans &lt;&lt;/if&gt;&gt;.&lt;&lt;if time is 1&gt;&gt; Vous reconnaissez le petit garçon comme Noah, qui vous a accueilli à la porte.&lt;&lt;else&gt;&gt; Kelsie avait mentionné plus tôt qu&#39;elle avait un petit frère. Vous vous souvenez qu&#39;il s&#39;appelait Noah.&lt;&lt;/if&gt;&gt; En voyant la similitude de leurs visages, vous présumez que les deux adultes sont les parents de Kelsie. //Qui d&#39;autre pourraient-ils être à part ses parents.//

//« Maman… Papa. Voici $name. $name, mes parents, John et Cora. &lt;&lt;if $time is 1&gt;&gt;Tu as déjà rencontré Noah plus tôt.&lt;&lt;else&gt;&gt;Et Noah, mon petit frère.&lt;&lt;/if&gt;&gt; »
« Bonjour... » //, murmurez-vous timidement. Il semble que toute votre préparation n&#39;a finalement pas vraiment aidé.

// « Bonjour $name. C&#39;est un plaisir de te rencontrer enfin. Kelsie nous a beaucoup parlé de toi. Mais c&#39;est vraiment agréable de pouvoir mettre un visage sur le nom ! »// vous entendez John dire, en vous tendant la main.

A côté de lui, Noah se cache derrière Cora, qui vous sourit et vous fait coucou.

Que faites-vous ?
* [[Vous prenez la main de John et la secouez simplement et fermement. |Proper]]
* [[John a l&#39;air d&#39;être un papa cool. Pourquoi ne pas prendre la voie décontractée et lui taper sa main ? |High5]]
* /* [[END5]] */&lt;&lt;link &quot;Votre père vous disait toujours : //« Une forte poignée de main pour montrer ta domination »//. Vous prenez la main de John avec force.&quot; &quot;END5&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;

</tw-passagedata><tw-passagedata pid="138" name="Proper_en" tags="Updated" position="3975,1092" size="100,100">&lt;&lt;set $handshake to 1&gt;&gt;You take John&#39;s hand give it a firm but simple shake, while mentioning how nice it was to meet them. John smiles at you and pat you on your back.

//Nailed it!// you think.

You then greet Cora, and finally the shy Noah. Everyone seems very pleased with you so far.

&lt;&lt;if $present gt 1&gt;&gt;[[Continue|Bouquet]]&lt;&lt;elseif $present lt 1&gt;&gt;[[Continue|Tally]]&lt;&lt;else&gt;&gt;[[Continue|Sweet]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="139" name="Proper_frm" tags="translated" position="3975,1767" size="100,100">&lt;&lt;set $handshake to 1&gt;&gt;Vous prenez la main de John, la serrez fermement mais simplement, tout en mentionnant à quel point vous êtes ravi de les rencontrer. John vous sourit et vous tapote gentiment dans le dos.

// J&#39;ai assuré ! // pensez-vous.

Vous saluez ensuite Cora, et enfin le timide Noah. Tout le monde semble très content de vous jusqu&#39;à présent.

&lt;&lt;if $present gt 1&gt;&gt;[[Continuer|Bouquet]]&lt;&lt;elseif $present lt 1&gt;&gt;[[Continuer|Tally]]&lt;&lt;else&gt;&gt;[[Continuer|Sweet]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="140" name="High5_en" tags="Updated" position="3975,967" size="100,100">&lt;&lt;set $handshake to 0&gt;&gt;You slap the palm of John&#39;s hand then hold yours in the air, waiting for him to high-five you. 
//“Up high!”// you utter.

Slightly confused and a bit annoyed, John sluggishly raise his hand and hit weakly your hand. It seems like John might not be the cool dad you think he is.

Noah leaves his safe spot behind his mother and shows you his hand giggling.
//“Down low!”// he squeaks

As you lower your hand to slap his, Noah retracts it and laughs:
//“Too slow! Hahaha!”//

You nervously laugh back. It&#39;s seems like everyone else is somewhat uncomfortable as well, but smile through it and try to move on from it.

&lt;&lt;if $present gt 1&gt;&gt;[[Continue|Bouquet]]&lt;&lt;elseif $present lt 1&gt;&gt;[[Continue|Tally]]&lt;&lt;else&gt;&gt;[[Continue|Sweet]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="141" name="High5_frm" tags="translated" position="3975,1642" size="100,100">&lt;&lt;set $handshake to 0&gt;&gt;Vous frappez la paume de la main de John puis tenez la vôtre en l&#39;air, en attendant qu&#39;il fasse de même.
//« En haut ! »// vous annoncez.

Légèrement confus et un peu agacé, John lève lentement la main et frappe faiblement votre main. On dirait que John n&#39;est peut-être pas le papa cool que vous pensiez qu&#39;il est.

Noah quitte son endroit sûr derrière sa mère et vous montre sa main en riant.
//« En bas ! » // couine-t-il

Alors que vous baissez votre main pour gifler la sienne, Noah la rétracte et rit :
//« Trop lent! Hahaha! »//

Vous riez nerveusement en retour. Il semble que tout le monde soit un peu mal à l&#39;aise aussi, mais souriez et essayez de passer à autre chose.

&lt;&lt;if $present gt 1&gt;&gt;[[Continuer|Bouquet]]&lt;&lt;elseif $present lt 1&gt;&gt;[[Continuer|Tally]]&lt;&lt;else&gt;&gt;[[Continuer|Sweet]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="142" name="END5_en" tags="Updated END" position="3925,1217" size="100,100">&lt;&lt;set $endshake to true&gt;&gt;//“A strong handshake to show your dominance,”// you remember your father said.

Taking this saying to heart, you take John&#39;s hand forcefully, squeeze it and shake vigorously. Though, it seems that you are taking your father&#39;s advice a bit too strongly. John smiles, seemingly a bit uncomfortable with the forceful approach. He slowly tries to pull back, but you keep your hand firmly clenched on his. 

//“Heh! What a strong handshake $name,”// John says, trying to pull his hand back yet again.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;//Not there just yet//, you think, as you continue to apply more strength to your handshake. 

As your grip gets stronger, you start to frown and your muscles in your face tense up. John&#39;s expression turns from uncomfortable to slight fear. Around you, people become agitated. Kelsie tries to pull you back.

//“$name! You can release now. Please. That&#39;s enough!”// Kelsie cries out.

You are so focused on this handshake than you barely hear her pleas. You won&#39;t stop until John yields completely. You add again some extra pressure. John&#39;s face twitches in what you describe as retaliation. You prepare yourself for John to squeeze your hand with all of his force...

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;//&#39;&#39;POP&#39;&#39;//

You see John fall on his knees, tears dripping down his cheeks. You release his hand, slowly coming to realisation of what just happened here. You take a few steps back and see people around you running frantically around.

//“What is wrong with you, $name?”
“Honey, I think something not right with my hand. I... I can&#39;t move my fingers!”
“Why would you do this, you maniac?”
“I think we need to go to the E.R.”
“Get away from my dad, you... you monster”//

You feel someone grabbing your arm and pulling you aside. You turn your head to see Kelsie, fuming. You&#39;ve seen her angry before, but never this extreme. 
//“What the hell $name?”// she yells at you.
//“I... I...”//, you mumble.
//“You what. Why would you crush someone&#39;s hand like that?”
“I was just showing your dad that I was not a wet blanket.”
“And you thought this best way to show it?”// she sighed, massaging her temples. //“Did you not see my father was uncomfortable with this ? It just felt like you were trying to... like... tame him. You looked at him like he was some sort of animal. Why didn&#39;t you stop when I asked you?”
“I don&#39;t know... I guess I didn&#39;t hear you.”
“I yelled at you, $name. Yelled!”//

You reach your hand towards her, but she pulls away, her arms squeezing herself. She was shaking.
//“I don&#39;t think I can brush this off as just a mistake $name. I mean, you basically assaulted my dad just now. You should just go.”
“What? Wait, Kelsie! Let&#39;s talk about this.”
“I don’t want to hear anything from you. I have nothing else to say to you. Do I have to spell it out for you? This is over. Just leave already!”//

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;She pushes you toward the door. Feeling the dark gaze from everyone around you, you comply and leave. 

Kelsie refuses any call from you and will not reply to your messages. Not long after, your friends start cancelling on you and stop responding altogether. 

You hear from an acquaintance that there is a weird rumour about you beating up Kelsie&#39;s dad and that he had to wear a cast for a while because of it. You keep claiming that it was just all a misunderstanding. Though, people do not seem to believe you and steer away from you when they cross your path.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;“Breaking Bones”&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;
	
&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="143" name="END5_frm" tags="translated END" position="3925,1892" size="100,100">&lt;&lt;set $endshake to true&gt;&gt;//&quot;Une forte poignée de main pour montrer votre domination,&quot;// vous vous souvenez que votre père vous a dit.

Prenant ce dicton à cœur, vous prenez la main de John avec force, la serrez et secouez vigoureusement. Cependant, il semble que vous suivez un peu trop les conseils de votre père. John sourit, apparemment un peu mal à l&#39;aise avec cette approche énergique. Il essaie lentement de se retirer, mais vous gardez votre main fermement serrée sur la sienne.

// « Heh ! Quelle forte poignée de main $name, »// dit John en essayant de retirer sa main une fois de plus.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;//Pas encore//, pensez-vous, alors que vous continuez à appliquer plus de force à votre poignée de main.

Au fur et à mesure que votre prise se renforce, vous commencez à froncer les sourcils et les muscles de votre visage se tendent. L&#39;expression de John passe d&#39;un malaise à une légère peur. Autour de vous, les gens s&#39;agitent. Kelsie essaie de vous retenir.

// « $name ! Tu peux relâcher maintenant. S&#39;il te plaît. Ça suffit ! » // crie Kelsie.

Vous êtes tellement concentré sur cette poignée de main que vous entendez à peine ses supplications. Vous n&#39;arrêterez pas tant que John ne cèdera pas complètement. Vous ajoutez à nouveau une pression supplémentaire. Le visage de John se contracte dans ce que vous décrivez comme des représailles. Vous vous préparez à ce que John serre votre main de toute sa force...

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;//&#39;&#39;POP&#39;&#39;//

Vous voyez John tomber à genoux, des larmes coulant sur ses joues. Vous relâchez sa main, réalisant lentement ce qui vient de se passer ici. Vous reculez de quelques pas et voyez les gens autour de vous courir frénétiquement.

// « Qu&#39;est-ce qui ne va pas avec toi, $name ? »
« Chérie, je pense que quelque chose ne va pas avec ma main. Je... je ne peux pas bouger mes doigts ! »
« Pourquoi as-tu continué comme ça, espèce de maniaque ? »
« Je pense que nous devons aller aux urgences.
« Éloigne-toi de mon père, tu... tu es un monstre » //

Vous sentez que quelqu&#39;un vous attrape par le bras et vous tire sur le côté. Vous tournez la tête pour voir Kelsie, furieuse. Vous l&#39;avez déjà vue en colère, mais jamais à ce point.
//« Bordel, $name. Qu&#39;est-ce qui ne va pas avec toi ? » // elle vous crie dessus.
//« Je... je... »//, vous marmonnez.
//« Tu quoi ? Pourquoi écraserais-tu la main de quelqu&#39;un comme ça ? »
« Je voulais juste montrer à ton père que je n&#39;étais pas une poule mouillée. »
« Et tu as pensé que c&#39;était la meilleure façon de le montrer ? » // soupira-t-elle en se massant les tempes. //« Tu n&#39;as pas vu que mon père était mal à l&#39;aise avec ça ? J&#39;avais juste l&#39;impression que tu essayais de... de l&#39;apprivoiser. Tu l&#39;as regardé comme s&#39;il était une sorte d&#39;animal. Pourquoi tu ne t’es pas arrêté quand je te l&#39;ai demandé ? »
« Je ne sais pas... Je suppose que je ne t&#39;ai pas entendu. »
« Je t&#39;ai crié dessus, $name. Crié ! »//

Vous tendez votre main vers elle, mais elle s&#39;éloigne, se serrant dans ses bras. Elle tremble.
//« Je ne pense pas pouvoir considérer cela comme une simple erreur, $name. Je veux dire, tu as essentiellement agressé mon père tout à l&#39;heure. Tu devrais juste y aller. »
« Quoi ? Attends, Kelsie ! On peut pas en parler ? »
« Je ne veux rien entendre de toi. Je n&#39;ai rien d&#39;autre à te dire. Dois-je te l&#39;épeler ? C&#39;est terminé. Va-t-en ! »//

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; Elle vous pousse vers la porte. Sentant le regard noir de tout le monde autour de vous, vous vous conformez et partez.

Kelsie refuse tout appel de votre part et ne réponds pas à vos messages. Peu de temps après, vos amis commencent à vous annuler et cessent complètement de répondre.

Une connaissance vous dit qu&#39;il y a une étrange rumeur selon laquelle vous avez battu le père de Kelsie et qu&#39;il a dû porter un plâtre pendant un certain temps à cause de ça. Vous n&#39;arrêtez pas de prétendre que ce n&#39;était qu&#39;un malentendu. Cependant, les gens ne semblent pas vous croire et s&#39;éloignent de vous lorsqu&#39;ils croisent votre chemin.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Briser des os »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;
</tw-passagedata><tw-passagedata pid="144" name="Bouquet_en" tags="Updated" position="4100,967" size="100,100">You see Cora noticing your filled hand. Remembering that cut flowers should not stay out of water for too long, you hand her the bouquet. You babble your hope that they would like it and that you were trying to pick the right flowers to convey your feelings about today. In the corner of your eyes, you see Kelsie blush.

//“$name did the same thing last time they brought me flowers. I had mentioned to them learning about flower meanings with grannie when we would go to her house for the summer. And that we would use it like a secret tongue to send each other messages.”
“How very thoughtful of you $name!”//responds Cora. //“This is a beautiful bouquet you brought. John, can you bring me my phone? I want to take a picture of it and send it to your mom. I think she would love it.”//

John disappears for a bit and comes back with a phone.

//“Here Kelsie, hold it, will you.”// Cora says, as she hands the bouquet to her daughter. //“Hold it a bit lower. And tilt if forward as well. It would be nice to see all of the different flowers in the picture. Get in here too $name. It will be easier for Nana to understand what is going on.”//

As Cora takes pictures, you hear Kelsie whisper to you, smiling: //“Scoring points with my parents I see.”//

Aside, you see Noah, confused about the all thing, asking his dad why flowers have to have a meaning and why people can&#39;t just say it aloud instead. 

//“That&#39;s true that it can be a bit confusing. You can&#39;t really say full sentences with flower,”// you hear John say. //“But you can show your feelings for someone. $name&#39;s bouquet shows affection, anxiousness and wanting to please. You know, it&#39;s a beautiful old tradition, which your grandma likes a lot. You should ask her more about it, I’m sure she would love to explain it to you.”//

[[Continue|Tally]]  
</tw-passagedata><tw-passagedata pid="145" name="Bouquet_frm" tags="translated" position="4100,1642" size="100,100">Vous voyez Cora remarquer le bouquet dans votre main. Vous rappelant que les fleurs coupées ne doivent pas rester trop longtemps hors de l&#39;eau, vous lui tendez le bouquet. Vous bafouillez votre espoir que ça leur plairait et que vous aviez essayé de choisir les bonnes fleurs pour exprimer vos sentiments à propos d&#39;aujourd&#39;hui. Dans le coin de vos yeux, vous voyez Kelsie rougir.

// « $name a fait la même chose la dernière fois qu&#39;il m&#39;a apporté des fleurs. Je lui avais dit d&#39;avoir appris la signification des fleurs avec grand-mère quand on allait chez elle tous les étés. Et qu’on l&#39;utilisait comme une langue secrète pour nous envoyer des messages. »
« Comme c’est gentil, $name ! »//répond Cora. //« C&#39;est un beau bouquet que tu as apporté. John, peux-tu m&#39;apporter mon téléphone ? Je veux le prendre en photo et l&#39;envoyer à ta mère. Je pense qu&#39;elle adorerait ça. »//

John disparaît un moment et revient avec un téléphone.

//« Tiens Kelsie, tiens-le. » // Cora dit, alors qu&#39;elle tend le bouquet à sa fille. //« Tiens-le un peu plus bas. Et incline le vers l&#39;avant aussi. Ce serait bien de pouvoir montrer toutes les différentes fleurs sur la photo. Viens ici aussi $name. Il sera plus facile pour Nana de comprendre ce qui se passe. »//

Pendant que Cora prend des photos, vous entendez Kelsie vous murmurer en souriant : //« Tu marques des points avec mes parents, je vois. »//

À part, vous voyez Noah, confus à propos de tout cela, demander à son père pourquoi les fleurs doivent avoir un sens et pourquoi les gens ne peuvent pas simplement le dire ce qu’ils ressentent à haute voix à la place.

//« C&#39;est vrai que ça peut être un peu déroutant. Tu ne peux pas vraiment dire des phrases complètes avec des fleurs, »// vous entendez John dire. // « Mais tu peux montrer tes sentiments pour quelqu&#39;un. Le bouquet de $name montre de l&#39;affection, de l&#39;anxiété et du désir de plaire. Tu sais, c&#39;est une belle vieille tradition, que ta grand-mère aime beaucoup. Tu devrais lui en demander plus, je suis sûr qu&#39;elle aimerait te l&#39;expliquer. »//

[[Continuer|Tally]]  </tw-passagedata><tw-passagedata pid="146" name="Sweet_en" tags="Updated" position="4050,1217" size="100,100">You see Cora noticing your filled hand. Remembering that you brought dessert, you realize that they shouldn&#39;t stay out of the fridge for too long. While handing her the box, you babble about your hope that they would like them and that the box contained a wide arrangement of taste so everyone could get what they preferred.

In the corner of your eye, you see Kelsie looking down, scratching her arm. You see Noah, looking excited at the delicacies, being pulled away from the box. His excitement turns rapidly into sadness. The room tensed up. //This is not good//, you think.

//“How... nice of you to bring something, $name”//, says Cora with a pause. That pause made it worse. Cora adds: //“Kelsie should have mentioned it before, but Noah has some allergies. There are a lot of pre-made items he can&#39;t eat. We usually make everything at home for that reason. It&#39;s also why Kelsie started to take interest into the culinary world.”//

The room falls silent again. You start feeling embarrassed by what you had brought.

//“I guess we could have some with coffee,”// chimes in John. //“Usually by that time, Noah gets bored and we let him go play. It would be a shame to waste them.”// Then turning towards Cora: //“I&#39;ll make sure that Noah can&#39;t reach them.”//

Cora nods at him and hand him the box of sweets. Noah crosses his arm muttering that it was not fair that the adults could do what they wanted. Kelsie chimes in that she made his favourite cake for dessert. Noah jumps up and down, seemingly having just forgotten what happens.

&lt;&lt;if $cheating gt 3&gt;&gt;You start feeling a humiliated. You try to remember if Kelsie ever mentioned anything like this, about Noah or her reasons for becoming a cook. But nothing comes to mind. //Why didn’t she ever say something about this?// You put your hands in your pockets, thinking how to recover from that. You feel your phone vibrating again. //Maybe it’s Jessie. At least someone could be in my corner…//

* [[You check your phone, and message Jessie again. She will probably make you feel better.|Sweet2][$cheating +=1]]
* [[You ignore your phone and try to keep everything inside. The lunch has not even started, things can always turn around.|Sweet2]]
&lt;&lt;else&gt;&gt;[[Continue|Tally]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="147" name="Sweet_frm" tags="translated" position="4050,1892" size="100,100">Vous voyez Cora remarquer la boîte dans vos mains. Vous rappelant que vous avez apporté un dessert, vous réalisez qu&#39;ils ne devraient pas rester trop longtemps hors du réfrigérateur. En lui tendant la boîte, vous babillez sur votre espoir que tout le monde les aimerait et que la boîte contienne un large éventail de goûts afin que chacun puisse obtenir ce qu&#39;il préfère.

Du coin de l&#39;œil, vous voyez Kelsie baisser les yeux en se grattant le bras. Vous voyez Noah, l&#39;air excité par les délicatesses, être mis à l’écart, loin de la boîte. Son excitation se transforme rapidement en tristesse. Une tension se répand dans la pièce. //Ce n&#39;est pas bon//, pensez-vous.

//« Comment c’est... gentil de ta part de nous avoir apporté quelque chose, $name »//, dit Cora avec une pause. Cette pause définitivement aggrave les choses. Elle ajoute : //« Kelsie aurait dû le mentionner avant, mais Noah a des allergies. Il y a beaucoup d&#39;articles préfabriqués qu&#39;il ne peut pas manger. Nous cuisinons généralement tout à la maison pour cette raison. C&#39;est aussi pourquoi Kelsie a commencé à s&#39;intéresser au monde culinaire. »//

La pièce redevient silencieuse. Vous commencez à vous sentir gêné par ce que vous avez apporté.

// « Je suppose que nous pourrions les manger avec le café », // propose John. //« Habituellement, à ce moment-là, Noah s&#39;ennuie et nous le laissons jouer dehors. Ce serait dommage de les gaspiller. »// Puis se tournant vers Cora : //« Je ferai en sorte que Noah ne puisse pas les atteindre. »//

Cora lui fait un signe de tête et lui tend la boîte. Noah croise le bras en marmonnant qu&#39;il n&#39;était pas juste que les adultes puissent faire ce qu&#39;ils voulaient. Kelsie dit qu&#39;elle lui a préparé son gâteau préféré pour le dessert. Noah saute de haut en bas, ayant apparemment déjà oublié ce qu’il venait de se passer.

&lt;&lt;if $cheating gt 3&gt;&gt; Vous commencez à vous sentir humilié. Vous essayez de vous rappeler si Kelsie aurait mentionné quelque chose comme ça, à propos de Noah ou de ses raisons pour devenir cuisinière. Mais rien ne vous vient à l&#39;esprit. //Pourquoi ne m&#39;a-t-elle jamais dit quelque chose à ce sujet ? // Vous avez mis vos mains dans vos poches, en pensant comment vous en remettre. Vous sentez que votre téléphone vibrer à nouveau. //Peut-être que c&#39;est Jessie. Au moins quelqu&#39;un pourrait être dans mon coin pour une fois…//

* [[Vous vérifiez votre téléphone et envoyez à nouveau un message à Jessie. Elle vous fera probablement vous sentir mieux. |Sweet2][$cheating +=1]]
* [[Vous ignorez votre téléphone et essayez de tout garder à l&#39;intérieur. Le déjeuner n&#39;a encore commencé, les choses peuvent toujours changer. |Sweet2]]
&lt;&lt;else&gt;&gt;[[Continuer|Tally]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="148" name="Tally_en" tags="Updated" position="4175,1092" size="100,100">&lt;&lt;set $total to $outfit + $time + $present + $handshake&gt;&gt;&lt;&lt;if $time is 1 and $total&gt;4&gt;&gt;//“Since there is some time before lunch is served, let&#39;s show you around.”// proposes Cora. 

Nodding, you follow her as you visit Kelsie&#39;s home. You learn that the house had been in the Spark&#39;s family for a few generations, built by one of John&#39;s ancestor. Mentioning that even though it had been renovated often, Cora gushes about the fact that the garden only saw addition. The oldest plants were either native to the region or planted by the Spark&#39;s ancestor. Wanting to leave a mark for the future, the next generations only added on.

Walking around the house, learning more about Kelsie and her family, you can&#39;t help but hope that you are meeting Kelsie&#39;s expectation for today. During this time, you get to share a bit more about yourself and answer John and Cora&#39;s questions.

&lt;&lt;/if&gt;&gt;&lt;&lt;if $time is 1 and $total&lt;5&gt;&gt;//&quot;Since there is some time before lunch is served, let&#39;s show you around.&quot;// proposes Cora. 

Nodding, you follow her as you visit Kelsie&#39;s home. The Spark&#39;s home was built by one of their ancestor.&lt;&lt;if $outfit is 2 or $present is 2&gt;&gt; The garden has also a special place in the family&#39;s heart.&lt;&lt;/if&gt;&gt;&lt;&lt;if $total&lt;3&gt;&gt; While touring around, you feel bizarrely like a stranger visiting an estate. Cora avoid your gaze and ask few questions about you. Behind, John and Noah, barely taking any notice at you, seem bored.&lt;&lt;/if&gt;&gt;&lt;&lt;if $total&gt;2&gt;&gt; While touring, you strangely feel like you are visiting a house with a guide. Cora asks you about what you think of the house and you can&#39;t say anything but compliments. John ask you a few questions about yourself.&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;//“Anyway...”// starts Kelsie after some time. //“How about we have some lunch?”//

All in agreement, you head into the dining room. As soon as you see the table, you start salivating. The table has been set with an array of dishes, all looking more delicious than the other. You can&#39;t believe Kelsie has outdone herself again. You can&#39;t wait to try it all. 

The rest of the lunch is pretty uneventful. &lt;&lt;if $total lt 3&gt;&gt; Though, you notice that John and Cora avoid your gaze when you speak and uncomfortable silences set in between topics. &lt;&lt;if $cheating gt 5&gt;&gt;You keep glancing at your phone under the table, messaging Jessie here and there. At times, you wish you were not seating at this table, but somewhere else with her. &lt;&lt;/if&gt;&gt;&lt;&lt;elseif $total gt 4&gt;&gt;Though, you notice that people at the table are quite lively and try to get you into multitudes of conversation. You are more than happy to join them and to answer any question they could have. &lt;&lt;if $cheating gt 5&gt;&gt;When you can, you glance at your phone under the table, messaging Jessie here and there. You are able to keep it together, but don’t seem to feel as engaged with this lunch as you were a few hours ago. &lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;Though, even if the table stay quite lively, you notice that you get a bit lost in some conversation. Cora and John still ask you some questions throughout, but do not look as engaged as when talking to their daughter. &lt;&lt;if $cheating gt 5&gt;&gt;You glance once in a while at your phone under the table, messaging Jessie here and there. When no one talks to you, you wish you were not seating at this table, but somewhere else with her. &lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cheating gt 5&gt;&gt;[[Continue|END10]]&lt;&lt;elseif $total gt 4&gt;&gt;[[Continue|END6]]&lt;&lt;elseif $total lt 3&gt;&gt;[[Continue|END7]]&lt;&lt;else&gt;&gt;[[Continue|END8]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="149" name="Tally_frm" tags="translated" position="4175,1767" size="100,100">&lt;&lt;set $total to $outfit + $time + $present + $handshake&gt;&gt;&lt;&lt;if $time is 1 and $total&gt;4&gt;&gt;//« Puisqu&#39;il reste un peu de temps avant que le déjeuner ne soit servi, pourquoi pas te faire visiter autour. » // propose Cora.

Hochant la tête, vous la suivez et visitez la maison de Kelsie. Vous apprenez que la maison appartenait à la famille Spark depuis quelques générations, construite par l&#39;un des ancêtres de John. Mentionnant que même si la maison avait été rénovée souvent, Cora s&#39;extasie sur le fait que le jardin n&#39;a vu que des ajouts. Les plantes les plus anciennes étaient soit originaires de la région, soit plantées par les ancêtres des Sparks. Voulant laisser une empreinte pour l&#39;avenir, les générations suivantes n&#39;ont fait qu&#39;ajouter à la collection.

En vous promenant dans la maison, en apprenant plus sur Kelsie et sa famille, vous ne pouvez pas vous empêcher d&#39;espérer que vous répondez aux attentes de Kelsie pour aujourd&#39;hui. Pendant ce temps, vous partagez un peu plus sur vous-même en répondant aux questions de John et Cora.

&lt;&lt;/if&gt;&gt;&lt;&lt;if $time is 1 and $total&lt;5&gt;&gt;//« Puisqu&#39;il reste un peu de temps avant que le déjeuner ne soit servi, pourquoi pas te faire visiter autour. » // propose Cora.

Hochant la tête, vous la suivez et visitez la maison de Kelsie. Vous apprenez que la maison avait été construite par l&#39;un des ancêtres de John.&lt;&lt;if $outfit is 2 or $present is 2&gt;&gt; Le jardin a aussi une place spéciale dans le cœur de la famille.&lt;&lt;/if&gt;&gt;&lt;&lt;if $total&lt;3&gt;&gt; En faisant le tour, vous vous sentez bizarrement comme un étranger visitant un domaine. Cora évite votre regard et pose peu de questions sur vous. Derrière, John et Noah, ne faisant presque pas attention à vous, semblent s&#39;ennuyer.&lt;&lt;/if&gt;&gt;&lt;&lt;if $total&gt;2&gt;&gt; En tournée, vous avez étrangement l&#39;impression de visiter un domaine avec un guide. Cora vous demande ce que vous pensez de la maison et vous ne pouvez rien dire d&#39;autre que des compliments. John vous pose quelques questions.&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;// « Quoi qu&#39;il en soit... »// démarre Kelsie après un certain temps. // « Et si on déjeunait maintenant ? »//

Tous d&#39;accord, vous vous dirigez vers la salle à manger. Dès que vous voyez la table, vous commencez à saliver. La table a été dressée avec une panoplie de plats, tous plus délicieux les uns que les autres. Vous ne pouvez pas croire que Kelsie se soit encore surpassée. Vous avez hâte de tout essayer.

Le reste du déjeuner est assez calme.&lt;&lt;if $total lt 3&gt;&gt; Cependant, vous remarquez que John et Cora évitent votre regard lorsque vous parlez et que des silences inconfortables s&#39;installent entre les sujets. &lt;&lt;if $cheating gt 5&gt;&gt;Vous continuez de jeter un coup d&#39;œil à votre téléphone sous la table, envoyant des messages à Jessie ici et là. Parfois, vous aimeriez ne pas être assis à cette table, mais être ailleurs avec elle. &lt;&lt;/if&gt;&gt;&lt;&lt;elseif $total gt 4&gt;&gt; Cependant, vous remarquez que les gens à la table sont assez vifs et essaient de vous engager dans une multitude de conversations. Vous êtes plus qu&#39;heureux de les rejoindre et de répondre à toutes leurs questions. &lt;&lt;if $cheating gt 5&gt;&gt;Lorsque vous le pouvez, vous jetez un coup d&#39;œil à votre téléphone sous la table, envoyant un message à Jessie ici et là. Vous réussissez de tenir le coup, mais ne semblez pas vous sentir aussi impliqué dans ce déjeuner qu&#39;il y a quelques heures. &lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;Cependant, même si la table reste assez animée, vous remarquez que vous vous perdez un peu dans une conversation. Cora et John vous posent toujours quelques questions, mais n&#39;ont pas l&#39;air aussi engagés que lorsqu&#39;ils parlent à leur fille. &lt;&lt;if $cheating gt 5&gt;&gt; Vous jetez un coup d&#39;œil de temps en temps à votre téléphone sous la table, envoyant des messages à Jessie ici et là. Quand personne ne vous parle, vous aimeriez ne pas être assis à cette table, mais être ailleurs avec elle. &lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cheating gt 5&gt;&gt;[[Continuer|END10]]&lt;&lt;elseif $total gt 4&gt;&gt;[[Continuer|END6]]&lt;&lt;elseif $total lt 3&gt;&gt;[[Continuer|END7]]&lt;&lt;else&gt;&gt;[[Continuer|END8]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="150" name="END6_en" tags="Updated END" position="4300,967" size="100,100">&lt;&lt;set $fairytale to true&gt;&gt;Some hours later, this whole ordeal comes to a close. You have made it pass the door, you have met the parents and gone through the lunch without too many worries. You really have a good feeling about this. You’re pretty sure that Kelsie thought this was a great day too, seeing her looking at you with a wide smile. It seems like you have picked the right things to do and the proper things to say to get this far. Your hope of leaving a good impression on her parents have been fulfilled as you sigh in relief. 

John and Cora make you swear to visit them soon, as they deeply enjoyed your company. They hope next time you would stay longer, so that Kelsie can show you around where she grew up. They also nudge Kelsie to bring you to her grandparents, nagging her slightly that they are quite old, and probably don’t have much time left. Before Kelsie starts to complain about their remarks, you retort that you would love to do all of this, if Kelsie is up for it.

You wave them all goodbye as you step into your car. The last bouts of stress in your shoulders dissipates as you leave the Spark&#39;s family home for the first and definitely not the last time.

In a few weeks, you hope to introduce Kelsie to your own family. You know you have nothing to worry about – everyone loves Kelsie as soon as they meet her anyway. You know deep in your heart that she is the one for you. You start spending your idle time daydreaming about your life with her by your side. 

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;“Fairytale Ending”&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="151" name="END6_frm" tags="translated END" position="4300,1642" size="100,100">&lt;&lt;set $fairytale to true&gt;&gt;Quelques heures plus tard, cette épreuve touche à sa fin. Vous avez fait passer la porte, vous avez rencontré les parents et survécu le déjeuner sans trop de soucis. Vous avez vraiment un bon pressentiment à ce sujet. Vous êtes presque sûr que Kelsie a pensé que c&#39;était aussi une bonne journée, en la voyant vous regarder avec un large sourire. Il semble que vous ayez choisi les bonnes choses à faire et les bonnes choses à dire pour en arriver là. Votre espoir de laisser une bonne impression à ses parents s&#39;est réalisé alors que vous soupirez de soulagement.

John et Cora vous font jurer de leur rendre visite bientôt, car ils ont profondément apprécié votre compagnie. Ils espèrent que la prochaine fois vous resterez plus longtemps, afin que Kelsie puisse vous montrer où elle a grandi. Ils poussent également Kelsie à vous amener chez ses grands-parents, la harcelant légèrement qu&#39;ils sont assez vieux et qu&#39;il ne leur reste probablement pas beaucoup de temps. Avant que Kelsie ne commence à se plaindre de leurs remarques, vous rétorquez que vous aimeriez faire tout cela, si Kelsie est d&#39;accord.

Vous leur dites au revoir en montant dans votre voiture. Les dernières poussées de stress dans vos épaules se dissipent lorsque vous quittez la maison du Spark pour la première fois et certainement pas la dernière.

Dans quelques semaines, vous espérez présenter Kelsie à votre propre famille. Vous savez que vous n&#39;avez rien à craindre – tout le monde adore Kelsie dès qu&#39;ils la rencontrent de toute façon. Vous savez au fond de votre cœur qu&#39;elle est faite pour vous. Vous commencez à passer votre temps libre à rêver de votre vie avec elle à vos côtés. 

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Fin de conte de fées »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="152" name="END7_en" tags="Updated END" position="4300,1092" size="100,100">&lt;&lt;set $ghosting to true&gt;&gt;Some hours later, this whole ordeal comes to a close. You have made it pass the door, met the parents and gone through lunch, with maybe some worries here and there. You have your doubts though that Kelsie enjoyed today, as she can barely look at you. You remember the long silences during lunch and keep wondering if you have made the correct choices so far.

Her parents continue to avoid your gaze, as they have since lunch started and barely acknowledge your departure. You’re not really sure if you’ve enjoyed their company either. Being ignored for most of the time was not your idea of fun.

You say your goodbyes as you step into your car. You have a feeling that you would be leaving the Spark&#39;s family home, seemingly for the first and last time.

In a few weeks, Kelsie will start giving excuses to not being able to meet you. Soon, she stops answering you altogether. You keep playing this day in your head, trying to find where you went wrong. You never seem to quite fully recover from this failed relationship. 

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;“Ghosting”&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="153" name="END7_frm" tags="translated END" position="4300,1767" size="100,100">&lt;&lt;set $ghosting to true&gt;&gt; Quelques heures plus tard, cette épreuve touche à sa fin. Vous avez réussi à passer la porte, vous avez rencontré ses parents et vous avez survécu le déjeuner, avec peut-être quelques soucis ici et là. Vous avez cependant des doutes sur le fait que Kelsie ait apprécié aujourd&#39;hui, car elle peut à peine vous regarder. Vous vous souvenez des longs silences pendant le déjeuner et vous vous demandez toujours si vous avez fait les bons choix jusqu&#39;à présent.

Ses parents évitent aussi votre regard, comme ils l’ont fait depuis le début du déjeuner et constatent à peine votre départ. Vous ne savez pas vraiment si vous avez apprécié leur compagnie non plus. Être ignoré la plupart du temps n&#39;était pas votre idée de plaisir.

Vous faites vos adieux en montant dans votre voiture. Vous avez le sentiment que vous quitteriez la maison des Sparks, apparemment pour la première et la dernière fois.

Dans quelques semaines, Kelsie commencera à vous donner des excuses pour ne pas pouvoir vous voir. Bientôt, elle arrête complètement de vous répondre. Vous continuez à jouer ce jour dans votre tête, essayant de trouver où vous vous êtes trompé. Vous ne semblez jamais vous remettre complètement de cette relation ratée. 

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Ghosting »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="154" name="END8_en" tags="Updated END" position="4300,1217" size="100,100">&lt;&lt;set $faded to true&gt;&gt;Some hours later, this whole ordeal comes to a close. You have made it pass the door, you’ve met the parents, and gone through lunch somewhat unscathed. You have a somewhat good feeling about this, seeing Kelsie looking at you with a small smile. You’ve avoided making enough mistakes to leave a positive impression on everyone. After all, no one is perfect. No one can avoid making mistakes anyway.

John and Cora seem happy with how the lunch went and politely hope that they will see you again some time. You bid them all goodbye as you step into your car. You leave the Spark’s family home, hopefully not for the last time.

Your relationship with Kelsie though never seems to be as passionate as it once was. You both get your life set into a routine, with your relationship not being as much of a priority with either of you anymore. You meet the Sparks during some major holidays, as Kelsie stops asking you to go with her in between. It does not seem to bother you that much anyway. 

One day, coming back from work, you notice a letter on your kitchen counter. In it, Kelsie tells you that this relationship was not what she hoped she would be in at this point. She had moved out to go back home, asking you to respect her decision. She hopes the best for you with future partners.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;“Faded away”&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="155" name="END8_frm" tags="translated END" position="4300,1892" size="100,100">&lt;&lt;set $faded to true&gt;&gt;Quelques heures plus tard, cette épreuve touche à sa fin. Vous avez réussi à passer la porte, vous avez rencontré ses parents et vous avez survécu le déjeuner plus ou moins indemne. Vous avez un assez bon pressentiment à ce sujet, en voyant Kelsie vous regarder avec un petit sourire. Vous avez évité de commettre suffisamment d&#39;erreurs pour laisser une impression positive sur tout le monde. Après tout, personne n&#39;est parfait. Personne ne peut éviter de faire des erreurs de toute façon.

John et Cora semblent satisfaits de la façon dont le déjeuner s&#39;est déroulé et espèrent poliment qu&#39;ils vous reverront un jour. Vous leur dites au revoir en montant dans votre voiture. Vous quittez la maison des Spark, espérant pas pour la dernière fois.

Votre relation avec Kelsie ne semble cependant jamais être aussi passionnée qu&#39;auparavant. Vous rentrez tous les deux dans une routine, votre relation n&#39;étant plus autant une priorité avec l&#39;un ou l&#39;autre. Vous rencontrez les Sparks pendant certaines grandes vacances ou occasions, alors que Kelsie cesse de vous demander de l&#39;accompagner entre temps. Cela ne semble pas trop vous déranger de toute façon.

Un jour, en rentrant du travail, vous remarquez une lettre sur le comptoir de votre cuisine. Dans ce document, Kelsie vous dit que cette relation n&#39;était pas ce qu&#39;elle espérait à ce stade. Elle avait déménagé pour rentrer chez elle, vous demandant de respecter sa décision. Elle espère le meilleur pour vous avec vos futurs partenaires.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Estompé »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="156" name="StayF" tags="OK" position="3075,217" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="157" name="Leave" tags="OK" position="3075,492" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="158" name="StayF_en" tags="Updated" position="3100,842" size="100,100">&lt;&lt;set $store to &quot;flower&quot;&gt;&gt;You&#39;ve decided to stay in the flower and make a scene. &lt;&lt;if $shop isnot &quot;flower1&quot;&gt;&gt;You were already refused once today; you won&#39;t be refused to be served again! &lt;&lt;/if&gt;&gt; The employee&#39;s threats don&#39;t scare you. She can call the cops all she wants; you won&#39;t bulge until you get the flowers you wanted. &lt;&lt;if $shop isnot &quot;flower1&quot;&gt;&gt;You couldn&#39;t get cake but you will get those flowers! &lt;&lt;/if&gt;&gt;You can&#39;t stand for this lack of customer service. It should not matter whether you are wearing a skimpy outfit or full on priest attire, people should not treat customer that way.

//“You expect ME to leave EMPTY-HANDED?”// you shout at the woman. //“I don&#39;t care the reason, but you can&#39;t treat people like ME like this. I can wear what I goddamn please and people can&#39;t do anything about it. That&#39;s in the law! I DEMAND you serve me. I WANT SOME GODDAMN FLOWERS!”//

The woman sighs and walks back to the counter. //No, this won&#39;t do…// You grab her shirt, trying to keep her in place. She stiffens.

//“Take your hands off of me.”
“Well, don&#39;t walk away from me when I am talking to you,”// you reply, still holding her.
//“Take. Your. Hands. Off. Of. Me,”// she repeats herself stiffly.
//“I will when you give me some flowers.”//

That response does not satisfy the employee. She turns around swiftly and lands her fist on your arm. You yell in pain and release her. She runs to the back of the counter to hide behind it, gabbing a phone on the way.

//“If you don&#39;t leave, I&#39;ll call the police.”//

You can feel something intense boiling inside of you, a sort of pent-up frustration that had been building up for a while, trying to burst out. You start seeing red.

//“Resulting to threats now? Really? If you can&#39;t handle your customers, you shouldn&#39;t have opened a shop,”// you yell at her.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;You look around you and see multiple buckets filled with flowers in water on the floor and hanging on the wall. You grab one and throws it towards the counter. It flies above it, hits the wall behind it and falls on the employee. She yells in surprised as her clothes soaks the water from the bucket. Her cry only fuels your anger. You pick up another bucket and throw it inside the shop. Flowers fly into the air and spread over the floor.

//“911, what&#39;s your emergency?”// you hear faintly from behind the counter.

Hearing this makes you grind your teeth. How dare she call the cops on you? Sure, she did warn you, but you didn&#39;t think she would do it. People don&#39;t call the cops on their customers. In your rage, you take another bucket and throws it over the counter. You yell obscenities at the counter. Due to the noise coming out of your mouth, you don&#39;t hear anything the employee says to the operator.

You pick up another bucket, to throw again. You see further down the shop a display of vases in a glass shelf. At this point, you just want to see things break around you. You throw the bucket at the display. It hits a green vase in the middle. You hear glass shatter, as the vase breaks. A few seconds later, a cacophony of shattering glass follows. The bucket thrown did not just hit the green vase, but other vases around and part of the shelf frame. The whole display comes crashing down.

There is a long silence after this. You hear some weeping from behind the counter. You wonder if the employee is crying. //Good. That&#39;ll teach you not to serve your customer.// Your body starts to calm down. Weirdly, the longer the weeping goes on, the calmer you get. It&#39;s like your brain feeds on other people&#39;s pain.

//Ting-a-ling.//

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;The shop door opens behind you. You turn around and see a police officer walk in.

//“Ugh! It&#39;s always the naked ones that do the weirdest things... Why did I have to be so close when the call came in?”// whines the police officer after taking a look at you.

You freeze in your spot, another bucket still in your hands. Your brain, recognizing the danger in seeing the officer, tries to sync you back to reality. You&#39;re starting to realize what just happened here. Well, what you happened to have done that is. In the carnage, lying on spilled water, sits a carpet of wasted flowers and broken glass. The employee finally stands up, shivering from the coldness of the water dumped on her and fear. The police office comes closer to you. He takes the bucket from your hands, put it aside and start handcuffing you.

//“Obviously you are under arrest here,”// and continues to tell you your rights. 

He makes you stand aside, making sure you won&#39;t start moving again, before moving on to take care of the shaking employee. She explains to the officer what you had done here, after having refuse to serve you. Hearing your action through someone&#39;s voice gets to you. You start feeling scared when you learn that the shop has surveillance camera and that everything was put on tape. 

The officer asks the employee if she wants to press charges against you. She replies that the owners will probably want to for the damages inside the shop, but they will come to the station later on. She wants to press separate charges against you for what you had done to her.

The officer thanks her and promise to contact her when they will need her deposition. He then comes back to get you and looks at your outfit.

//“Anything of yours on the ground?”//

You shake your head. Everything is still in your belt pouch. The officer grabs your arm and leaves the flower shop. As you leave, you look back inside and see the employee holding herself, crying.

The officer pushes you in the backseat of his car and drives to the station. Your car stays in the parking lot. You realize that you left your phone in there, since it was giving you the direction to Kelsie&#39;s parents. //Oh no… Kelsie…//

[[Continue|Station]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;
</tw-passagedata><tw-passagedata pid="159" name="Leave_en" tags="Updated" position="3100,1117" size="100,100">You leave the shop empty-ended. You get back into your car and think. Maybe you still have time to make an extra stop?

What do you do?
&lt;&lt;if $try isnot &quot;true&quot;&gt;&gt;* [[Try the other store. Maybe you will have better luck this time?|Other][$try to &quot;true&quot;]]
* [[Better not try the other store and go directly to the Sparks&#39;.|Empty]]
&lt;&lt;else&gt;&gt;* &#39;&#39;You already tried the other store.&#39;&#39;
* [[You wasted enough time trying to get a present. It&#39;s about time you go to the Sparks&#39;.|Empty]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="160" name="StayF_frm" tags="translated" position="3100,1517" size="100,100">&lt;&lt;set $store to &quot;flower&quot;&gt;&gt;Vous avez décidé de rester dans la boutique de fleur et de faire une scène. &lt;&lt;if $shop isnot &quot;flower1&quot;&gt;&gt;Vous avez déjà été refusé une fois aujourd&#39;hui ; on ne vous refusera pas d&#39;être servi une fois de plus ! &lt;&lt;/if&gt;&gt;Les menaces de l&#39;employée ne vous font pas peur. Elle peut appeler les flics autant qu&#39;elle veut ; vous ne bougerez pas tant que vous n&#39;aurez pas les fleurs que vous vouliez. &lt;&lt;if $shop isnot &quot;flower1&quot;&gt;&gt;Vous ne pouviez pas obtenir de gâteau mais vous obtiendrez ces fleurs ! &lt;&lt;/if&gt;&gt;Vous ne pouvez pas supporter ce manque de service client. Peu importe que vous portiez une tenue légère ou un habit de prêtre, les gens ne devraient pas traiter les clients de cette façon.

//« Vous vous attendez à ce que JE quitte le magasin les mains VIDES ? »// vous criez à la femme. // « Je me fiche de la raison, mais vous ne pouvez pas traiter les gens comme MOI comme ça. Je peux porter ce qui me plaît et les gens ne peuvent rien y faire. C&#39;est la loi ! JE DEMANDE que vous me serviez. JE VEUX CES FOUTUES FLEURS ! »//

La femme soupire et retourne au comptoir. //Non, ça ne va pas…// Vous attrapez sa chemise, essayant de la maintenir en place. Elle se raidit.

// « Relâche moi tout de suite. »
« Eh, ne t&#39;éloigne pas de moi quand je te parle, »// vous répondez, tenant toujours le tissus de sa chemise.
// « Lâche. Moi. Tout. De. Suite, »// se répète-t-elle avec raideur.
// « Je le ferai quand tu me donneras ces fleurs. »//

Cette réponse ne satisfait pas l&#39;employée. Elle se retourne rapidement et frappe avec son poing sur votre bras. Vous criez de douleur et la relâchez. Elle court jusqu&#39;à l’arrière du comptoir pour s’y cacher, attrapant un téléphone en chemin.

// « Si tu ne pars pas, j&#39;appelle la police. » //

Vous pouvez sentir quelque chose d&#39;intense bouillonner en vous, une sorte de frustration refoulée qui s&#39;accumulait depuis un moment, essayant d&#39;éclater. Vous commencez à voir rouge.

//« Résultant à des menaces hein? Vraiment ? Si vous ne pouvez pas gérer vos clients, vous n&#39;auriez pas dû ouvrir une boutique, »// vous lui criez dessus.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; Vous regardez autour de vous et voyez plusieurs seaux remplis de fleurs au sol et accrochés au mur. Vous en attrapez un et le lancez vers le comptoir. Il vole au-dessus, percute le mur derrière et tombe sur l&#39;employée. Elle crie de surprise alors que ses vêtements s’imbibent de l&#39;eau du seau. Son cri ne fait qu&#39;alimenter votre colère. Vous prenez un autre seau et le jetez à l&#39;intérieur du magasin. Les fleurs volent dans l’air et se répandent sur le sol.

//« 911, quelle est votre urgence ? »// vous entendez faiblement derrière le comptoir.

Entendre cela vous fait grincer des dents. Comment ose-t-elle appeler les flics ? Bien sûr, elle vous a prévenu, mais vous ne pensiez pas qu&#39;elle le ferait. Les gens n&#39;appellent pas les flics sur leurs clients. Dans votre rage, vous prenez un autre seau et le jetez par-dessus le comptoir. Vous criez des obscénités vers le comptoir. En raison du bruit qui sort de votre bouche, vous n&#39;entendez rien de ce que l&#39;employée dit à l&#39;opérateur.

Vous prenez un autre seau, pour le lancer à nouveau. Vous voyez, plus loin dans la boutique, un présentoir de vases dans une étagère en verre. À ce stade, vous voulez juste casser des choses autour de vous. Vous jetez le seau vers l&#39;étalage. Il frappe un vase vert au milieu. Vous entendez des éclats de verre, lorsque le vase se brise. Quelques secondes plus tard, une cacophonie de verre brisé s&#39;ensuit. Le seau lancé n&#39;a pas seulement touché le vase vert, mais d&#39;autres vases autour et une partie du cadre de l&#39;étagère. L&#39;ensemble de l&#39;affichage s&#39;effondre.

Il y a un long silence après cela. Vous entendez des sanglots venant de l’arrière du comptoir. Vous vous demandez si l&#39;employée pleure. //Bien. Cela lui apprendra à ne pas servir ses clients.// Votre corps commence à se calmer. Bizarrement, plus les pleurs durent, plus vous vous calmez. Comme si votre cerveau se nourrissait de la souffrance des autres.

//Ting-a-ling.//

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; La porte du magasin s&#39;ouvre derrière vous. Vous vous retournez et voyez un policier entrer.

// « Ugh ! Ce sont toujours les gens tout nus qui font les choses les plus bizarres... Pourquoi est-ce que j’étais être si près quand l&#39;appel est arrivé ? » // gémit le policier après vous avoir reluqué.

Vous vous figez sur place, un autre seau encore dans vos mains. Votre cerveau, reconnaissant le danger voyant l&#39;officier, essaie de se resynchroniser avec la réalité. Vous commencez à réaliser ce qui vient de se passer ici. Ce que vous avez fait. Dans le carnage, sur le sol mouillé par l&#39;eau que vous avez renversée, se trouve un tapis de fleurs gâchées et de verre brisé. L&#39;employée se lève enfin, frissonnant de peur et à cause de l&#39;eau qui lui ai tombé dessus. Le policier se rapproche de vous. Il enlève le seau de vos mains, le met de côté et commence à vous menotter.

//« Evidement, vous êtes en état d&#39;arrestation ici »,// et continue de vous lire vos droits.

Il vous met à l&#39;écart, s&#39;assurant que vous ne recommencerez pas à bouger, avant de se charger de l&#39;employée qui tremble toujours. Elle explique à l&#39;officier ce que vous aviez fait ici, après qu’elle ait refusé de vous servir. Entendre votre action à travers la voix de quelqu&#39;un d’autre vous atteint plus que vous ne le pensiez. Vous commencez à avoir peur lorsque vous apprenez que le magasin a une caméra de surveillance et que tout a été enregistré.

L&#39;agent demande à l&#39;employée si elle veut porter plainte contre vous. Elle répond que les propriétaires voudront probablement le faire pour réparer les dégâts à l&#39;intérieur du magasin, mais qu&#39;ils viendront au commissariat plus tard. Elle veut par contre porter plainte contre vous pour ce que vous lui avez fait.

L&#39;officier la remercie et promet de la contacter lorsqu&#39;ils auront besoin de sa déposition. Il revient ensuite vous chercher et regarde votre tenue.

//« Quelque chose à vous par terre ? »//

Vous secouez la tête. Tout est encore dans votre banane. L&#39;officier vous saisit par le bras et sort de la boutique. En partant, vous regardez à l&#39;intérieur et voyez l&#39;employée se tenir en train de pleurer.

L&#39;officier vous pousse sur la banquette arrière de sa voiture et se rend à la station. Votre voiture reste sur le parking. Vous vous rendez compte que vous avez laissé votre téléphone là-dedans, car il vous donnait la direction des parents de Kelsie. //Oh non… Kelsie…//

[[Continuer|Station]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="161" name="Leave_frm" tags="translated" position="3100,1792" size="100,100">Vous quittez la boutique les mains vides. Vous remontez dans votre voiture et réfléchissez. Peut-être avez-vous encore le temps de faire un arrêt supplémentaire ?

Que faites-vous ?
&lt;&lt;if $try isnot &quot;true&quot;&gt;&gt;* [[Vous essayez l’autre magasin. Peut-être que vous aurez plus de chance cette fois-ci ? |Other][$try to &quot;true&quot;]]
* [[Vous ne poussez pas d’avantage et oubliez l’autre magasin. Il est peut-être plus prudent d’aller directement chez les Sparks. |Empty]]
&lt;&lt;else&gt;&gt;* &#39;&#39;Vous avez déjà essayé l’autre magasin.&#39;&#39;
* [[Vous avez gâchez assez de temps déjà, voulant acheter un cadeau. Il vaudrait mieux aller directement chez les Sparks. |Empty]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="162" name="END9" tags="END OK" position="3325,217" size="100,100">Police</tw-passagedata><tw-passagedata pid="163" name="END9_en" tags="Updated END" position="3350,842" size="100,100">When you enter your car, you swipe around, to see if everything is there. Nothing is amiss. You still find your phone where you left it his morning. However, the battery is completely drained. So much for that.

You turn on the ignition, hoping with all of your might that this battery won&#39;t die on you either. Thankfully, the car turns on and you are able to get home. On the way, you manage to charge your phone, but avoid turning it on just yet. You are pretty sure that Kelsie is really mad at you, especially since you did not even leave her a message. But you don&#39;t want to face that right now, while driving.

When you get home, you muster all of your courage and turn on your phone. You have many notifications on your phone. Some are from your parents. Some are from Kelsie. You dread more opening the latter than the former.

//&quot;Aah. What a mess.&quot;//

Message List:
* &lt;&lt;linkappend &quot;Message 1&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;//12:15
Hi $name. Lunch is almost ready. What&#39;s your ETA? Love, K.//&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 2&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;//12:45
Hi $name. We&#39;re pretty hungry and the food is getting cold. I guess we will eat lunch without you. Is everything ok? Love, K.//&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 3&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;//12:50
Do you think you can make it for dessert and coffee at least? K.//&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 4&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;//14:00
I guess you are not coming at all. :( //&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 5&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;//16:50
I wish you had given me a heads up at least. Or told me that you&#39;re fine. I&#39;m really worried about you.//&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;You sigh. You’re going to have to face her eventually. You decide however to go through what you have missed today. Your parents are furious that they got a call from the station for bail money, especially after hearing what you had done. You brain flashes back to the shop and the carnage you made out of them. You can’t even hope that it wasn’t filmed, since the employee confirmed that they will forward the surveillance camera tape to the station. You put your hands in your hands and sob. //Where did I go wrong today?//

You are interrupted by your phone, having received a new text from Kelsie.

&lt;div class=&quot;message&quot;&gt;//I&#39;ve tried my best to be patient. 
I even messaged your folks on social media. Turns out they don&#39;t even know I exist?!?!
Also, they told me you were in jail??? Apparently, you made a scene in a &lt;&lt;if $shop is &quot;cake&quot;&gt;&gt;bakery&lt;&lt;else&gt;&gt;flower store&lt;&lt;/if&gt;&gt; this morning and got arrested.
I don&#39;t think I can excuse all of that. Today was a really big deal for me. I don&#39;t like being a secret from people. I don&#39;t need a project to fix as my relationship. Take care. Goodbye $name.//&lt;/div&gt;

You see a notification below her message: //You cannot reply to this user.// You guess she has blocked you.

A few days later, you retail the events to your friends around a couple of drinks. They can&#39;t seem to believe what happened but have a good laugh about it. Saying it out loud, you get that it all does sound too improbable to be true. Still, it&#39;s a fun story when people are drunk.

It becomes a less funny story when snippets of the surveillance footage are shared around the internet. It just looks like those countless other video of people going apeshit on customer service employees for no good reason. Every time you see it pop up, you feel very ashamed of yourself. Lucky for you, your face if blurred in them. However, you know you can never wear that outfit ever again. So, you decide to burn the skimpy outfit. It has brought you too much bad luck anyway.

The business and its employee decided to press charges against you for damages. Thanks to your parents, you end up doing only some community service and pay a hefty fine. You managed to convinced the judge that you were very sorry and ashamed for what had happened. You are also banned from entering the store forever and get into contact with the employees. 

Overtime, when retelling the story, you claim that the story happened to a friend. It is less embarrassing and people don&#39;t avoid you after you tell it. It is quite easy to find that video or articles about the case after all. 

You still don’t know what made you so unhinged when faced with the store’s refusal to serve you that day. It was like something entered your body then and made you go all crazy.

...Or was it just part of you all along?

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;&quot;Temper Tantrum&quot;&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;
&lt;&lt;set $tantrum to true&gt;&gt;

</tw-passagedata><tw-passagedata pid="164" name="END9_frm" tags="translated END" position="3350,1517" size="100,100">Lorsque vous entrez dans votre voiture, vous faites le tour pour voir si tout est là. Rien ne cloche. Vous trouvez toujours votre téléphone là où vous l&#39;avez laissé ce matin. Cependant, la batterie est complètement déchargée. 

Vous mettez le contact en espérant de toutes vos forces que la batterie de la voiture ne mourra pas sur vous non plus. Heureusement, la voiture démarre et vous pouvez rentrer chez vous. En chemin, vous parvenez à recharger votre téléphone, mais évitez de l&#39;allumer tout de suite. Vous êtes presque sûr que Kelsie doit être furieuse contre vous, d&#39;autant plus que vous ne lui avez même pas envoyé de message. Mais vous ne voulez pas faire face à ça tout de suite, surtout en conduisant.

Lorsque vous rentrez chez vous, vous rassemblez tout votre courage et allumez votre téléphone. Vous avez de nombreuses notifications sur votre téléphone. Certaines viennent de vos parents. Certaines viennent de Kelsie. Vous redoutez plus d&#39;ouvrir ce dernier que le premier.

// « Aah. Quel bordel. »//

Message List:
* &lt;&lt;linkappend &quot;Message 1&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;12:15
Hey $name. Le déjeuner est presque prêt. Tu arrives quand ? Je t’aime, K.&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 2&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;12:45
Hey $name. Nous avons assez faim et la nourriture commence à refroidir. Je suppose que nous déjeunerons sans toi. Est-ce que tout va bien ? Je t’aime, K.&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 3&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;12:50
Tu penses que tu arriveras à temps pour le dessert et le café au moins ? K.&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 4&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;14:00
Je suppose que tu ne viendras pas du tout finalement. :/ &lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 5&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;16:50
J&#39;aurais aimé que tu me préviennes au moins. Ou au moins m’avoir dit que tu va bien. Je suis vraiment inquiète pour toi. &lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Vous soupirez. Vous finirez par devoir l&#39;affronter à un moment ou un autre. Vous décidez cependant de lire d’abord ce que vous avez manqué aujourd&#39;hui. Vos parents sont furieux d&#39;avoir reçu un appel de la police pour une caution, surtout après avoir entendu ce que vous aviez fait. Votre esprit passe en revue vos souvenirs du magasin et du carnage que vous en avez fait. Vous ne pouvez même pas espérer que cela n&#39;a pas été filmé, puisque l&#39;employée a confirmé qu&#39;elle transmettrait la bande de la caméra de surveillance à la police. Vous mettez vos mains dans vos mains et sanglotez. //Où ai-je mal tourné aujourd&#39;hui ?//

Vous êtes interrompu par votre téléphone, ayant reçu un nouveau message de Kelsie.

&lt;div class=&quot;message&quot;&gt;//J&#39;ai fait de mon mieux pour être patiente.
J&#39;ai même envoyé un message à tes parents sur les réseaux sociaux. Il s&#39;avère qu&#39;ils ne savent même pas que j&#39;existe ?!?!
Aussi, ils m&#39;ont dit que tu étais en cellule au commissariat ??? Apparemment tu aurais fait une scène &lt;&lt;if $shop is &quot;cake&quot;&gt;&gt;dans une boulangerie&lt;&lt;else&gt;&gt;chez un fleuriste&lt;&lt;/if&gt;&gt; ce matin, et que tu t&#39;es fait arrêter.
Je ne pense pas pouvoir excuser tout ça. Aujourd&#39;hui, c&#39;était vraiment quelque chose d’important pour moi. Je n&#39;aime pas être un secret pour les gens. Je n&#39;ai pas non plus besoin d&#39;un projet à régler. Prends soin de toi. Au revoir $name.//&lt;/div&gt;

Vous voyez une notification sous son message : //Vous ne pouvez pas répondre à cet utilisateur.// Vous supposez qu&#39;elle vous a bloqué.

Quelques jours plus tard, vous détaillez les événements à vos amis autour de quelques verres. Ils n&#39;arrivent pas à croire ce qui s&#39;est passé mais en rigolent bien. En le disant à voix haute, vous comprenez que tout cela semble trop improbable pour être vrai. Pourtant, c&#39;est une histoire amusante quand les gens sont ivres.

Cela devient une histoire moins drôle lorsque des extraits de la vidéo de surveillance sont partagés sur Internet. Cela ressemble à ces innombrables autres vidéos de personnes qui hurlent aux employés dans les magasins sans raison valable. Chaque fois que vous la voyez apparaître, vous avez très honte de vous-même. Heureusement pour vous, votre visage a été flouté. Mais, vous savez que vous ne pourrez plus jamais porter cette tenue. Vous décidez alors de la brûler. Cela vous a porté trop de malchance de toute façon.

L&#39;entreprise et son employée ont décidé de porter plainte contre vous en dommages et intérêts. Grâce à vos parents, vous finissez par ne faire que quelques travaux d&#39;intérêt général et payer une lourde amende. Vous avez réussi à convaincre le juge que vous étiez vraiment désolé et honteux de ce qu’il s&#39;était passé. Il vous est également interdit d&#39;entrer dans le magasin pour toujours ou d&#39;entrer en contact avec les employés.

Au fil du temps, lorsque vous racontez l&#39;histoire, vous prétendez que ces évènements sont arrivés à un ami. C&#39;est moins embarrassant et les gens ne vous évitent pas après que vous l&#39;ayez racontée. Il est assez facile de trouver cette vidéo ou des articles sur l&#39;affaire après tout.

Vous ne savez toujours pas ce qui vous a rendu si déséquilibré face au refus de l’employée du magasin de vous servir ce jour-là. C&#39;était comme si quelque chose était entrée dans votre corps à ce moment-là et vous a rendu fou.

... Ou était-ce juste une partie de vous depuis le début ?

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Caprice »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
&lt;&lt;set $tantrum to true&gt;&gt;</tw-passagedata><tw-passagedata pid="165" name="Other" tags="OK" position="3200,342" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="166" name="Other_en" tags="Updated" position="3225,967" size="100,100">&lt;&lt;if $shop is &quot;flower&quot;&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;Since the flower shop refused to serve you, you hope for a better result at the bakery and get some delicious dessert. You pull over to the door and enter the shop.

The bakery is empty, especially for the time of day. Feeling lucky, you decide that you will take your time to choose what to get. Or maybe just follow the recommendation of the employee, they rarely get it wrong after all.

//“Good morning! How can I help... Oh!”// says the employee at the counter, stopping dead in her tracks after taking a look at you. //“Ew... no. I&#39;m not dealing with this today.”//

You&#39;re taken aback. Why wouldn&#39;t she deal with you? You see her walk to a door behind her, half open it and yells at someone in the back room.

//“Dimitri! There&#39;s another weirdo in the front. You really don&#39;t pay me enough to deal with this shit. Please take care of it. I&#39;m going on a break.”//

She goes back to the counter and takes her apron off. She takes another look at you once more, shakes her head and moves to another room. The door to the backroom opens and a buff Slavic-looking man comes out. With his rolled-up sleeves, you can see some deep scars atop hunky muscles. A knife in his hand, he looks like he could butcher you and not blink an eye. He takes a look at you and sighs.

//“Why you enter shop looking like this?”// he says with a strong Slavic accent, moving up and down his arm, pointing at your outfit. //“Very disrespectful.”// He puts his empty hand to his face and rubs his forehead. //“Dimitri don&#39;t serve you. You. Better leave.”
“But… but the customer is king! You have to serve me!”// You&#39;ve tried that line before, but this time it should work!
//“Or what? You trash my shop? Ah! I want see you try.”
“I just want to get some cake. And you will serve me some!”
“If you don&#39;t leave,”// he starts, stabbing the knife straight on the counter, //“there will be trouble.”//

You swallow with pain.

What do you do?
* [[Stay and face Dimitri. You&#39;ve been refused once already. Not again!|StayB][$shop to &quot;cake2&quot;]]
* [[Back off and leave the shop. Better not try to get into trouble. Not today!|Leave]]

&lt;&lt;else&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;Since the bakery refused to serve you, you hope that the flower shop will let you buy a beautiful bouquet. You remember a while back you had brought Kelsie a bouquet and she really enjoyed it. You had tried your best to pick the flowers and give a meaning to it. Maybe you should do it again?

You pull over to the door and enter the shop. Lucky for you, it seems like the store shelves are full of flowers and many different kinds. You see a woman at the counter, finishing up with a client.

//“What kind of message should I try to make?”// you say under your breath. Most importantly, what kind of flower would convey your message. There are so many flowers representing love, but you don&#39;t love her parents, yet. Which one you tell them that you respect them or happy to meet them?

//“Hello there!”// the employee behind you greets you, making you jump out of surprise. She looks up and down at you and frowns. //“I&#39;m sorry, but I must ask you to leave. We do not serve customers that are not wearing a proper attire.”//

You look confuse at first. As the employee notice, she points at your body. It hits you. She means that your funky outfit is not appropriate here.

//“But isn&#39;t the customer king?”
“Doesn&#39;t matter. We have the right to refuse service.”
“But I really need a bouquet!”
“Please, don&#39;t start to make a scene. I ask you again to leave. If you refuse. I will be calling the authorities.”//

What do you do?
* [[Stay and make a scene. You&#39;ve been refused once already. Not again!|StayF][$shop to &quot;flower2&quot;]]
* [[Back off and leave the shop. Better not involve the police, not with Kelsie waiting for you.|Leave]]
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="167" name="Other_frm" tags="translated" position="3225,1642" size="100,100">&lt;&lt;if $shop is &quot;flower&quot;&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;Comme la fleuriste a refusé de vous servir, vous espérez un meilleur résultat à la boulangerie en obtenant un délicieux dessert. Vous vous garez devant la porte et entrez dans la boutique.

La boulangerie est vide, surtout pour le moment de la journée. Vous sentant chanceux, vous décidez que vous prendrez votre temps pour choisir quoi prendre. Ou peut-être vous suivrez simplement la recommandation de l&#39;employée, qui se trompe rarement après tout.

// « Bonjour ! Comment puis-je vous aider... Oh ! » // dit l&#39;employée au comptoir, s&#39;arrêtant net après vous avoir jeté un coup d&#39;œil. // « Euh... non. Je ne vais pas m&#39;occuper de ça aujourd&#39;hui. »//

Vous êtes pris de court. Pourquoi ne s&#39;occuperait-elle pas de vous ? Vous la voyez se diriger vers une porte derrière elle, l&#39;entrouvrir et crier après quelqu&#39;un dans la pièce du fond.

// « Dimitri ! Il y a un autre cinglé qui est arrivé. Tu ne me paies vraiment pas assez pour gérer cette merde. S&#39;il te plaît occupe-t’en toi. Je pars en pause. »//

Elle retourne vers le comptoir et enlève son tablier. Elle vous regarde à nouveau, secoue la tête et se déplace vers une autre pièce. La porte de l&#39;arrière-boutique s&#39;ouvre et un homme musclé d&#39;apparence slave y en sort. Avec ses manches retroussées, vous pouvez voir des cicatrices profondes sur de ses gros muscles. Un couteau à la main, il a l&#39;air de pouvoir vous massacrer sans cligner des yeux. Il vous regarde et soupire.

// « Pourquoi tu entres dans la boutique, habillé comme ça ? » // dit-il avec un fort accent slave, se déplaçant de haut en bas de son bras, pointant vers votre tenue. // « Très irrespectueux. »// Il porte sa main vide à son visage et se frotte le front. // « Dimitri ne te sert pas. Mieux vaut dégager. »
« Mais… mais le client est roi ! Vous devez me servir ! » // Vous avez déjà essayé cette ligne, mais cette fois, cela devrait fonctionner !
// « Ou quoi ? Tu saccages ma boutique ? Ah ! Je veux voir ça. »
« Je veux juste avoir des gâteaux. Et vous aller m&#39;en servir ! »
« Si tu ne pars pas, »// commence-t-il en poignardant le couteau directement sur le comptoir, // « il y aura des problèmes. »//

Vous avalez avec douleur.

Que faites-vous ?

* [[Restez et affrontez Dimitri. Vous avez déjà été refusé une fois. Pas de nouveau ! |StayB][$shop to &quot;cake2&quot;]]
* [[Reculez et quittez la boutique. Mieux vaut ne pas essayer d&#39;avoir des ennuis. Pas aujourd&#39;hui ! |Leave]]

&lt;&lt;else&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;Comme la boulangerie a refusé de vous servir, vous espérez que le fleuriste vous permettra d&#39;acheter un beau bouquet. Vous vous souvenez il y a quelque temps, vous aviez apporté un bouquet à Kelsie et elle l&#39;avait vraiment apprécié. Vous aviez fait de votre mieux pour choisir ces fleurs et donner un sens au bouquet. Vous pourriez peut-être refaire de même ?

Vous vous garez devant la porte et entrez dans la boutique. Heureusement pour vous, il semble que les étagères des magasins soient pleines de fleurs et de toutes sortes. Vous voyez une femme au comptoir, finissant avec un client.

//« Quel genre de message devrais-je essayer de faire passer ? »// dites-vous à voix basse. Plus important encore, quel type de fleur transmettrait votre message. Il y a tellement de fleurs représentant l&#39;amour, mais vous ne savez pas encore si vous aimez ses parents. Peut-être leur dire que vous les respectez ou que vous êtes heureux de les rencontrer ?

// « Bonjour ! »// l&#39;employée derrière vous vous salue, vous faisant sursauter de surprise. Elle vous regarde de haut en bas et fronce les sourcils. //« Je suis désolé, mais je dois vous demander de partir. Nous ne servons pas les clients qui ne portent pas une tenue correcte. »//

Vous avez l&#39;air confus au début. Comme le remarque l&#39;employée, elle pointe vers votre corps. Cela vous tombe dessus. Elle veut dire que votre tenue funky n&#39;est pas appropriée ici.

//« Mais… le client n&#39;est-il pas roi ? »
« Peu importe. Nous avons le droit de refuser de servir nos clients. »
« Mais j&#39;ai vraiment besoin d&#39;un bouquet ! »
« S&#39;il vous plaît, ne commencez pas à faire une scène. Je vais vous demander à nouveau de partir. Si vous refusez, j’appellerai les autorités. »//

Que faites-vous ?
* [[Restez et faites une scène. Vous avez déjà été refusé une fois. Pas de nouveau ! |StayF][$shop to &quot;flower2&quot;]]
* [[Reculez et quittez la boutique. Mieux vaut ne pas impliquer la police, pas avec Kelsie qui vous attend. |Leave]]
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="168" name="Number" tags="OK" position="3075,617" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="169" name="Number_en" tags="Updated" position="3100,1242" size="100,100">&lt;&lt;if $cheating is 2&gt;&gt;You accept the card with a smile. It’s not everyday someone hits on you. Especially since Kelsie became your girlfriend. It feels good to have your ego boosted once in a while. While taking the card, you notice she wrote down her name.

//“Jessie…”// you murmur.
//“That’s me, handsome. Please promise me you will message me…”//

You look up to her face. She has a certain beauty to it. Not as ethereal like Kelsie, but still very attractive. Especially with her long dark curvy hair and those piercing green eyes. There is something very mysterious about her. You would definitely want to get drinks with her later and get to know her story.

//“I promise I will message you.”
“You should probably put my number in your phone. You never know what can happen. So many pockets with holes, so many places to lose a tiny bit of paper…”//

You are easily persuaded by her, taking your phone out of your pocket. You don’t really see the harm in adding her number to your phone. After all, you did promise that you would text her. //Who knows… If anything, she could become a really good friend,// you tell yourself as you enter her number on the screen. When you are done, you message her directly.

//”Here. Didn’t I fulfil my promise now?”//

Jessie takes her phone out and her face lights up when she sees the notification on the screen. Suddenly, her face changes as she realizes something.

//“Oh wait… aren’t you here to buy something?”
“Some of your time later?”
“Oh you!”// she blushes
//“If it’s still on the table, I would also like some cakes”
“Sure. Any preference?”
“Surprise me!”// you wink at her.

She picks a wide range of small cakes and packs them neatly in a box. She then rings it up and whispers to you:
//“I added some extra, free of charge.”//

You thank her profusely as you pay. You pick up the box and wish her a good day as you leave. When you get to your car, your phone vibrates. You see a message from Jessie. 

It was nice to get some extra cakes from her, but should you still continue to talk to her?
* [[Better respond to her message. It would be rude to ignore her after she was so nice to you.|Text][$cheating +=1]]
* [[Better ignore the message. Nothing good will come down from that.|Text][$cheating -=1]] 
&lt;&lt;elseif $cheating is 1&gt;&gt;You accept the card half-mindedly, putting it in your pocket, hoping that the employee will get off your back. You know that there are types of people that don’t take no for an answer. However gently you can try to turn them down, they will double-down on their action or turn nasty. You’re just here for some cake.

//“I am glad you made the right choice,”// pipes in the employee. //“You should put it in your phone, otherwise you’ll probably lose the card.”
“I will, I promise.”
“Better put it in it now,”// she insists. //”You never know what happens with small pieces of paper. It’s so easy to discard them. So many holes in pants.”
“It will be on my phone… I just don’t have it on me right now. It’s in my car. I’ll do it after I get some cake.”//

The employee pouts a bit. It is definitely not the answer she was looking for. But you are not really lying to her. Your phone is in the car. After a moment, you hear her sigh.

//“Promise?”
“I pinkie-swear!”
“Well, alright… What can I get you?”
“Can you recommend me a nice selection of small cakes?”
“Sure. Any preference in taste? Any dietary restriction?”
“Uhh…”//, you mutter. 

Maybe it was not the best idea to bring dessert without asking Kelsie first. And now, it was too late to ask her. You realize that when the occasion rose, she would usually make and bring the treats. People would avoid doing them on purpose, as hers were clearly superior. It is now also too late to back out and arrive there without anything in hands.

//“No preference in taste. No restriction that I know of. Can you give me a simple selection that is usually liked by most?”
“Suuure... Let&#39;s get you some fruity small tarts. Then a few creamy ones and a few with chocolate.”//

She packs nicely the box with the treats inside. You thank her profusely for her help. She reminds you again about her number as you cross the bakery’s door. 

Her last comment exasperates you. She was already so unprofessional asking you out like this. And then pushing you so much to accept her number. Annoyed by the shown behaviour, you put the desserts in your car and get your phone. You walk to the door of the bakery but you don’t open it, phone visible in hand.  You see the employee’s face light up. You smirk as you take the card out of your pocket. You crumble it and shoot it at the bin next to you. You look again at the employee, shocked by your action. Happy about the reaction, you turn around and go back to your car.

You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.

[[Continue|Arrival][$cheating -=1]] 
&lt;&lt;else&gt;&gt;You are taken aback by the forwardness of the employee. Sure you have been hit on in the past, but it&#39;s not like you have really paid attention to it. Especially since getting together with Kelsie. Usually, people will leave you alone when they realize how uncomfortable you get, or because you keep silent.

//“Err...”// you try to find the right words to reply. //“I&#39;m definitely flattered, but I already have a girlfriend.”
“Well, she can&#39;t be as good as me. Come on, you cutie, just take the card. See how you feel later.”
“I’d rather not. I’m not interested in cheating on my girlfriend.”
“It’s not cheating if nothing happens. And taking the card does not mean you’re going to do anything with it. Here, take it!”
&quot;Listen, I just came here for cakes.”//

The employee pouts and mutter under her breath: //“If that’s what it goes… You’re not that handsome anyway…”// She crumbles the card and throws it aside. She turns back to you, looking as if you had just insulted her.

//“Well? What do you want?”// she barks at you.
//”Can I get a selection of small dessert cakes?”
“What kind?”
“A bit of everything?”
“How much of what kind?”
“Can I just-”
“They can’t even answer simple question, can they?”// she complains, throwing her hands in the air. //“I guess I have to do everything here.”//

She seems to randomly select cakes from the vitrine, without much care when handling them. She packs them in a box and ring them for you. You realize that with the number of cakes in the box, she must have overcharged you.

//“I think you may have made a mistake here…” 
“Don’t tell me how to do my job. Pay or leave!”//

It seems like the sweet persona she had when you entered the shop has completely disappeared. You could try to reason with her and get the correct price for your order. But seeing how she handled the sweet confections when putting them in the box, you don’t really trust her to not alter them even more. You sigh and begrudgingly pay the price on the register. Maybe if you had accepted the card after all, she would have been nicer to you…

She almost throws the box at you and point you to the door. You mutter a //Have a Good day// as you leave. She does not respond.

You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.

[[Continue|Arrival]] 
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="170" name="Number_frm" tags="translated" position="3100,1917" size="100,100">&lt;&lt;if $cheating is 2&gt;&gt;Vous acceptez la carte en souriant. Ce n&#39;est pas tous les jours que quelqu&#39;un vous drague. Surtout depuis que Kelsie est devenue votre petite amie. Ça fait toujours du bien d&#39;avoir son ego boosté de temps en temps. En prenant la carte, vous remarquez qu&#39;elle a écrit son nom.

// « Jessie… »// vous murmurez.
//« C&#39;est moi, beau gosse. S&#39;il te plaît, promets-moi que tu m&#39;enverra un message… »//

Vous regardez son visage. Elle est d’une certaine beauté. Pas aussi élevée que Kelsie, mais quand même très attirante. Surtout avec ses longs cheveux noirs bouclés et ses yeux verts perçants. Il y a quelque chose de très mystérieux chez elle. Vous voudriez certainement prendre un verre avec elle plus tard et apprendre à la connaître.

//« Promis, je t’enverrai un message. »
« Tu devrais probablement mettre mon numéro dans ton téléphone. On ne sait jamais ce qui peut arriver. Autant de poches trouées, autant d&#39;endroits où perdre un tout petit bout de papier… »//

Elle vous convainc facilement, voyant que vous sortez votre téléphone de votre poche. Vous ne voyez pas vraiment de mal à y ajouter son numéro. Après tout, vous avez promis que vous lui enverriez un texto. //Qui sait… Si quoi que ce soit, elle pourrait devenir une très bonne amie,// vous dites-vous en y entrant son numéro. Lorsque vous avez terminé, vous lui envoyez un message directement.

// « Voilà. N&#39;ai-je pas rempli ma promesse ? »//

Jessie sort son téléphone et son visage s&#39;illumine lorsqu&#39;elle voit la notification à l&#39;écran. Soudain, son visage change lorsqu&#39;elle réalise quelque chose.

// « Oh, attends... tu n&#39;es pas là pour acheter quelque chose ? »
« Un peu de ton temps plus tard ? »
« Oh toi ! » // elle rougit
// « Si c&#39;est encore sur la table, je voudrais aussi des gâteaux »
 « Bien sûr. Tu as une certaine préférence ? »
« Surprend-moi ! » // vous lui faites un clin d&#39;œil.

Elle choisit une large gamme de petits gâteaux et les emballe soigneusement dans une boîte. Elle l’encaisse et vous murmure :
// « J&#39;en ai ajouté quelques extras, gratuit. »//

Vous la remerciez abondamment pendant que vous payez. Vous récupérez la boîte et lui souhaitez une bonne journée en partant. Lorsque vous arrivez à votre voiture, votre téléphone vibre. Vous voyez un message de Jessie.

C&#39;était sympa de sa part de vous donner des gâteaux supplémentaires, mais devriez-vous continuer à lui parler ?

* [[Mieux vaut répondre à son message. Il serait impoli de l&#39;ignorer après qu&#39;elle ait été si gentille avec vous. |Text][$cheating +=1]]
* [[Mieux vaut ignorer son message. Rien de bon ne viendra de ça. |Text][$cheating -=1]] 
&lt;&lt;elseif $cheating is 1&gt;&gt;Vous acceptez la carte avec un air distrait, la mettant dans votre poche, espérant que l&#39;employée vous laisse tranquille. Vous savez qu&#39;il y a des types de personnes qui n’acceptent pas non comme réponse. Aussi gentiment que vous puissiez essayer de les refuser, ils doubleront leur action ou deviendront méchants. Et vous êtes juste là pour acheter des gâteaux.

//« Je suis content que tu aies fait le bon choix »,// insiste l&#39;employée. // « Tu devrais mettre mon numéro dans ton téléphone, sinon tu perdras probablement la carte. »
« Je le ferai plus tard, promis. »
« Mieux vaut le mettre dedans maintenant »//, insiste-t-elle encore. // « On ne sait jamais ce qui se passe avec de petits morceaux de papier. C&#39;est si facile de les jeter. Tant de trous dans les pantalons. »
« Et ça y ira bien sur mon téléphone… Je ne l&#39;ai tout simplement pas sur moi pour le moment. C&#39;est dans ma voiture. Je le ferai après avoir acheté des gâteaux. »//

L&#39;employé boude un peu. Ce n&#39;est certainement pas la réponse qu&#39;elle cherchait. Mais vous ne lui mentez pas vraiment. Votre téléphone est dans la voiture. Au bout d&#39;un moment, vous l&#39;entendez soupirer.

// « Tu promets ? »
« Promis ! »
« Eh bien, d&#39;accord… Qu’est-ce que je peux t’arranger ? »
« Tu peux me recommander une belle sélection de petits fours ? »
« Bien sûr. Une préférence de goût ? Une restriction alimentaire ? »
« Euh… » //, murmurez-vous.

Peut-être que ce n&#39;était pas la meilleure idée d&#39;apporter un dessert sans demander à Kelsie d&#39;abord. Et maintenant, il était trop tard pour lui demander. Vous vous rendez compte que lorsque l&#39;occasion se présentait, elle préparait et apportait généralement les friandises. Les gens évitaient de les faire exprès, car les siens étaient clairement supérieurs. Il est maintenant aussi trop tard pour reculer et y arriver sans rien en mains.

// « Pas de préférence de goût. Ou de restriction à ma connaissance. Tu peux me faire une sélection simple qui est aimée généralement à la plupart des gens ? »
« Pas de soucis... Je vais te mettre des petites tartes fruitées. Et quelques crémeux et quelques-uns au chocolat. »//

Elle emballe bien la boîte avec les friandises à l&#39;intérieur. Vous la remerciez abondamment pour son aide. Elle vous rappelle à nouveau son numéro lorsque vous franchissez la porte de la boulangerie.

Son dernier commentaire vous exaspère. Elle était déjà si peu professionnelle vous invitant à sortir avec elle comme ça. Et puis vous pousser tellement à accepter son numéro. Agacé par son comportement, vous mettez les desserts dans votre voiture et récupérez votre téléphone. Vous marchez jusqu&#39;à la porte de la boulangerie mais vous ne l&#39;ouvrez pas, téléphone visible à la main. Vous voyez le visage de l&#39;employé s&#39;illuminer. Vous souriez en sortant la carte de votre poche. Vous l&#39;émiettez et jetez les morceaux dans la poubelle à côté de vous. Vous regardez à nouveau l&#39;employé, choqué par votre action. Heureux de voir cette réaction, vous vous retournez et rentrez de nouveau dans votre voiture.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival][$cheating -=1]] 
&lt;&lt;else&gt;&gt;Vous êtes surpris par l’audace de l&#39;employée. Bien sûr, vous avez été dragué dans le passé, mais ce n&#39;est pas comme si vous y aviez vraiment prêté attention. Surtout depuis que Kelsie est devenue votre petite amie. Habituellement, les gens vous laissent tranquille lorsqu&#39;ils réalisent à quel point vous êtes mal à l&#39;aise ou parce que vous êtes juste très silencieux.

// « Err... »// vous essayez de trouver les bons mots pour répondre. // « Je suis vraiment flatté, mais j&#39;ai déjà une petite amie. »
« Eh bien, elle ne peut pas être aussi bonne que moi. Allez, beau gosse, prends-la. Vois comment tu te sens plus tard. »
« Je ne préfère pas. Je ne suis pas intéressé. Tromper ma petite amie n’est pas quelque chose que je veuille faire. »
« Ce n&#39;est pas tromper s&#39;il ne se passe rien. Et prendre la carte ne veut pas dire que tu vas faire quoi que ce soit. Tiens, prends-la ! »
« Ecoute, je suis juste venu ici pour des gâteaux. »//

L&#39;employée fait la moue et marmonne : //« Si c&#39;est comme ça que ça se passe… T&#39;es pas si beau que ça en fait… »// Elle émiette la carte et la jette de côté. Elle se retourne vers vous, comme si vous veniez de l&#39;insulter.

// « Alors ? Qu&#39;est-ce que tu veux ? » // aboie-t-elle.
// « Est-ce que je peux avoir une sélection de petits gâteaux ? »
« Quel genre ? »
« Un peu de tout ? »
« Combien de quel genre ? »
« Puis-je juste- »
« Il ne peut même pas répondre à une simple question, hein ? » // se plaint-elle en levant les mains en l&#39;air. // « Je suppose que je dois vraiment tout faire ici. »//

Elle semble sélectionner au hasard des gâteaux dans la vitrine, sans trop de précautions lors de leur manipulation. Elle les emballe dans une boîte et les encaisse pour vous. Vous vous rendez compte qu&#39;avec le nombre de gâteaux dans la boîte, elle a dû vous surfacturer.

// « Je pense qu’il a peut-être une erreur ici... »
« Ne me dis pas comment faire mon travail. Paie ou dégage ! »//

Il semble que la douce personnalité qu&#39;elle avait lorsque vous êtes entré dans la boutique a complètement disparu. Vous pouvez essayer de la raisonner et obtenir le prix correct pour votre commande. Mais en voyant comment elle a géré les confiseries en les mettant dans la boîte, vous ne lui faites pas vraiment confiance pour ne pas les écraser encore plus. Vous soupirez et payez à contrecœur le prix sur le registre. Peut-être que si vous aviez accepté la carte après tout, elle aurait été plus gentille avec vous…

Elle vous jette la boîte et vous montre la porte. Vous marmonnez une // Bonne journée // en partant. Elle ne répond pas.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks. 

[[Continuer|Arrival]] 
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="171" name="Empty" tags="OK" position="3200,467" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="172" name="Empty_en" tags="Updated" position="3225,1092" size="100,100">&lt;&lt;if $try is &quot;true&quot;&gt;&gt;You feel very frustrated that both stores refused to serve you. You shake your head. What has become to this country? Where is the freedom? What if someone wants to wear a weird outfit outside? Shouldn&#39;t that be their prerogative? People can be so judgemental.

Still a thought lingers in your head. You start wondering if you did make the correct choice by wearing this. It might be a bit too &quot;out there&quot; for most people. You shrug. It&#39;s too late now to go back and change.

You get back into your car and start driving. You look at the empty seat next to you. So much for trying to get them something. You sigh. You hope that you did not waste too much time faffing around these no-good-stores.

You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.

&lt;&lt;else&gt;&gt;You feel a bit frustrated that the &lt;&lt;if $shop is &quot;cake&quot;&gt;&gt;bakery&lt;&lt;else&gt;&gt;flower store&lt;&lt;/if&gt;&gt; refused to serve you. You shake your head. What has become to this country? Where is the freedom? What if someone wants to wear a weird outfit outside? Shouldn&#39;t that be their prerogative? People can be so judgemental.

Still a thought lingers in your head. You start wondering if you did make the correct choice by wearing this. It might be a bit too &quot;out there&quot; for most people. You shrug. It&#39;s too late now to go back and change.

You get back into your car and start driving. You look at the empty seat next to you. So much for trying to get them something. You sigh. You hope that you did not waste too much time faffing around this no-good-store.

You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.
&lt;&lt;/if&gt;&gt;
[[Continue|Arrival]] 
</tw-passagedata><tw-passagedata pid="173" name="Empty_frm" tags="translated" position="3225,1767" size="100,100">&lt;&lt;if $try is &quot;true&quot;&gt;&gt;Vous vous sentez très frustré que les deux magasins aient refusé de vous servir. Vous secouez la tête. Qu&#39;est devenu ce pays ? Où est la liberté ? Et si quelqu&#39;un veut porter une tenue bizarre à l&#39;extérieur ? Ne devrait-il pas être leur prérogative ? Les gens peuvent être si critiques.

Encore une pensée s&#39;attarde dans votre tête. Vous commencez à vous demander si vous avez fait le bon choix en portant cette tenue. C&#39;est peut-être un peu trop &quot;excentrique&quot; pour la plupart des gens. Vous haussez les épaules. Sauf, qu’il est trop tard maintenant pour revenir en arrière et changer.

Vous remontez dans votre voiture et commencez à conduire. Vous regardez le siège vide à côté de vous. Tous ces efforts pour rien. Vous soupirez. Vous espérez que vous n&#39;avez pas perdu trop de temps à flâner dans ces magasins sans intérêt.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

&lt;&lt;else&gt;&gt;Vous vous sentez un peu frustré que &lt;&lt;if $shop is &quot;cake&quot;&gt;&gt;la boulangerie&lt;&lt;else&gt;&gt;le fleuriste&lt;/if&gt;&gt; ait refusé de vous servir. Vous secouez la tête. Qu&#39;est devenu ce pays ? Où est la liberté ? Et si quelqu&#39;un veut porter une tenue bizarre à l&#39;extérieur ? Cela ne devrait-il pas être leur prérogative ? Les gens peuvent être si critiques.

Encore une pensée s&#39;attarde dans votre tête. Vous commencez à vous demander si vous avez fait le bon choix en portant cette tenue. C&#39;est peut-être un peu trop &quot;excentrique&quot; pour la plupart des gens. Vous haussez les épaules. Sauf, qu’il est trop tard maintenant pour revenir en arrière et changer.

Vous remontez dans votre voiture et commencez à conduire. Vous regardez le siège vide à côté de vous. Tous ces efforts pour rien. Vous soupirez. Vous espérez que vous n&#39;avez pas perdu trop de temps à flâner dans ces magasins sans intérêt.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks. 

&lt;&lt;/if&gt;&gt;
[[Continuer|Arrival]] 
</tw-passagedata><tw-passagedata pid="174" name="END10" tags="END OK" position="4325,692" size="100,100">Cheating</tw-passagedata><tw-passagedata pid="175" name="END10_en" tags="Updated END" position="4300,1342" size="100,100">&lt;&lt;set $cheating to true&gt;&gt;Some hours later, this whole ordeal comes to a close. You have made it pass the door, you’ve met the parents, and gone through lunch. You don’t think you could have made it through without Jessie’s help. She managed to make you keep your cool throughout lunch, especially when it was clear that Kelsie’s parents didn’t really pay attention to you.

As you say your goodbyes to the Sparks, you notice that Kelsie is a bit distant. It seems like she had noticed you spending most of your time on your phone, instead of being present with everyone. She tells you that the two of you need to have a talk later. You know this time it won’t be as nice as when she was inviting you for lunch here. If you trust your gut, you will either get chewed out by Kelsie or she will just break up with your directly.

You step into your car and notice your phone blinking. You know that you don’t want to be home alone right now.  You leave the Sparks’ family home to go to the bar Jessie recommended during your exchanges. Hopefully, she will be there too, to cheer you up.

A few days later, you meet with Kelsie to talk about this whole deal about that lunch. She seems so disappointed in you, for having disrespected everyone like that. You retort that her parents were disrespectful first, making you feel like a complete nuisance of a stranger and ignoring you for the most part. She asks you who could have been so important that you kept texting them throughout the day. You tell her that it was just a friend. She wonders aloud if your friend Jessie really needed you that much more than her during lunch. You freeze. Kelsie mentions that she saw the name on your phone popping up that day, and that your reaction just now confirmed her suspicion. She can’t believe that you would try to cheat on her like that. You try to explain that it was not what she thought and that her comments when you arrived had really affected you then. She does not seem to care anymore or try to understand your point of view. She does not trust a cheater.

You both part bitter at the actions of the other. Jessie gets bored of you after some time, having seen another handsome person entering the bakery.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;[[Try again?|TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//You have found the Ending: &#39;&#39;“Cheating”&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;There are 10 Endings to be found in this game. Will you find them all?
You can find the ones already discovered in the //Ending// tab in the sidebar.
\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingen to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="176" name="END10_frm" tags="translated END" position="4300,2017" size="100,100">&lt;&lt;set $cheating to true&gt;&gt;Quelques heures plus tard, ce calvaire touche enfin à sa fin. Vous avez réussi à passer la porte, vous avez rencontré ses parents et vous avez survécu le déjeuner. Vous ne pensez pas que vous auriez pu vous en sortir sans l&#39;aide de Jessie. Elle a réussi à vous faire garder votre sang-froid tout au long du repas, surtout quand il était clair que les parents de Kelsie ne faisaient pas vraiment attention à vous.

En faisant vos adieux aux Sparks, vous remarquez que Kelsie est un peu distante. Il semble qu&#39;elle ait remarqué que vous passiez le plus clair de votre temps sur votre téléphone, au lieu d&#39;être présent avec tout le monde. Elle vous dit que vous devez avoir une conversation plus tard. Vous savez que cette fois, ce ne sera pas aussi agréable que la dernière fois. Si vous faites confiance à votre instinct, soit elle va vous passer un savon, soit elle va vous larguer.

Vous montez dans votre voiture et remarquez que votre téléphone clignote. Vous savez que vous ne voulez pas être seul à la maison en ce moment. Vous quittez la maison des Sparks pour vous rendre au bar que Jessie vous a recommandé lors de vos échanges. Vous espérez qu&#39;elle y sera là aussi, pour vous remonter le moral.

Quelques jours plus tard, vous rencontrez Kelsie pour discuter de ce désastreux déjeuner. Elle semble tellement déçue de vous, d&#39;avoir manqué de respect à tout le monde comme ça. Vous rétorquez que ses parents ont d&#39;abord été irrespectueux envers vous, vous faisant sentir comme une nuisance et vous ignorant pour la plupart du temps. Elle vous demande qui aurait pu être si important que vous ayez continué à leur envoyer des messages tout au long de la journée. Vous lui dites que c&#39;était juste un ami. Elle se demande à haute voix si votre amie Jessie avait vraiment plus besoin de vous qu&#39;elle pendant le déjeuner. Vous vous figez. Kelsie mentionne qu&#39;elle a vu son nom sur votre téléphone apparaître ce jour-là et que votre réaction vient de confirmer ses soupçons. Elle ne peut pas croire que vous l’aviez trompée comme ça. Vous essayez d&#39;expliquer que ce n&#39;était pas ce qu&#39;elle pensait et que ses commentaires à votre arrivée vous avaient vraiment affecté. Elle ne semble plus s&#39;en soucier ou essayer de comprendre votre point de vue. Elle ne fait pas confiance à un trompeur.

Vous êtes tous les deux amers face aux actions de l&#39;autre. Jessie s&#39;ennuie de toi après un certain temps, après avoir vu une autre belle personne entrer la boulangerie.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Infidélité »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="177" name="Text" tags="OK" position="3200,592" size="100,100"></tw-passagedata><tw-passagedata pid="178" name="Text_en" tags="Updated" position="3225,1242" size="100,100">&lt;&lt;if $cheating is 3&gt;&gt;You decide that you should reply to Jessie’s message. After all, it would be rude to ignore her when she clearly went out of her way to be friendly with you. Not only that, but she graciously offered you extra sweets on top of it. Kelsie does not need to know about this. You open her message.

&lt;div class=&quot;message&quot;&gt;Heyyy stranger. Just realized. I never asked for your name. And you didn’t give it to me when you sent me that message earlier. Right now, I just have you under //Cutie//. Jessie &lt;/div&gt;

You chuckle a bit as you read her message and think of a good retort. You end up telling her that you didn’t mind being on her phone under //Cutie//, because let’s be honest, you really are one. You like having a mysterious identity after all.

With your ego all boosted up, you start your car and drive off. You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.

[[Continue|Arrival]] 
&lt;&lt;else&gt;&gt;You decide that replying to her message would be a mistake. It was fun and all to banter like this with someone, and get free cake out of it. But if Kelsie finds out, you will be in deep trouble. You end up deleting directly Jessie’s message and blocking her number. It’s always good to erase your tracks.

You start your car and drive off. You continue on your journey without any trouble and soon arrive at the Sparks&#39; family home.
 
[Continue|Arrival]] 
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="179" name="Text_frm" tags="translated" position="3225,1917" size="100,100">&lt;&lt;if $cheating is 3&gt;&gt; Vous décidez de répondre au message de Jessie. Après tout, il serait impoli de l&#39;ignorer alors qu&#39;elle a clairement fait tout son possible pour être sympa avec vous. Non seulement cela, mais elle vous a gracieusement offert des sucreries supplémentaires. Kelsie n&#39;a pas besoin de savoir ce qu’il s’est passé. Vous ouvrez son message.

&lt;div class=&quot;message&quot;&gt; Heyyy toi. Je viens de réaliser. Je ne t&#39;ai jamais demandé ton nom. Et tu ne me l&#39;as pas donné quand tu m&#39;as envoyé ce message plus tôt. En ce moment, je t&#39;ai juste sous //Cutie//. Jessie &lt;/div&gt;

Vous rigolez un peu en lisant son message et pensez à une bonne riposte. Vous finissez par lui dire que cela ne vous dérange pas d&#39;être sur son téléphone sous le nom //Cutie//, car pour être honnête, vous en êtes vraiment un. Vous aimez avoir une identité mystérieuse après tout.

Avec votre ego tout boosté, vous démarrez votre voiture et partez. Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival]] 
&lt;&lt;else&gt;&gt; Vous décidez que répondre à son message serait une erreur. C&#39;était amusant de plaisanter comme ça avec quelqu&#39;un et d&#39;en tirer un gâteau gratuit. Mais si Kelsie le découvre, vous aurez de gros ennuis. Vous finissez par supprimer directement le message de Jessie et bloquer son numéro. Il est toujours bon d&#39;effacer ses traces.

Vous démarrez votre voiture et partez. Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.
 
[Continuer|Arrival]] 
&lt;&lt;/if&gt;&gt;

</tw-passagedata><tw-passagedata pid="180" name="Station" tags="OK" position="3200,217" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="181" name="Station_en" tags="Updated" position="3225,842" size="100,100">Many hours have passed since you come into the station. When you arrived, they took down your name, address and the phone number for a contact person. Without thinking, you give the houseline of your parents. They ask you to give them your keys and wallet, before pushing you in a cell.

Shortly after they put you in there, a request was made for officer backup. There was a rush in the station, with most officer leaving it, including the one who brought you in. There was not much talk of what was happening. You tried a few times to get the attention of the few officers that stayed behind, but they kept ignoring you. 

You resolved yourself to stay lay down on the bench and wait for time to pass. You try to play back the series of event that led you here, instead of having lunch at the Spark&#39;s. //Shit!// Kelsie is going to be pissed at you. You try your best to not think about it. There is not much you can do now. After some time, you start to fall asleep.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;
//“Hey! The nudist. You&#39;re free to go,”// an officer barks at you, while opening the cell door.

You roll your eyes. You are clearly not a nudist. There is cloth on you, material covering parts that shouldn’t be out in the open. Sure, there is not much to cover, but it&#39;s still there nonetheless. You get up from the bench and leave the cell. The officer hands you a Ziploc bag with your stuff.

//“I was picked up by an officer at the &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;bakery&lt;&lt;else&gt;&gt;flower store&lt;&lt;/if&gt;&gt;. Is my car still there?”
“Probably,”// shrugs the officer.
//“Can I get a ride there?”
“Not my case. Ask the front desk.”//

You walk towards the front of the station. At the front desk sits an old man, half asleep. There is a bell on the counter. You wave your hand in front of the old man&#39;s eyes. No responses. You ring the bell. Still no responses. You keep ringing it until the man moves. After a few times, you hear him grumble.

//“I&#39;m awake, I&#39;m awake. I wasn&#39;t sleeping, chief!”// Then, after looking up to you: //“Oh, the young naked fellow from this morning. Still here? Huh, weird. What can I do for ya?”
“I need a ride to the &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;bakery&lt;&lt;else&gt;&gt;flower store&lt;&lt;/if&gt;&gt;. My car is still there... I think.”
“Well, usually, we pick it up for you. and leave it at the pound next door. Can you give me your name?”
“$name Smith.”
“Hmm. Let&#39;s see.”// He types something on the keyboard and looks intensely at the computer screen. He starts squinting, confused. //“Weird... There&#39;s nothing. Your car must really be at that &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;bakery&lt;&lt;else&gt;&gt;flower store&lt;&lt;/if&gt;&gt;, like you said.”// 

He takes a look around the station. It&#39;s still empty. Whatever emergency there was earlier is still ongoing.

//“Ah! No one is here. That explains it. Hold on a sec.”// He takes his walkie-talkie up to his face. //“Andrew, you there? ... It&#39;s George at the front desk. There&#39;s a youngin’ that needs a ride to L-street. Can you take them there? ... Thank you!”// He turns back to you. //“Andrew will be with you in a bit. Why don&#39;t you take a seat? I&#39;ll get you a blanket to cover yourself.”//

George gets up and goes to a backroom. He soon comes back with a smile, holding a thick grey blanket in his hands. He hands it to you.

//“It&#39;d be real nice if you brought it back. When you have more clothes on your back, that is.”//

You wrap it around yourself. It is coarse but warm. It is not really comfortable, but it makes you feel a bit better.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;A tall fellow walks into the room. He greets George and they chat for a bit. George then points at you and the man nods at him.

//“Hey kid! Andrew&#39;s here to take you.”//

Andrew motions at you to follow him outside. You notice that the sun has already set, but there is still some light out. You must have spent the whole afternoon in there. You leave the station and heads into Andrew&#39;s car. The drive to the &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;bakery&lt;&lt;else&gt;&gt;flower store&lt;&lt;/if&gt;&gt; is quite short. The shop where you made a commotion is now closed. You sigh. You probably won&#39;t ever be able to enter it ever again. Goodbye &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;wonderfully tasty cakes&lt;&lt;else&gt;&gt;beautiful soft flowers&lt;&lt;/if&gt;&gt;!

You thank Andrew for the ride and hop into your car to drive home.

[[Continue|END9]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;
</tw-passagedata><tw-passagedata pid="182" name="Station_frm" tags="translated" position="3225,1517" size="100,100">De nombreuses heures se sont écoulées depuis que vous êtes entré dans le commissariat. À votre arrivée, les policiers ont noté votre nom, votre adresse et le numéro de téléphone d&#39;une personne de contact. Sans réfléchir, vous donnez le numéro maison de vos parents. Ils vous demandent de leur donner vos clés et votre portefeuille, avant de vous pousser dans une cellule.

Peu de temps après qu&#39;ils vous y ont mis, une demande de renfort a été faite. Il y avait une ruée dans la station, la plupart des agents la quittant, y compris celui qui vous avait amené. On ne parlait pas beaucoup de ce qui se passait. Vous avez essayé plusieurs fois d&#39;attirer l&#39;attention des quelques officiers qui sont restés, mais ils ont continué à vous ignorer.

Vous vous êtes résolu à rester allongé sur le banc et à attendre que le temps passe. Vous essayez de rejouer la série d&#39;événements qui vous ont conduit ici, au lieu de déjeuner chez les Sparks. //Merde !// Kelsie va être furieuse envers vous. Vous faites de votre mieux pour ne pas y penser. Vous ne pouvez pas faire grand-chose maintenant de toute manière. Après un certain temps, vous commencez à vous endormir.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;
//&quot;Hey! Le nudiste. Vous êtes libre,» // un officier vous aboie en ouvrant la porte de la cellule.

Vous roulez des yeux. Vous n&#39;êtes clairement pas un nudiste. Il y a du tissu sur vous, du matériel couvrant des parties qui ne devraient pas être à l&#39;air libre. Bien sûr, il n&#39;y a pas grand-chose à couvrir, mais c&#39;est quand même là. Vous vous levez du banc et quittez la cellule. L&#39;agent vous remet un sac en plastique avec vos affaires.

//« J&#39;ai été récupéré par un agent &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;à la boulangerie&lt;&lt;else&gt;&gt;chez le fleuriste &lt;&lt;/if&gt;&gt;. Est-ce que ma voiture est toujours là ?
« Probablement, » // l&#39;officier hausse les épaules.
//« Est-ce qu’on peut me déposer là-bas ? »
« T&#39;es pas mon cas. Demande à la réception. »//

Vous vous dirigez vers l’accueil de la station. A la réception est assis un vieil homme à moitié endormi. Il y a une cloche sur le comptoir. Vous passez votre main devant les yeux du vieil homme. Pas de réponse. Vous sonnez la cloche. Toujours pas de réponses. Vous continuez à sonner jusqu&#39;à ce que l&#39;homme bouge. Après quelques instants, vous l&#39;entendez grogner.

//« Je suis réveillé, je suis réveillé. Je ne dormais pas, chef ! » // Puis, après vous avoir levé les yeux : // « Oh, le jeune homme nu de ce matin. Toujours là, hein ? Que puis-je faire pour toi ? »
« J’ai besoin qu’on m’ammène &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;à la boulangerie&lt;&lt;else&gt;&gt;chez le fleuriste&lt;&lt;/if&gt;&gt;. Ma voiture est encore garée là bas… Je crois. »
« Eh bien, généralement, nous les récupérons et les laissons à la fourrière d&#39;à côté. Peux-tu me donner ton nom ? »
« $name Smith. »
« Hmm. Voyons voir. » // Il tape quelque chose sur le clavier et regarde intensément l&#39;écran de l&#39;ordinateur. Il commence à plisser les yeux, confus. //« Bizarre... Il n&#39;y a rien. Ta voiture doit vraiment être encore devant &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;cette boulangerie&lt;&lt;else&gt;&gt;ce fleuriste&lt;&lt;/if&gt;&gt;, comme tu l’as dit. »// 

Il fait le tour de la station. Eslle est encore vide. Quelle que soit l&#39;urgence annoncée auparavant, elle doit être toujours en cours.

//« Ah ! Il n&#39;y a personne. Ceci explique cela. Attends une seconde. » // Il porte son talkie-walkie à son visage. //« Andrew, tu es là ? ... C&#39;est George à la réception. Il y a un jeunôt qui a besoin d&#39;être conduit jusqu&#39;à L-street. Tu peux l’emmener ? ... Merci ! » // Il se retourne vers vous. //« Andrew sera avec toi dans un instant. Pourquoi tu t’asseyerais pas ? Je vais aller te chercher une couverture pour te couvrir. »//

George se lève et va dans une arrière-salle. Il revient bientôt avec un sourire, tenant une épaisse couverture grise dans ses mains. Il vous la remet.

//« Ce serait vraiment sympa si tu la ramenais. Quand tu auras plus de vêtements sur le dos, eh. »//

Vous l&#39;enroulez autour de vous. C&#39;est grossier mais chaud. Ce n&#39;est pas vraiment confortable, mais cela vous fait vous sentir un peu mieux.

&lt;&lt;Linkreplace &quot;Continuer&quot;&gt;&gt;Un grand mec entre dans la pièce. Il salue George et ils discutent un peu. George vous montre alors du doigt et l&#39;homme lui fait un signe de tête.

//« Hé gamin ! Andrew est là pour t’emmener. »//

Andrew vous fait signe de le suivre dehors. Vous remarquez que le soleil s&#39;est presque couché, mais il reste encore de la lumière. Vous avez dû y passer tout l&#39;après-midi. Vous quittez la station et vous vous dirigez vers la voiture d&#39;Andrew. Le trajet jusqu&#39;&lt;&lt;if $store is &quot;cake&quot;&gt;&gt;à la boulangerie &lt;&lt;else&gt;&gt;au fleuriste &lt;/if&gt;&gt;est assez court. La boutique où vous avez fait du tapage est désormais fermée. Vous soupirez. Vous ne pourrez probablement plus jamais y entrer. Au revoir &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;gâteaux merveilleusement savoureux&lt;&lt;else&gt;&gt;belles fleurs douces&lt;/if&gt;&gt; !

Vous remerciez Andrew pour la conduite et montez dans votre voiture pour rentrer à la maison.

[[Continuer|END9]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;

</tw-passagedata><tw-passagedata pid="183" name="StayB" tags="OK" position="3075,342" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="184" name="StayB_en" tags="Updated" position="3100,967" size="100,100">&lt;&lt;set $store to &quot;cake&quot;&gt;&gt;You&#39;ve decided to stay in the bakery and face this Dimitri-person. His threats don&#39;t scare you. &lt;&lt;if $shop isnot &quot;cake1&quot;&gt;&gt;You&#39;ve had enough with shops that refuse you. &lt;&lt;/if&gt;&gt;You can&#39;t stand for this lack of customer service. It should not matter whether you are wearing a skimpy outfit or full on priest attire, people should not treat customer that way.

//“You expect ME to leave EMPTY-HANDED?”// you shout at the Slavic man. //“I don&#39;t care the reason, but you can&#39;t treat people like ME like this. I can wear what I goddamn please and people can&#39;t do anything about it. That&#39;s in the law! I DEMAND you serve me. I WANT SOME GODDAMN CAKES!”//

The man sighs, already exhausted by your antics. He seems to know what is coming and to have seen that kind of thing before. 
//“Listen there, I came out because she is not good at work,”// he says nodding at the door, where the other employee went to take her break. //“I don&#39;t have time for your baby tantrum. I have to finish order for football mom now. Leave.”
“Resulting to insults? Wow! That is really mature of you! How dare you call me a baby? You want to see a baby here? I&#39;ll show you baby. Just fucking give me the cake.”
“Please, don-”// 

But it&#39;s already too late. You grab some croissant from the counter and throws them at the man. He raises his arm in front of his face to protect himself. You start waving your arms around like those inflated tube man at the car dealership. Anything in their way are pushed aside. Menus fall on the floor. Napkins are flying into the air. You continue to grab things around you to throw either at Dimitri or just around the shop. 

//“Go ahead big man, come at me!”// you shout, taunting the Slavic man. //“Do your worst.”//

You don&#39;t know how you could even take him on in a fight, but an intense build-up of frustration inside of you is just waiting to come out.  The man goes around the counter to get to you. Like a child, you run away to the other side of the counter.

//“Ha! Too slow. You can&#39;t get to me you big boy.”//

Dimitri growls. You then realize you are standing in front of the glass vitrine, where they keep their cake. A wild idea crosses your mind. You hover the cakes with your hand.

//“Come on! Don&#39;t do it. Not hygienic.”// pleads Dimitri. //“If you calm down, I give you cake. OK? That&#39;s what you want, no? Tasty cakes.”//

You pause for a second. //Is he admitting defeat? So early?// You head does not seem to be in the right place anymore. It seems like you have completely forgotten about getting cakes and lunch with Kelsie. Only one thought stays into your mind, repeating itself louder and louder. //Do it.// Dimitri continues to plead with you, to try to move away from the baked goods. //Do it. Do it.// You have a wicked smile on your face and refuse to follow his request. 

//DO IT.//

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;Your hand lands into the cake it had been hovering with a wet //spluirt// noise. Everything in the bakery stands still for a just a moment. You see Dimitri&#39;s face turn from pleading into horrified. 

//Again,// says the voice in your head. You follow the command, as if being puppeteered by something foul inside of you. Your hands lifts from the cake you just destroyed and moves on to the next one. Dimitri falls unto his knees and pleads you to stop.

//Again!// You hand smash another one. Tears fall down Dimitri&#39;s cheeks as he feels the hours spent on baking these wasted away for your sickening pleasure. //AGAIN!// And another one. You hear Dimitri mumble //&quot;No. no. no...&quot;// still crying. You look completely unhinged, drunk on some kind of power over the sobbing buff man. 

You soon get bored of smashing Dimitri&#39;s precious cakes. After doing it once, it starts losing its appeal. You move on to destroying another part of the bakery. Whatever you do, you brain seem completely powerless to stop you. At some point, you grab onto the register for some reason, trying to move it out. This is when you hear the doorbell ring, as the door is pushed open.

//“Hey! I need you to step away from the register and put your hands in the air.”// you hear an authoritative voice say.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;You look at where the voice comes from and see a police officer, pointing his firearm at you. Instinctively, you follow the command. You come to the realization that something wrong the happened here. You finally see the carnage you have brought to the bakery. The police officer comes closer to you and start handcuffing you.

//“Obviously you are under arrest here,”// and continues to tell you your rights. 

He makes you stand aside, making sure you won&#39;t start moving again, before moving on to take care of Dimitri still sobbing in front of the vitrine. The employee comes out of the side room and talks to the police officer. She had called the station while you started going crazy. She explains to the officer that usually Dimitri&#39;s physique and intimidating demeanour stopped unruly customers from going crazy; but the baker was just a softy at heart and wanted nothing but make people happy with his confections. 

The officer asks Dimitri if he wants to press charges against you, but the Slavic man, still in shock, does not reply. The employee answers the officer and promise to bring Dimitri to the station when he feels ready. She will also bring the roll of the security tapes at the same time. The officer thanks her and comes back to get you. He takes a look at you and huffs.

//“It&#39;s always the ones without clothes that always do the weirdest things. Anything of yours here?”//

You shake your head, everything is still in your belt pouch. The officer grabs your arm and leaves the bakery. As you leave, you look back inside and see the employee trying to comfort Dimitri, still sobbing in front of his pastries. 

The officer pushes you in the backseat of his car and drives to the station. Your car stays in the parking lot. You realize that you left your phone in there, since it was giving you the direction to Kelsie&#39;s parents. //Oh no… Kelsie…//

[[Continue|Station]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="185" name="TitleCard_frf" tags="Done" position="700,2392" size="100,100">&lt;center&gt;&lt;img src=&quot;img/Title Card.png&quot;/&gt;&lt;/center&gt;

Chaque relation passe par des étapes similaires. Premier rendez-vous. Premier baiser. Première nuit chez l’un ou l’autre. Célébration du premier mois ensemble. Premier voyage. Première dispute. Rencontre de ses amis. Et beaucoup, beaucoup d&#39;autres. Il y en a cependant une étape que tous redoutent : rencontrer les parents de leur partenaire.

Lorsque vous rencontrez Kelsie Sparks, une brillante étudiante en cuisine gastronomique, un soir dans un bar, quelque chose d&#39;intense a commencé à brûler en vous. Vous saviez à partir de ce moment que vous ne pouviez pas la laisser partir. Après 6 mois dans cette relation excitante et heureuse, Kelsie, maintenant votre petite amie, veut enfin franchir une nouvelle étape avec vous. Vous allez être invitée à déjeuner avec sa famille.

Parviendrez-vous à impressionner Kelsie et conquérir ses parents ? Ou allez-vous vous ridiculiser ?

L&#39;avenir de votre relation avec Kelsie dépendra de vos choix tout au long de cette histoire.


&lt;div align=&#39;center&#39; style=&#39;font-size: 150%&#39;&gt;[[Démarrer|Intro1]]&lt;/div&gt;&lt;hr&gt;
&lt;div style=&#39;font-size: 75%;&#39;&gt;Ce projet a été réalisé avec Twine. Toute partie exécutée sur ce programme est enregistrée dans votre navigateur Web. Si vous avez utilisé la fonction de sauvegarde dans le menu et que vous avez supprimé les cookies de votre navigateur, &#39;&#39;vos sauvegardes seront supprimées !&#39;&#39; Vous pouvez plutôt utiliser l&#39;option //Exporter// dans le menu, pour vous éviter ce problème.

Les caractéristiques du protagoniste, y compris son sexe, relèvent de l&#39;imagination du lecteur. Pour faciliter la lecture, vous avez la possibilité de lire cette histoire en version masculine (Français M) ou féminine (Français F). Vous pouvez choisir la fonction voulue dans les paramètres.

Merci d&#39;avoir joué à ce jeu ! Si vous l&#39;avez apprécié, pensez à laisser un commentaire et à le noter.&lt;/div&gt;
&lt;&lt;resetgame&gt;&gt;</tw-passagedata><tw-passagedata pid="186" name="Puzzled2" tags="OK" position="3700,442" size="100,100"></tw-passagedata><tw-passagedata pid="187" name="Puzzled2_en" tags="Updated" position="3725,1092" size="100,100">&lt;&lt;if $cheating gt 4&gt;&gt;Kelsie seems to be deep in her thought. You are pretty sure that she would not notice it if you checked your phone. You sneakily put your hand in your pocket to retrieve your phone, and check it behind your leg. Jessie did text you. You smirk at her message. //The little minx.// You start texting her back when you get interrupted by Kelsie.

//“Everything ok $name?”
“Uh? Oh yeah. Just a friend wanting to meet. I’m just telling them I’m busy.”
“Uh-huh. Anyway… Back to your suit. I think if you take this neck piece off, open a few buttons and leave the jacket at the door...”// she explains, handling you as if you were a mannequin. //“You will start to look like a normal human being. There.”// 

She takes a few steps back, looks at you up and down again; and feeling satisfied, she smiles at you. You quickly get back to your phone to finish your message to Jessie and press send.&lt;&lt;if $present gt 0&gt;&gt;

Kelsie looks at what you are holding in your other hand.&lt;&lt;/if&gt;&gt; &lt;&lt;if $present is 2&gt;&gt;Looking at the bouquet, her smile grows. However, she does not peep a word about it.&lt;&lt;if $present is 1&gt;&gt;Looking at the box of sweets, a sullen look falls on her face. However, she does not peep a word about it.&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

She takes your arm and bring you further into the house.

//“Come on, $name. Let&#39;s meet everyone. For real this time.”//


&lt;&lt;else&gt;&gt;You ignore your phone buzzing and try to think again on how to help Kelsie, in vain.

//“I think if you take this neck piece off, open a few buttons and leave the jacket at the door...”// she explains, handling you as if you were a mannequin. //“You will start to look like a normal human being. There.”//

She takes a few steps back, looks at you up and down again; and feeling satisfied, she smiles at you.&lt;&lt;if $present gt 0&gt;&gt;

She looks at what you are holding.&lt;&lt;/if&gt;&gt; &lt;&lt;if $present is 2&gt;&gt;Looking at the bouquet, her smile grows. However, she does not peep a word about it.&lt;&lt;if $present is 1&gt;&gt;Looking at the box of sweets, a sullen look falls on her face. However, she does not peep a word about it.&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

She takes your arm and bring you further into the house.

//“Come on, $name. Let&#39;s meet everyone. For real this time.”//&lt;&lt;/if&gt;&gt;

[[Continue|Handshake]] 
</tw-passagedata><tw-passagedata pid="188" name="Sweet2" tags="OK" position="4150,567" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="189" name="Sweet2_en" tags="Updated" position="4175,1217" size="100,100">&lt;&lt;if $cheating is 5&gt;&gt;You excuse yourself to the bathroom. You just want to check your phone right now and talk to someone about these negative feelings you have right now. Kelsie seems a bit like a stranger to you right now. You keep thinking why Kelsie had not told you these important things before.

As soon as you are alone, you check your phone. Jessie did message you. By just seeing her name on the screen, you already start to feel a bit better. You know that at least you have someone in your corner. You exchange a few messages with her, recounting your arrival at the Sparks, how Kelsie criticized your outfit, how she made a fool of yourself by not telling you to not bring cakes, how everything seems a bit awkward now. You can feel Jessie’s compassion through her responses. She reminds you that she is here for you and that she would still be free to meet after all of this, to talk, if you are still up for it then. 

You realize that you’ve already spent a few minutes in the bathroom already. It might be best if you re-joined the party by now, otherwise everyone will start to get worried about you. Part of you knows that you can handle the rest of the day, the rest just wants to disengage already and go home. Just this was humiliating enough.

You take a few deep breath and retrace your steps to the veranda.
[[Continue|Tally][$cheating +=1]]

&lt;&lt;else&gt;&gt;You ignore your phone. Whomever messaged you can wait. Even though you want to talk to someone about these negative feelings you have right now. Kelsie seems a bit like a stranger to you right now. You keep thinking why Kelsie had not told you these important things before. And what about her criticizing your outfit when you came in? Nothing was wrong with it. Maybe it would be good to talk about this with Kelsie later.

You try to keep everything in and move on. There is still time to recover from this mistake. Lunch has not even started. Things can always turn around. Like her dad said, your cakes will probably be served with coffee later. Maybe they will like them.

[[Continue|Tally]]
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="190" name="Endings_frf" tags="done" position="275,717" size="100,100">&lt;&lt;if def $nomeeting and $conspiracy and $tantrum and $endtime and $endoutfit and $endshake and $cheating and $ghosting and $faded and $fairytale&gt;&gt;&lt;img src=&quot;img/ach.png&quot;&gt; Félicitations ! Vous avez trouvé toutes les fins possibles !

&lt;&lt;/if&gt;&gt;&#39;&#39;Fin 1:&#39;&#39; &lt;&lt;if $nomeeting is true&gt;&gt;&#39;&#39;« Pas d&#39;Invitation »&#39;&#39;
Quelque chose dans la façon dont Kelsie vous a complimentée vous a agacée et vous ne vous êtes pas retenue. Plutôt que de célébrer cet anniversaire avec elle, vous l&#39;avez réprimandée pour son choix de mots.
Vous avez même fini par partir avant qu&#39;elle ne puisse vous dire la raison pour laquelle elle voulait vous parler. Vous n&#39;avez jamais reçu ladite invitation à rencontrer ses parents.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 2:&#39;&#39; &lt;&lt;if $conspiracy is true&gt;&gt;&#39;&#39;« Conspirations… Conspirations partout »&#39;&#39;
Le dîner avait été agréable jusqu&#39;à ce que Kelsie vous propose un choix impossible, voulant que vous rencontriez ses parents. Voyant à travers ses &quot;duperies&quot;, vous l&#39;avez humiliée pour ses actions et ses manigances. Évidemment, cela n&#39;a pas plu à Kelsie, qui vous a expulsée de son appartement, et par conséquent de sa vie. &lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 3:&#39;&#39; &lt;&lt;if $tantrum is true&gt;&gt;&#39;&#39;« Caprice »&#39;&#39;
Après s&#39;être vue refuser service &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;à la boulangerie&lt;&lt;else&gt;&gt;chez le fleuriste&lt;&lt;/if&gt;&gt;, quelque chose de mauvais a commencé à manipuler votre corps comme une marionnette. Cela finit par saccager la boutique et votre relation avec Kelsie. Au lieu de vous rendre chez les Sparks, vous vous êtes retrouvée au poste de police.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 4:&#39;&#39; &lt;&lt;if $endtime is true&gt;&gt;&#39;&#39;« Le temps n&#39;est qu&#39;une construction sociétale »&#39;&#39;
En sous-estimant le temps dont vous aviez besoin pour arriver à temps chez les Sparks, vous finissez par ridiculiser non seulement vous-même mais aussi Kelsie. Vous arrivez si tard qu&#39;ils avaient déjà commencé à déjeuner sans vous. Après une dispute contre votre égard, Kelsie ne vous donne même pas la chance pour vous expliquer, vous excuser ou vous racheter.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 5:&#39;&#39; &lt;&lt;if $endoutfit is true&gt;&gt;&#39;&#39;« Ce n&#39;est pas encore les vacances »&#39;&#39;
Pour une raison quelconque, vous avez choisi de porter quelque chose que Borat porterait à la plage. Bien que cela aurait pu être une bonne farce, ce n&#39;était pas le lieu ni le moment pour le faire. Sans tenue de rechange, Kelsie refuse de vous laisser entrer plus loin. Vous étiez si proche de rencontrer ses parents. &lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 6:&#39;&#39; &lt;&lt;if $endshake is true&gt;&gt;&#39;&#39;« Briser des os »&#39;&#39;
Vous avez choisi d&#39;affirmer votre domination envers le père de Kelsie par une traditionnelle forte poignée de main. Cependant, vous êtes allée trop loin et avez laissé John blessé. Vous avez traumatisé la famille de Kelsie et tous vos partenaires potentiels qui entendraient parler de l&#39;histoire plus tard.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 7:&#39;&#39; &lt;&lt;if $cheating is true&gt;&gt;&#39;&#39;« Infidélité »&#39;&#39;
Après avoir accepté le numéro de Jessie à la boulangerie, vous passez la majeure partie du déjeuner chez les Sparks à lui envoyer des messages. Même si elle le remarque, Kelsie ne dit rien à ce sujet jusqu&#39;à la fin de la journée. Il s&#39;avère que vos actions vous ont mutuellement blessées ce jour-là. Elle ne comprend pas comment ses commentaires vous blessent, alors que vous ne comprenez pas comment obtenir le numéro de téléphone d&#39;une étrangère et lui envoyer des messages la blesse. Vous finissez par vous séparer avec beaucoup d&#39;amertume. &lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 8:&#39;&#39; &lt;&lt;if $ghosting is true&gt;&gt;&#39;&#39;« Ghosting »&#39;&#39;
Vous avez réussi à franchir à travers tous les obstacles que les Sparks vous ont lancés, mais à peine. Vous n&#39;avez pas semblé faire une assez bonne impression sur les parents de Kelsie pour mériter une réponse chaleureuse de leur part. Ils vous ont à peu près ignorée tout l&#39;après-midi. Kelsie n&#39;est pas non plus impressionnée par vous, vous abandonnant sur la route des relations.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 9:&#39;&#39; &lt;&lt;if $faded is true&gt;&gt;&#39;&#39;« Estompé »&#39;&#39;
Vous avez traversé la journée un peu indemne. Les parents de Kelsie sont tièdes envers vous. Vous n&#39;avez pas fait trop d&#39;erreurs pour que Kelsie rompe avec vous tout de suite. Mais vous avez fait suffisamment de choix spécifiques qui ont laissé Kelsie quelque peu indifférente envers cette relation. Elle commence à tomber dans l’eau avec le temps. Un jour, elle finit par vous quitter via une lettre.&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
	&#39;&#39;Fin 10:&#39;&#39; &lt;&lt;if $fairytale is true&gt;&gt;&#39;&#39;« Fin de conte de fées »&#39;&#39;
Vous n&#39;auriez pas pu mieux passer la journée, même si vous aviez essayé. Vous avez vraiment impressionné les parents de Kelsie, qui espèrent vous voir venir plus souvent. Ils suggèrent également que vous rencontrerez les autres membres de la famille à l&#39;avenir. Vos choix ne faisaient qu&#39;affirmer ce que Kelsie pensait et parlait de vous. Est-ce que vous entendez les cloches de l’église au loin ?&lt;&lt;else&gt;&gt;@@color:grey;&#39;&#39;Non trouvée&#39;&#39;@@&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="191" name="StayB_frm" tags="translated" position="3100,1642" size="100,100">&lt;&lt;set $store to &quot;cake&quot;&gt;&gt;Vous avez décidé de rester à la boulangerie et d&#39;affronter cette personne appelée Dimitri. Ses menaces ne vous font pas peur. &lt;&lt;if $shop isnot &quot;cake1&quot;&gt;&gt; Vous en avez assez des magasins qui refuse de vous servir. &lt;&lt;/if&gt;&gt;Vous ne pouvez pas supporter ce manque de service client. Peu importe que vous portiez une tenue légère ou un habit de prêtre, les gens ne devraient pas traiter les clients de cette façon.

//« Vous vous attendez à ce que JE quitte ce magasin les mains VIDES ? »// vous criez à l&#39;homme slave. //« Je me fiche de la raison, mais vous ne pouvez pas traiter les gens comme MOI comme ça. Je peux porter ce qui me plaît et les gens ne peuvent rien y faire. C&#39;est la loi ! JE DEMANDE que vous me serviez. JE VEUX QUELQUES FOUTUS GÂTEAUX ! »//

L&#39;homme soupire, déjà épuisé par vos ébats. Il semble savoir ce qui devrait arriver, et semble avoir déjà vu ce genre de chose auparavant.
//« Écoutez, je suis sorti parce qu&#39;elle n&#39;est pas douée au travail. »// dit-il en hochant la tête à la porte, où l&#39;employée est allée prendre sa pause. //« Je n&#39;ai pas le temps pour ta crise de bébé. Je dois terminer cette commande. Sort. »
« Résultant aux insultes maintenant ? Wow ! C&#39;est vraiment mature de ta part ! Comment oses-tu m&#39;appeler un bébé ? Tu veux voir un bébé, hein ? Je vais te montrer un bébé. Putain, donne-moi juste les gâteaux. »
« S&#39;il vous plait, ne- »  //

Mais il est déjà trop tard. Vous prenez des croissants sur le comptoir et les lancez sur l&#39;homme. Il lève son bras devant son visage pour se protéger. Vous commencez à agiter vos bras comme ces tubes gonflés devant les concessionnaires automobiles. Tout sur leurs passages est renversé au sol. Les menus tombent par terre. Les serviettes volent dans l’air. Vous continuez à attraper des choses autour de vous pour les jeter soit chez Dimitri, soit autour de la boutique.

//« Vas-y mec, viens vers moi ! » // vous criez en narguant l&#39;homme slave. // « Fais de ton pire. »//

Vous ne savez pas comment vous pourriez même l&#39;affronter dans un combat, mais une intense accumulation de frustration à l&#39;intérieur de vous attend juste de sortir. L&#39;homme fait le tour du comptoir pour vous rejoindre. Comme un enfant, vous vous enfuyez de l&#39;autre côté du comptoir.

// « Ha! Trop lent. Tu ne peux pas m&#39;atteindre, hein. »//

Dimitri grogne. Vous réalisez alors que vous vous trouvez devant la vitrine en verre, où ils présentent leurs gâteaux. Une idée folle vous traverse l&#39;esprit. Vous survolez les gâteaux avec votre main.

// « Non ! Ne fais pas ça. Pas hygiénique. » // plaide Dimitri. //« Si tu te calmes, je te donne du gâteau. D’accord ? C&#39;est ce que tu veux, non ? Des gâteaux savoureux. »//

Vous faites une pause pendant une seconde. // Admet-il sa défaite ? Si tôt ? // Votre tête ne parait plus être au bon endroit. Il semble que vous ayez complètement oublié d’obtenir des gâteaux et le déjeuner avec Kelsie. Une seule pensée reste dans votre esprit, se répétant de plus en plus fort. //Vas-y. Fais-le.// Dimitri continue de vous supplier, d&#39;essayer de vous éloigner des produits de boulangerie. //Fais-le. Fais-le.// Vous avez un sourire méchant sur votre visage et refusez de suivre sa demande.

//FAIS-LE.//

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; Votre main atterrit sur le gâteau qu&#39;elle avait plané au-dessus. Tout dans la boulangerie s&#39;immobilise un instant. Vous voyez le visage de Dimitri passer de suppliant à horrifié.

//Encore une fois, // dit la voix dans votre tête. Vous suivez la commande, comme si vous étiez la marionnette de quelque chose de mal à l&#39;intérieur de vous. Votre main se soulève du gâteau que vous venez de détruire et passe au suivant. Dimitri tombe à genoux et vous supplie d&#39;arrêter.

//Encore une fois!// Vous en écrasez un autre à la main. Les larmes coulent sur les joues de Dimitri, alors qu&#39;il sent les heures passées à les cuire gaspillées pour votre plaisir écœurant. //ENCORE!// Et un autre. Vous entendez Dimitri marmonner // « Non. Non. Non... »// toujours en train de pleurer. Vous avez l&#39;air complètement dément, ivre d&#39;une sorte de pouvoir sur l&#39;homme sanglotant.

Vous vous lassez vite de détruire les précieux gâteaux de Dimitri. Après l&#39;avoir fait une fois, cela commence à perdre son attrait. Vous passez à détruire une autre partie de la boulangerie. Quoi que vous fassiez, votre cerveau rationnel semble complètement impuissant à vous arrêter. À un moment donné, vous vous accrochez au registre pour une raison quelconque, en essayant de le déplacer. C&#39;est à ce moment-là que vous entendez la sonnette retentir lorsque la porte s&#39;ouvre.

// « Hey ! Va falloir que tu t&#39;éloignes du registre et que tu lèves les mains en l&#39;air. » // vous entendez une voix autoritaire dire.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; Vous regardez d&#39;où vient la voix et vous voyez un policier pointer son arme sur vous. Instinctivement, vous suivez la commande. Vous réalisez que quelque chose ne va pas ici. Vous voyez enfin le carnage que vous avez apporté à la boulangerie. Le policier s&#39;approche de vous et commence à vous menotter.

//« Évidemment, tu es en état d&#39;arrestation ici »,// et continue de vous lire vos droits.

Il vous met à l&#39;écart, s&#39;assurant que vous ne recommencerez pas à bouger, avant de s&#39;occuper de Dimitri qui sanglote encore devant la vitrine. L&#39;employée sort de la pièce latérale et discute avec le policier. Elle avait appelé le commissariat pendant que vous deveniez dément. Elle explique à l&#39;officier que le physique et le comportement intimidant de Dimitri empêchaient généralement les clients indisciplinés à se comporter comme des fous ; mais le boulanger n&#39;était qu&#39;un tendre dans l&#39;âme et ne voulait rien d&#39;autre que rendre les gens heureux avec ses confections.

L&#39;officier demande à Dimitri s&#39;il veut porter plainte contre vous, mais le slave, toujours sous le choc, ne répond pas. L&#39;employée répond à l&#39;agent et promet d&#39;amener Dimitri au poste lorsqu&#39;il se sentira prêt. Elle apportera également le rouleau des bandes de sécurité en même temps. L&#39;officier la remercie et revient vous chercher. Il vous regarde et soupire.

//« Ce sont toujours ceux sans vêtements qui font toujours les choses les plus étranges. Y a-t-il quelque chose à toi ici ? »//

Vous secouez la tête, tout est encore dans votre banane. L&#39;officier vous saisit par le bras et sort de la boulangerie. En partant, vous regardez à l&#39;intérieur et voyez l&#39;employée essayant de consoler Dimitri, sanglotant toujours devant ses pâtisseries.

L&#39;officier vous pousse sur la banquette arrière de sa voiture et se rend au commissariat. Votre voiture reste sur le parking devant la boulangerie. Vous vous rendez compte que vous avez laissé votre téléphone à l’intérieur, car il vous donnait la direction des parents de Kelsie. //Oh non… Kelsie…//

[[Continuer|Station]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="192" name="Puzzled2_frm" tags="translated" position="3725,1767" size="100,100">&lt;&lt;if $cheating gt 3&gt;&gt;Kelsie semble être perdue dans ses pensées. Vous êtes presque sûr qu&#39;elle ne remarquerait pas si vous regardez votre téléphone. Vous mettez sournoisement votre main dans votre poche pour le récupérer et le regardez derrière votre jambe. Jessie vous a envoyé un texto. Vous souriez à son message. //La petite coquine.// Vous commencez à lui répondre quand vous êtes interrompu par Kelsie.

//« Tout va bien $name ? »
« Euh? Oh oui. Juste un ami qui veut qu&#39;on se voit. Je voulais juste leur dire que je suis occupé aujourd’hui. »
« Uh-huh. Quoi qu&#39;il en soit… Retour à ton smoking. Je pense que si tu enlèves ce tour de cou, ouvres quelques boutons et laisses ta veste ici... » // explique-t-elle en vous manipulant comme si vous étiez un mannequin. //« Tu commences à ressembler à quelqu’un de normal. Là. »//

Elle recule de quelques pas, vous regarde encore de haut en bas ; et se sentant satisfaite, elle vous sourit. &lt;&lt;if $present gt 0&gt;&gt;

Elle regarde ce que vous tenez. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 2&gt;&gt;En regardant le bouquet, son sourire s&#39;agrandit. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 1&gt;&gt;En regardant la boîte de bonbons, un air maussade tombe sur son visage. Cependant, elle n&#39;en dit pas un mot. 
&lt;&lt;/if&gt;&gt;

Elle prend votre bras et vous emmène plus loin dans la maison.

//« Aller, $name. Viens rencontrer tout le monde. Pour de vrai cette fois. »//

&lt;&lt;else&gt;&gt;Vous ignorez la vibration de votre téléphone et essayez de réfléchir à nouveau à la façon d&#39;aider Kelsie, en vain.

//« Je pense que si tu enlèves ce tour de cou, ouvres quelques boutons et laisses ta veste ici... » // explique-t-elle en vous manipulant comme si vous étiez un mannequin. //« Tu commences à ressembler à quelqu’un de normal. Là. »//

Elle recule de quelques pas, vous regarde encore de haut en bas ; et se sentant satisfaite, elle vous sourit. &lt;&lt;if $present gt 0&gt;&gt;

Elle regarde ce que vous tenez. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 2&gt;&gt;En regardant le bouquet, son sourire s&#39;agrandit. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 1&gt;&gt;En regardant la boîte de bonbons, un air maussade tombe sur son visage. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;


Elle prend votre bras et vous emmène plus loin dans la maison.

//« Aller, $name. Viens rencontrer tout le monde. Pour de vrai cette fois. »// &lt;&lt;/if&gt;&gt;

[[Continuer|Handshake]]
</tw-passagedata><tw-passagedata pid="193" name="Sweet2_frm" tags="translated" position="4175,1892" size="100,100">&lt;&lt;if $cheating is 5&gt;&gt; Vous vous excusez pour aller aux toilettes. Vous voulez juste vérifier votre téléphone maintenant et parler à quelqu&#39;un de ces sentiments négatifs que vous avez en ce moment. Kelsie vous semble un peu comme une étrangère en ce moment. Vous n&#39;arrêtez pas de vous demander pourquoi Kelsie ne vous avait pas mentionné ces choses importantes auparavant.

Dès que vous êtes seul, vous consultez votre téléphone. Jessie vous a envoyé un message. En voyant simplement son nom à l&#39;écran, vous commencez déjà à vous sentir un peu mieux. Vous savez qu&#39;au moins vous avez quelqu&#39;un dans votre coin. Vous échangez quelques messages avec elle, racontant votre arrivée aux Sparks, comment Kelsie a critiqué votre tenue, comment elle vous a ridiculisé en ne vous ayant pas dit de ne pas apporter de gâteaux, comment tout semble un peu gênant maintenant. Vous pouvez ressentir la compassion de Jessie à travers ses réponses. Elle vous rappelle qu&#39;elle est là pour vous et qu&#39;elle serait toujours libre de vous rencontrer après tout cela, de parler, si vous êtes toujours partant, alors.

Vous vous rendez compte que vous avez déjà passé quelques minutes dans la salle de bain. Il serait peut-être préférable que vous rejoigniez le groupe bientôt, sinon tout le monde commencera à s&#39;inquiéter. Une partie de vous sait que vous pouvez gérer le reste de la journée, le reste veut simplement se désengager et rentrer chez vous. Ce qu’il vient de se passer est déjà assez humiliant.

Vous respirez profondément et revenez sur vos pas jusqu&#39;à la véranda. 

[[Continuer|Tally]]

&lt;&lt;else&gt;&gt; Vous ignorez votre téléphone. La personne qui vous a envoyé un message peut attendre. Même si vous voudriez parler à quelqu&#39;un de ces sentiments négatifs que vous avez en ce moment. Kelsie vous semble un peu comme une étrangère en ce moment. Vous n&#39;arrêtez pas de vous demander pourquoi Kelsie ne vous avait pas mentionné ces choses importantes auparavant. Et qu&#39;en est-il de sa critique de votre tenue quand vous êtes arrivé ? Le smoking vous allait très bien. Il serait peut-être une bonne idée d&#39;en parler avec Kelsie plus tard.

Vous essayez de ravaler ces sentiments et de passer à autre chose. Il reste encore assez de temps pour vous remettre de cette erreur. Le déjeuner n&#39;a même encore pas commencé. Les choses peuvent toujours basculer. Comme le père de Kelsie a dit, vos gâteaux seront probablement servis avec du café plus tard. Peut-être qu&#39;ils les aimeront bien à la fin.

[[Continuer|Tally]]
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="194" name="Intro1_frf" tags="done" position="825,2392" size="100,100">//&#39;&#39;BZZZT... BZZZT...&#39;&#39;//
Votre téléphone vibre à côté de vous. Surprise par le bruit, vous l’attraper pour voir ce qu’il se passe. Kelsie vient de vous envoyer un texto. Vous ouvrez son &lt;&lt;linkappend &quot;message.&quot;&gt;&gt;

&lt;div class=&quot;message&quot;&gt;//J&#39;ai hâte que tu rencontres tout le monde demain. (...)
Je t&#39;aime. K//&lt;/div&gt;

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;En fermant vos yeux, vous ne pouvez pas vous empêcher de sourire. Vous espérez qu’à part rencontrer ses parents, demain soit complètement ordinaire. Vous savez que vous vous êtes bien préparée. Rien ne devrait mal se tourner. Vous essayez de vous souvenir de ce qui vous a amené à ce &lt;&lt;linkappend &quot;moment.&quot;&gt;&gt;

Vous vous souvenez avoir rencontré Kelsie quelques mois plus tôt, au bar où vos amis vous ont entraînée. Vous étiez censée étudier ce soir-là pour un examen important, mais vous aviez fini par accepter leur demande, après qu’ils vous aient promis vous laisser partir après un verre. Un verre… HA ! Rien ne s’arrête après un seul verre. Vos souvenirs commencent à devenir flous après le 3ème verre.

Cependant, une chose reste bien clair. Vous vous souvenez très bien avoir remarqué cette femme près du bar. Cette nuit-là, elle portait une robe fleurie. À chaque mouvement, le tissue ondulait autour d’elle. Cela lui donnait un air céleste. En pleine conversation avec quelqu’un proche d’elle, elle jouait avec ses longues mèches blondes.

Vous aviez dû l’avoir regardée suffisamment longuement, car elle avait fini par vous remarquer. De temps en temps, elle réciproquait et vous souriait. Ses yeux bleus perçants semblaient tirer des flèches droites vers votre cœur. Vous vous mettiez à rougir. La première fois que vos joues rougissent, vos amis avaient commencé à se moquer de vous, pensant que vous aviez déjà bu la goûte de trop, tout en vous versant un autre verre. Lorsqu’ils comprirent que le rougissement allait et venait en fonction du regard de cette femme, ils étaient passés à vous taquiner de votre béguin.

Et quel béguin se fut. Un de ses coup d’œil était suffisant pour allumer une étincelle dans votre cœur. Vous saviez à ce moment-là que vous si vous ne l’abordiez pas, vous ne la reverriez probablement jamais. Heureusement pour vous, vos amis vous ont poussé à les abandonner pour parler à cette radieuse jeune femme.

Elle s’appelait Kelsie Spark. Vous aviez essayé de plaisanter en lui disant qu’elle devait surement allumer beaucoup de feux dans le cœur des gens. Vous vous souvenez de son pouffement à votre blague. Vous aviez appris qu’elle était, comme vous, une étudiante. Elle passait par contre peu de temps de ce côté de la ville, étudiant à l’école culinaire à l’opposé. Cette école étant la plus prestigieuse du continent, les étudiants avaient peu de temps libre. Tandis qu’en la regardant Kelsie vous donnait déjà des papillons dans le ventre, c’était en l’écoutant parler de sa passion pour la cuisine qu’elle vous avait fait craquer.

Depuis lors, chaque moment passé avec elle avait été la chose la plus intense que vous aviez vécue dans votre vie. C’était comme si vous aviez trouvé le chemin de votre vie après l’avoir rencontrée. Avec un peu de recul, vous ne pouvez pas vraiment vous souvenir de votre vie avant son apparition. Et, vous ne pouvez pas imaginer un avenir sans elle.&lt;&lt;/linkappend&gt;&gt;

Avec des souvenirs heureux dans votre tête, vous vous endormez en pensant à elle.

[[Continuer|Intro2]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkappend&gt;&gt;</tw-passagedata><tw-passagedata pid="195" name="Intro2_frf" tags="done" position="950,2392" size="100,100">&lt;div style=&quot;text-align: center;&quot;&gt;&lt;h2&gt;//Une semaine plus tôt//&lt;/h2&gt;&lt;/div&gt;Vous vous tenez devant l’appartement de Kelsie, radieuse de joie. Tellement joyeuse que vous ne pouvez à peine rester debout au même endroit pendant plus que quelques seconds. Cela fait déjà 6 mois jour pour jour que Kelsie avait accepté de rendre cette relation officielle et de devenir votre petite-amie. Vous ne vous êtes jamais considérée comme une personne excitée de célébrer ce genre d’étapes. Surtout lorsque la plupart des gens ne considèrent pas vraiment celui-ci comme un véritable anniversaire.

Évidemment, vous êtes arrivée sur le pas de porte, cadeaux en main. Vous avez apporté un bouquet contenant certaines de ses fleurs préférées, ainsi qu’une boîte de chocolats assortis, dont elle raffolait ces dernières semaines. Si cela ne tenait qu’à vous, et si votre portefeuille le permettait, vous fêteriez votre relation tous les jours, et combleriez Kelsie de cadeaux.

Vous frappez à la porte, impatiente de la revoir. Au fond de votre esprit, vous vous souvenez qu’elle avait mentionné vouloir vous parler de quelque chose d’important aujourd’hui. Vous vous demandez ce qu’elle voulait dire à ce sujet. En général, lorsque votre partenaire veut parler de quelque chose d’important mais ne précise pas son sujet, ce n’est jamais un bon augure. Vous pincez vos lèvres. Vous auriez probablement dû lui demander à ce moment-là d’élaborer un peu plus. Vous aviez tous les deux été si occupées ces derniers jours que cela vous avait complètement échappé. Si vous n’aviez pas créé une alarme pour ce rendez-vous, vous auriez surement oublié de venir aujourd’hui !

Vous espérez tout de même que vos peurs vous trompent un peu sur ce front, et que Kelsie a juste organisé une bonne surprise à l’intérieur. Au fond de vous cependant, vous tournez en rond dans un cercle vicieux. Des souvenirs surgissent dans votre esprit, des moments où vous pensez avoir fait une erreur, avoir dit quelque chose de travers, avoir pris le mauvais chemin.

Noyée dans vos pensées, vous ne remarquez à peine la porte s’ouvrant devant vous. Du moins, jusqu’à ce que Kelsie apparaisse complètement. Elle semble s’être matérialisée, devant vous, directement de votre premier souvenir d’elle. Ce tout premier moment l’avoir aperçue, assise au bar, avec cette robe à peine déposée sur son corps.

La porte entre-ouverte, l’air du couloir s’échappe vers l’intérieur de l’appartement, se faufilant à travers les tissus de sa robe. Sa robe dansant autour de Kelsie, vous ne pouvez pas vous empêchez de penser être encore dans ce bar, face à Kelsie, il y a 6 mois. Même si elle brille tellement plus qu’avant. Vos oreilles bourdonnent du son de votre cœur qui bat la chamade dans votre poitrine.
 
Vous l’entendez à peine couiner votre nom.

&lt;label&gt;Quel est votre nom ?
&lt;&lt;textbox &quot;$name&quot; &quot;Tapez ici&quot;&gt;&gt;&lt;/label&gt;

[[Confirmer|Inside]]</tw-passagedata><tw-passagedata pid="196" name="Inside_frf" tags="done" position="1075,2392" size="100,100">//« $name ! »//

Kelsie se jette sur vous, enroulant ses bras étroitement autour de votre cou. Votre visage est enfoui dans ses cheveux dorés, qui sentent comme un champ de lavande juste après un orage. On se sent en vacances dans ses bras, des vacances que l’on ne veut jamais voir finir. Quelques secondes s’écoulent avant qu’elle se décide de libérer votre cou.

//« Viens, rentre à l’intérieur, mon chou. J’attendais ton arrivée »//, te dit-elle en souriant jusqu&#39;aux oreilles.

Toujours sans voix du fait de la vue devant vous, votre bouche maintenant ouverte, ses mots semblent entrer dans une oreille juste pour sortir de l&#39;autre. Votre cerveau ne sait pas quoi faire à part la regarder avec admiration. Elle agite doucement sa main devant votre tête, jusqu&#39;à ce que votre visage se contracte enfin et que vous soyez ramenée à la réalité.

Revenant à vos sens, vous la souriez en retour. Elle commence à reculer de quelques pas pour que vous puissiez entrer dans l&#39;appartement. Vous lui emboîtez le pas et lui tendez maladroitement vos offrandes. Elle vous regarde d’abord surprise puis touchée.

//« Pour moi ? Oh $name ! Comme c&#39;est gentil. Tu n&#39;aurais vraiment pas dû. »//

Elle prend d&#39;abord la boîte de bonbons, vous sourit et la niche sous son bras. Elle prend ensuite les fleurs dans ses mains, ferme les yeux et inhale lentement leur parfum. Elle ouvre les yeux et s&#39;exclame :

//« Je ne peux vraiment pas te croire $name. Qu’est-ce que c’est beau. »// Puis après un court silence. //« Mais je t&#39;ai dit de seulement te ramener aujourd&#39;hui. Tu n&#39;avais vraiment pas besoin d’apporter quoi que ce soit. »//

Elle s&#39;arrête un instant, ramenant son regard sur le bouquet, examinant attentivement sa composition.

//« Voyons tout de même ce que tu as choisi. Des roses... Héliotrope... Quelques tulipes... Quelques branches de fougère... Si je ne savais pas mieux, je dirais que tu essayais de m&#39;envoyer un message. »// Elle vous fait un clin d&#39;œil et rit. //« Hahaha. Tu es vraiment trop gentil, $name. »//

* /* [[What]] */&lt;&lt;link &quot;//« Ce sont juste des fleurs Kelsie. Il n&#39;y a aucun message caché. Tu sais, tu peux juste le dire clairement si tu ne les aimes pas. Pouah ! Tu as raison. Je n&#39;aurais pas dû acheter quoi que ce soit. »//&quot; &quot;What&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* /* [[Praise]] */&lt;&lt;link &quot;//« Oh, tu sais ! Ce n&#39;est pas grand-chose en fait, juste quelques fleurs significatives et du délicieux chocolat »//, alors que vous lui retourniez son clin d&#39;œil.&quot; &quot;Praise&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* [[Vous ne dites rien. |Shy]]</tw-passagedata><tw-passagedata pid="197" name="END1_frf" tags="done END" position="1075,2517" size="100,100">&lt;&lt;set $nomeeting to true&gt;&gt;Vous quittez l&#39;appartement de Kelsie sans vous retourner.

Vous n’avez jamais découvert ce que Kelsie voulait vraiment discuter. Votre esprit était tellement déterminé sur l’idée qu&#39;elle allait rompre avec vous, que ceci est devenu réalité. Cependant, vous ne pouvez toujours pas comprendre pourquoi elle romprait avec vous. Vous savez à quel point vous êtes quelqu’un de bien !

Pendant une courte minute, vous avez essayé de vous remettre un peu en question, ainsi que vos choix vous ayant mené à cette interaction finale. En revanche, vous ne trouvez aucune faute dans vos actions. D’après vous, tout doit être sur les épaules de Kelsie. Ses commentaires vous ont juste agacée et elle avait réagi de manière vraiment excessive.

En parlant de Kelsie, après cette rencontre désastreuse, vous n&#39;entendez plus jamais parler d&#39;elle. Du moins pas directement. Elle a cessé de répondre à vos messages et a filtré vos appels. Vous avez entendu de la part d&#39;un ami d&#39;un ami que non seulement elle avait rencontré quelqu&#39;un de nouveau, elle ne vous mentionnait jamais. C’est devenu évident que cette relation était vraiment terminée.

Même après avoir été vous-même dans de nouvelles relations après ce fiasco, vous continuiez à penser à Kelsie comme votre seul véritable amour et celui qui vous avait échappé de vos mains. Vous continuiez à la surveiller souvent, même si cela était devenu plus difficile lorsqu&#39;elle a commencé à vous bloquer sur les réseaux sociaux. Vous avez toujours été prompt à la blâmer pour l&#39;échec de vos nouvelles relations, même si vous ne lui aviez pas parlé face-à-face depuis ce soir-là.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Pas d&#39;invitation »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="198" name="What_frf" tags="done" position="1200,2517" size="100,100">//« Ce sont juste des fleurs Kelsie. Il n&#39;y a aucun message caché. Tu peux simplement le dire si tu ne les aime pas. » //Vous jetez vos mains en l&#39;air. //« Pouah! Tu as raison en fait. Je n&#39;aurais pas dû acheter quoi que ce soit. » 
« Ok, relax $name. C’était juste pour te taquiner un peu. Je pensais juste qu’on s’était mis d’accord pour ne pas s’offrir quoi que ce soit aujourd’hui. J’étais juste surprise de voir que tu avais apporté quelque chose. C’est tout. »
« Pas de cadeaux ? Soit un peu réaliste, Kelsie. Quand c&#39;est une occasion comme celle-ci, c’est quand même obligatoire »//, vous roulez des yeux. Puis montrant les cadeaux : //« Tu sais combien ça coûte tout ça ? Tu penses vraiment que je roule sur l’or ? »
« Ou tu aurais simplement pu écouter les gens un peu, surtout quand ils te disent ce qu&#39;ils veulent ou ne veulent pas. »// Elle soupire. //« Aussi, est-ce que tu as entendu ce que j&#39;ai dit quand je les ai reçus ?»
« Arrête avec le sarcasme, Kelsie. Je n&#39;en ai vraiment pas besoin aujourd&#39;hui. Ou que tu me rappelles à l’ordre non plus. Je pensais que tu apprécierais mes efforts un minimum pour une fois. »
« Sérieusement $name. Je l&#39;appréciais vraiment. Je les aime vraiment. »
« Si c’est la vérité, pourquoi tu ne l&#39;as pas dit directement ? Toujours besoin de lire entre les ligne avec toi. »//

Kelsie fait un pas en arrière, l&#39;air abattu. Elle vous rend d&#39;abord les fleurs, puis, comme ses mains sont libres, elle prend la boîte de chocolat sous son bras et vous la remet également. Elle s’enveloppe dans ses bras, ses mains les agrippant fermement. Ses yeux évitent votre regard.

//« Vraiment, Kelsie ? Tu vas agir comme ça juste à cause de quelques fleurs »// , vous plaignez-vous en pointant son visage avec les fleurs. //« Pff. Je savais que quelque chose n&#39;allait pas quand tu disais vouloir parler. Tu sais quoi, je ne pense pas que j’ai la tête à faire quoi que ce soit ici »//, revendiquez-vous, en agitant toujours au bouquet.

Kelsie regarde le bouquet, puis vers le sol. Certaines fleurs ont déjà perdu leurs pétales à force d&#39;avoir été secouées. Elle soupire tristement.

//« Je suppose que tu as raison. Il n&#39;y a plus besoin de célébrer quoi que ce soit. On n’a pas non plus besoin de prétendre que… »// Elle ne finit même pas sa phrase.
//« Ouais... Pas besoin. »//

Vous vous revenez sur vos pas, serrant rageusement le bouquet dans vos mains. Pétales traînant derrière vous, vous jetez le bouquet par terre. Les fleurs sont de toute façons ruinées. Vous quittez l&#39;appartement de Kelsie sans vous retourner.

[[Continuer|END1]]</tw-passagedata><tw-passagedata pid="199" name="Praise_frf" tags="done" position="1200,2392" size="100,100">//« Ah, tu sais ! Ce n&#39;est pas grand-chose en fait, juste quelques fleurs significatives et du chocolat délicieux »//, dites-vous en lui faisant un clin d&#39;œil.
//« Tu sais vraiment comment traiter les femmes, n&#39;est-ce pas $name. »
« Je suis content que tu les apprécies. J&#39;espérais ne pas en avoir trop fait. »
« Même si tu en faisais trop, quand il s&#39;agit de ce genre de présent, tu ne me verras jamais me plaindre. »
« Oh s&#39;il te plaît, Kelsie. Continue avec ces compliments »//, dites-vous d&#39;un ton taquin.

Elle rit. Comment vous aimez son rire. Et la façon dont son sourire illumine son visage. Et comment elle a l&#39;air heureuse. Vous voulez juste tomber à genoux et crier combien vous l&#39;aimez. Vous ne l’avez jamais avoué à voix haute jusqu&#39;à présent, mais cela vous semble juste. Ce sera ce soir ou jamais !

//« Oh ! Tu verras, je peux continuer comme ça toute la nuit, » // ricane-t-elle. //« Mais avant tout, je devrais mettre ces belles fleurs dans l&#39;eau. Tu peux me passer le vase vert ? Celui là-bas ? »//

Elle pointe vers un objet en verre près de la fenêtre à côté de vous. Vous le ramassez et la suivez plus loin dans son appartement. Elle marmonne en souriant, le nez de nouveau dans les fleurs :
// « Je n’y crois pas. &lt;&lt;linkappend &quot;Tu t’en souviens&quot;&gt;&gt;&lt;&lt;set $memory to &quot;flower&quot;&gt;&gt;&lt;&lt;dialog &#39;Votre Souvenir&#39;&gt;&gt;\Vous vous souvenez de la première nuit où vous avez rencontré Kelsie. Après avoir complimenté sa robe, elle dit en plaisantant que dans sa famille, tout le monde était un peu des intellos quand cela concernait les fleurs. Ce moment est resté dans votre mémoire parce que vous aviez rigolé si fort, qu&#39;une partie de votre boisson avait presque jailli de votre nez. En se moquant de vous, elle a ajouté que si elle n&#39;avait pas appris à être cuisinière, elle serait probablement devenue fleuriste. Vous vous souvenez aussi vous avoir dit que sa grand-mère lui avait appris la signification des fleurs quand elle était plus petite.\&lt;&lt;/dialog&gt;&gt;&lt;&lt;/linkappend&gt;&gt;. »//

Dans la cuisine, elle pose les fleurs sur le plan de travail, près de l&#39;évier. Elle ouvre un de ses placards pour ranger la boîte de chocolat. Elle récupère le vase de vos mains et le remplit d&#39;eau. Elle dénoue la corde retenant le bouquet en place et l&#39;ajoute au vase. Heureuse du résultat, elle se tourne vers vous.

//« Tu es arrivé bien à temps, $name. Le plat est presque prêt. Va t&#39;asseoir. Je te suis dans une minute. »//

Vous suivez ses instructions et vous vous asseyez à table, en attendant qu&#39;elle vous rejoigne.

[[Continuer|SetUp]]
 </tw-passagedata><tw-passagedata pid="200" name="Shy_frf" tags="done" position="1200,2267" size="100,100">Aucun son ne sort de votre bouche.

//« Terre à $name ? Dis-donc, tu es dans la Lune mon chou. » //

Montrant que vous soyez toujours présente, vous hochez la tête. Vos joues rougissent. Vous êtes normalement un moulin à parole, que ce soit pour des choses intelligentes ou des blagues bien bêtes. Mais aujourd’hui… Eh bien, aujourd’hui c’est différent. Votre esprit est comme une page blanche qui ne veuille absorber aucune goutte d’encre. Vous aviez prévu d’enfin lui avouer votre flamme. Pour une raison ou une autre, ces mots doux ne veulent pas passer votre bouche. Vous avez essayé d’y faire allusion avec le bouquet que vous avez apporté. En voyant la réaction de Kelsie, vous êtes presque certaine qu’elle a mordu à votre hameçon.

//« Est-ce que ça va, $name ? »
« Quoi... Oh ! Oui ! Oui, tout va bien. »
« Je pensais t’avoir perdu dans tes pensées. »
« Tu ne m&#39;as pas vraiment perdu. Je pensais à toi. »//

Les joues de Kelsie se colorent. Elles ressemblent à deux mignonnes petites pivoines qui n&#39;ont pas encore fleuri.

//« Je... je devrais m&#39;occuper de ces belles fleurs »//, dit-elle, changeant de sujet. //« Tu sais, elles ne doivent pas rester hors de l&#39;eau trop longtemps. Tu peux me passer le vase vert ? Celui là-bas ? »//

Elle pointe vers un objet en verre près de la fenêtre à côté de vous. Vous le ramassez et la suivez plus loin dans son appartement. Elle marmonne en souriant, le nez de nouveau dans les fleurs :
//« Quelle folle, &lt;&lt;linkappend &quot;se souvenir de quelque chose comme ça&quot;&gt;&gt;&lt;&lt;set $memory to &quot;flower&quot;&gt;&gt;&lt;&lt;dialog &#39;Votre Souvenir&#39;&gt;&gt;\Vous vous souvenez de la première nuit où vous avez rencontré Kelsie. Après avoir complimenté sa robe, elle dit en plaisantant que dans sa famille, tout le monde était un peu des intellos quand cela concernait les fleurs. Ce moment est resté dans votre mémoire parce que vous aviez rigolé si fort, qu&#39;une partie de votre boisson avait presque jailli de votre nez. En se moquant de vous, elle a ajouté que si elle n&#39;avait pas appris à être cuisinière, elle serait probablement devenue fleuriste. Vous vous souvenez aussi vous avoir dit que sa grand-mère lui avait appris la signification des fleurs quand elle était plus petite.\&lt;&lt;/dialog&gt;&gt;&lt;&lt;/linkappend&gt;&gt;. »//

Dans la cuisine, elle pose les fleurs sur le plan de travail, près de l&#39;évier. Elle ouvre un de ses placards pour ranger la boîte de chocolat. Elle récupère le vase de vos mains et le remplit d&#39;eau. Elle dénoue la corde retenant le bouquet en place et l&#39;ajoute au vase. Heureuse du résultat, elle se tourne vers vous.

//« Tu es arrivé bien à temps, $name. Le plat est presque prêt. Va t&#39;asseoir. Je te suis dans une minute. »//

Vous suivez ses instructions et vous vous asseyez à table, en attendant qu&#39;elle vous rejoigne.

[[Continuer|SetUp]]</tw-passagedata><tw-passagedata pid="201" name="SetUp_frf" tags="done" position="1325,2392" size="100,100">&lt;label&gt;&#39;&#39;Quel est votre plat salé préféré ? &#39;&#39;
&lt;&lt;textbox &quot;$dish&quot; &quot;Tapez ici&quot;&gt;&gt;&lt;&lt;button &quot;Confirmer&quot;&gt;&gt;&lt;&lt;update&gt;&gt;&lt;&lt;/button&gt;&gt;&lt;/label&gt;
&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Vous suivez ses instructions et vous vous asseyez à table, en attendant qu&#39;elle vous rejoigne.

Kelsie semble vraiment contente de ce que vous lui avez apporté. Il n&#39;y avait vraiment pas de quoi s&#39;inquiéter. Ressentant un peu plus soulagée, vous commencez à remarquer la merveilleuse odeur venant de la cuisine. Il vous faut quelques secondes pour la reconnaître, mais vous êtes presque sûr que Kelsie a préparé votre plat préféré : &lt;&lt;liveblock&gt;&gt;$dish&lt;&lt;/liveblock&gt;&gt;. Kelsie étant chef en formation, vous savez qu&#39;elle l&#39;a préparé avec une touche bien spéciale. Après l&#39;avoir essayé, vous êtes sûr que vous ne voudrez pas d&#39;autre version que la sienne. Elle a probablement passé des heures dans la cuisine à essayer de le perfectionner. Vous savez que vous avez hâte de le gouter.

Kelsie sort de la cuisine avec le $dish dans ses main, tout sourire, ayant l&#39;air très fière d&#39;elle.

//« Hahaha $name. Tu sais déjà ce que c&#39;est, n&#39;est-ce pas ? Je peux le lire sur ton visage »
« Suis-je vraiment un livre ouvert pour toi ? »
« À certains moments, oui, tu l’es un peu. Mais parfois, tu es un mystère complet. Ce qui est sympa. Tu me tiens sur mes gardes. Je sais que je ne m&#39;ennuierai jamais avec toi. »//

Elle s&#39;assoit en face de vous et commence à servir le plat. Il a l&#39;air encore mieux que vous ne l&#39;imaginiez. Les différentes couleurs des ingrédients se complétant, vous pourriez presque penser que vous regardez un tableau. Après la première bouchée, vous savez que c’est le seul plat que vous aimeriez manger pour toujours. Les goûts chantent une mélodie sur votre langue. Vous l&#39;avez deviné, $dish n&#39;aura plus jamais le même goût pour vous. Toute autre version n’atteindra celui-là. Vous en savourez chaque bouchée, sans savoir quand vous le verrez de nouveau à table devant vous.

//« Je suis contente que ça te plaise, $name. Si j&#39;avais su que ta réaction serait aussi intense, j&#39;en aurais fait plus pour que tu puisses en ramener chez toi. » //Après une pause.// « En parlant de chez soi, il y a quelque chose dont je veux t’en parler. »//

[[Continuer|Invit]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="202" name="Invit_frf" tags="done" position="1450,2392" size="100,100">//« En parlant de chez soi, il y a quelque chose dont je veux t’en parler. »//

Vous levez votre regard vers Kelsie. //Ça y est//, pensez-vous, //le moment de vérité//. Le discours que vous redoutiez depuis tout ce temps se déroule maintenant. Vous avalez avec difficulté ce qui reste dans votre bouche. //Garde ton froid. Tout va bien se passer. Respire.//

Kelsie remarque que vous êtes agitée.

//« Oh non, $name. Tu peux te détendre. Rien ne va mal ! »// Elle attrape votre main et la serre, essayant de te faire sentir mieux. //« C&#39;est juste… Eh bien… Je t&#39;ai pas mal mentionnée à mes parents ces derniers temps quand je leur parle. Vu qu&#39;on se voit régulièrement depuis un moment maintenant... De toute façon, ils n&#39;arrêtent pas de poser des questions sur toi. Et je rentre à la maison pour les vacances la semaine prochaine. Et bien... J&#39;ai pensé de te les présenter. Genre... officiellement… en tant que ma partenaire. »// Elle vous serre à nouveau la main. Vous sentez la sienne trembler un peu. //« T’en pense quoi ? »//

Ce n&#39;était certainement pas ce que vous pensiez qu&#39;il se passerait aujourd&#39;hui. Ce n&#39;est définitivement pas le mauvais présage que vous craigniez plus tôt, mais c&#39;est quand même quelque chose d&#39;aussi anxieux. //Rencontrer ses parents ? Si tôt dans cette relation ? Enfin, cela ne fait que 6 mois !// Vous n&#39;avez même pas encore emménagé avec elle. Vous aviez envisagé de les rencontrer à un moment donné, dans le futur. Le futur lointain. Pas le futur de la semaine prochaine. Et s&#39;ils ne vous aiment pas ? Vous avez déjà vu cela arriver. Des amis ont rompu à cause de ça. C&#39;est tellement commun qu&#39;ils en ont fait des franchises de films à ce sujet. Rencontrer leurs parents se termine toujours par un désastre.

//« $name ? Ça va ? Parle-moi. »
« Ha ! … Désolé Kelsie, c&#39;est juste... Est-ce que c’est une bonne idée ? De le faire aussi tôt ? »
« Rencontrer mes parents ? Peut-être ? Je ne sais pas… Je suppose que cela dépend de la façon dont se déroule la relation. Il y a des gens qui se marient environ 3 mois après leur rencontre. »//

La mention du mariage transforme votre visage criblé d&#39;anxiété en presque horreur. Kelsie le remarque et s&#39;empresse d&#39;éteindre ce feu.

//« Ah ! $name. Ne… ne fais pas cette tête. Ce n&#39;est pas sur la table pour nous maintenant. J&#39;essayais juste de t’expliquer mon point de vue. »
« Ouf… Je veux dire, c&#39;est juste que je veux finir mon diplôme avant de parler de ce genre d&#39;engagement… »
« Nous sommes sur la même longueur d&#39;onde à ce sujet. Ne t&#39;inquiète pas. De toute façon, comme je le disais… Ma famille est importante pour moi. Si tu envisages également cette relation à long terme, je veux juste être sûre que vous pouvez vous entendre. Si tu ne te sens pas d&#39;accord, tu peux me le dire. Ça peut attendre. Je ne te mettrai pas la pression. »//

Vous avez besoin d’un peu de temps pour réfléchir. Est-ce juste de sa part de vous poser ce sujet dans les mains ? Vous êtes clairement une boule de nerfs, rien que d&#39;y penser. Faudrait-il attendre encore quelques mois avant de rencontrer ses parents ? Ou devriez-vous simplement arracher le pansement ?

* /* [[Happy]] */&lt;&lt;link &quot;//« Tu sais quoi. Mieux vaut arracher le pansement directement. Je leur en boucherai un coin ! Allons-y ! »//&quot; &quot;Happy&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* /* [[Later]] */&lt;&lt;link &quot;//« Pour être honnête, je ne pensais pas que je rencontrerais tes parents si tôt. Ne te méprend pas, je veux les rencontrer. Est-ce que tu peux me donner juste un peu plus de temps ? »//&quot; &quot;Later&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
* /* [[Refuse]] */&lt;&lt;link &quot;//« Ce n&#39;est pas un vrai choix, hein ? Soit je les rencontre et il y a une chance qu&#39;ils ne m&#39;aiment pas et qu&#39;on se sépare. Ou je te demande d&#39;attendre et tu auras des doutes sur le fait que cette relation soit faite pour à long terme, et on se sépare quand même. »//&quot; &quot;Refuse&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="203" name="END2_frf" tags="done END" position="1450,2517" size="100,100">&lt;&lt;set $conspiracy to true&gt;&gt;//« Pourquoi es-tu encore là alors, $name ? »//

Vous êtes prise de surprise. Pas vraiment du fait de la question, mais parce que Kelsie ait choisi de vous parler de nouveau. Vous vous étiez enfin habituée à seulement vous entendre parler ces dernières minutes, alimentant votre colère et vos insécurités. Votre cerveau avait filtré tout autre bruit autour de vous.

//« Quoi ? »// vous répondez, confuse.
//« Pourquoi es-tu avec moi ? »
« Pourquoi toutes ces questions ? »
« Tu viens de dire que tout ce que j’ai fait ces derniers mois juste pour te piéger et que ça te dérangeait énormément. Pourquoi es-tu toujours là alors ? Parce que de mon point de vue, tu as l’air d&#39;aimer passer du temps avec moi, mais sans vraiment d’attachement de ta part. Est-ce que je suis vraiment ta petite amie ou est-ce que tu m&#39;appelles juste pour me garder dans les parages ? »//

Pendant quelques minutes, un silence s’invite dans la pièce. Vous ouvrez la bouche pour dire quelque chose mais Kelsie vous devance.

//« Tu sais quoi ? Ne réponds pas. Rien ne paraitra authentique sortant de ta bouche. Je n&#39;ai pas à permettre que cela se produise chez moi. Je ne sais pas ce qui se passe dans ta tête pour que tu craches de folles conspirations relationnelles. Mais je m&#39;en fiche. Dégage ! »//

Elle attrape vos affaires, ouvre la porte et attend que vous vous bougiez. Vous restez immobile, debout, figée sur place. Vous ne semblez pas enregistrer ce qui vient de se passer.

//« Terre à $name. Tu m&#39;as entendu ? Sort de chez moi. »//

Pendant une longue minute, votre corps ne fait aucun mouvement. Votre cerveau revient toujours à la réalité. Dès que vous comprenez la gravité des choses, vous traînez les pieds vers elle, l&#39;air désolée. Elle soupire d&#39;exaspération, jette dehors vos affaires, qu&#39;elle tenait toujours, et revient vers vous. Elle vous tire par le bras vers la porte. Vous essayez de résister et plaidez pour rester.

//« C&#39;est la dernière fois que je dirai ceci, $name. Fiche le camp de mon appart. »//

Elle change de tactique et commence à vous pousser. Autant vous résistez à ses actions, autant vous ne pouvez pas vous empêcher d&#39;avoir l&#39;impression de la perdre. Vous ne savez tout simplement pas ce que vous pouvez faire pour la faire changer d&#39;avis. Une dernière poussée et vous êtes enfin hors de l&#39;appartement. Vous sentez que la porte est claquée derrière vous. À travers elle, vous pouvez entendre Kelsie crier :

//« Si jamais je te revois ici, j&#39;appellerai les flics. »//

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Vous ramassez vos affaires, celles que Kelsie avait jetées dans le couloir. Vous vérifiez que tout est là. Vous ne pensez pas qu&#39;elle ouvrirait de nouveau gentiment la porte si vous aviez encore oublié quelque chose dans son appartement. En voyant comment elle a réagi, vous devinez qu&#39;elle essaierait probablement de vous jeter n’importe quoi à la figure. Découragée, vous quittez l&#39;immeuble pour rentrer chez vous. Vous aviez raison de supposer que la conversation attendue était bien de mauvais augure.

Peu de temps après, vous mentionnez ces événements à vos amis, bien que vous ayez omis certains des mots que vous aviez prononcés à la fin de la soirée, ni la menace de Kelsie. Vos amis ont pensé que c&#39;était un peu bizarre que Kelsie vous ait largué si brusquement, voyant à quel point vous aviez l’air parfait ensemble. Ils vous ont conseillé d&#39;aller ramper à ses pieds, implorant le pardon. Vous avez visiblement vu leurs conseils comme une excellente idée !

Même si Kelsie vous a menacée si vous vous présentiez à sa porte, vous ne respectez pas ses volontés. Vous passez souvent devant son immeuble, espérant la voir, peut-être lui parler. Vous lui envoyez des fleurs et des cadeaux dans son appartement, avec des notes lui disant à quel point vous êtes désolée et à quel point vous voulez qu&#39;elle revienne. Certaines des notes comprenaient également que vous acceptiez de rencontrer ses parents, en espérant que cela aiderait à réparer votre relation. Cependant, vous les trouvez souvent près de la poubelle à l&#39;extérieur de son immeuble le lendemain. Après un certain temps, vous remarquez que Kelsie cesse complètement d’apparaître autour de son immeuble.

Ne sachant pas comment résoudre ce problème, vous vous plaignez de nouveau à vos amis que leurs conseils n’ont pas fonctionné. Kelsie filtre toujours vos appels et n&#39;ouvre pas vos messages. Vous avez essayé tout ce que vous aviez pu concocter. Vos amis sont aussi confus que vous. Avec les informations que vous leur avez données, Kelsie serait déjà revenue dans vos bras. L&#39;un de vos amis a proposé de contacter l&#39;un des amis de Kelsie pour obtenir de l&#39;aide. Comme vous feriez n&#39;importe quoi pour récupérer Kelsie, vous approuvez l&#39;idée.

Il s&#39;avère que Kelsie avait raconté à son amie une histoire très différente de celle que vous avez racontée aux vôtres. Elle leur avait actuellement raconté la vérité. Elle a également eu tellement peur de vos actions ces derniers temps qu&#39;elle a décidé de déménager et même de changer de numéro. Vos amis, toujours de votre côté, pensent toujours qu&#39;elle avait complètement réagi de manière excessive, mais que vous devriez peut-être abandonner votre quête. Cette relation est clairement terminée.

Vous continuez à croire que tout cela avait été le plan de Kelsie depuis le début pour vous larguer pour quelqu&#39;un qui est surement un connard contrôlant, lui refusant de vous voir à tout prix. Ça, et ruiner votre plat favori, $dish, pour vous.

Vous avez quand même fini par sortir avec d&#39;autres personnes après Kelsie, vos amis vous conseillant de garder pour vous votre discours sur toutes ces manigances relationnelles. Cependant, vos rendez-vous semblent tous découvrir votre passé avec Kelsie d&#39;une manière ou d&#39;une autre ; et vous ignorent inexplicablement peu de temps après. De toute évidence, ces relations de courte durée ont renforcé votre conviction que tout le monde est après vous et veut vous ridiculiser.


&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Conspirations… Conspirations partout »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="204" name="Later_frf" tags="done" position="1575,2267" size="100,100">&lt;&lt;set $later to 1&gt;&gt;//« Eh bien... Pour être honnête... »// commencez-vous. //« Je ne pense pas encore être prête pour ça. »//

Vous faites une pause, essayant de trouver les mots justes. Vous voulez que Kelsie comprenne que vous êtes romantiquement engagée envers elle, mais vous avez encore besoin de temps pour vous faire à l’idée de faire ce pas.

//« C&#39;est juste que… je ne pensais pas que je rencontrerais tes parents si tôt. Ne te méprend pas, je veux les rencontrer à un moment donné dans le futur. Mais j&#39;ai l&#39;impression qu&#39;il y a encore des étapes que nous n&#39;avons pas encore franchies ensemble. Tu me suis ? »
« Oh non, »// se lamente Kelsie. //« J&#39;ai pris de l&#39;avance trop vite, n&#39;est-ce pas ? »
« Un peu, peut-être, Kelsie. Mais ton enthousiasme. J&#39;aime tellement ça chez toi. Peux-tu me donner un peu plus de temps ? Je ne veux pas m&#39;inquiéter de ce que nos familles penseraient l&#39;un de l&#39;autre. Pas encore. »//

Kelsie semble un peu déçue. Elle espérait certainement une réponse différente de votre part. Elle fait la moue juste une seconde avant de vous demander :
 
//« De combien de temps aurais-tu besoin ? »
« Je... je ne sais pas vraiment. Je veux dire qu&#39;il y a des &quot;premières étapes&quot; que je veux faire avec toi avant de rencontrer tes parents ou avant que tu rencontres ma famille. Et je ne veux pas vraiment me précipiter dans ce genre de choses. Je veux que ça suive son cours naturellement. Peut-être... Peut-être redemande-moi dans quelques mois ? »
« D&#39;accord, $name »//, dit-elle, comme si elle capitulait la bataille. //« Je pense que je peux attendre que tu sois prête. Je préférerais que tu rencontres ma famille en toute confiance plutôt qu&#39;une boule de nerf. »//

Elle vous sourit et remplit votre verre vide.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;//« Quoi qu&#39;il en soit, tu as mentionné qu&#39;il y a des choses que tu voulais faire. Tu as une liste de à cocher, non ? »
« Eh bien... ce n&#39;est pas comme si j&#39;avais une liste réelle ou quoi que ce soit... »
« Allez, $name. Ne faites pas comme si tu n&#39;en avais pas une sur ton téléphone. Je sais que ça ne fait pas longtemps qu’on soit ensemble, mais il y a assez de choses que je sache déjà sur toi. »//

Vous sortez votre téléphone, l&#39;air légèrement coupable. Vous aviez une liste prête sur votre téléphone. Vous l&#39;avez depuis que vous lui avez demandé pour ce premier rendez-vous. Parfois, vous vous demandez si Kelsie vous connaît mieux que vous-même. Ça ou si elle peut lire dans vos pensées.

//« Alors, qu&#39;est-ce que nous pourrions organiser à mon retour ? »//

Vous la regardez, des papillons dans le ventre. Il y a tellement d&#39;endroits où vous voudriez aller avec elle. Vous ne savez pas vraiment quoi choisir. Il y a aussi des éléments sur cette liste avec lesquels vous voudriez la surprendre. Kelsie peut vous lire comme un livre ouvert, mais vous ne voulez pas révéler toutes vos cartes tout de suite. Vous proposez des options sûres et passez le reste du dîner à planifier avec elle ces rendez-vous pour lorsqu&#39;elle reviendra de sa visite.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Le reste du dîner se passe quelque peu sans incident. Vous êtes triste de ne pas voir Kelsie jusqu&#39;à ce qu&#39;elle revienne de chez ses parents. Après tout, elle est encore en plein examens. Vous avez eu de la chance qu&#39;elle ait quand même pris du temps pour vous voir et vous cuisiner quelque chose de si délicieux. Vous retardez le plus possible le moment où vous devez partir. Si cela ne tenait qu&#39;à vous, vous resteriez ici pour toujours.

Alors que vous êtes sur le point de quitter son appartement en vous penchant pour un autre baiser, vous lâchez : //« Qu’est-ce que je t&#39;aime. »// Surprise, Kelsie rougit, vous pousse dehors et vous ferme la porte au nez. Vous restez là, confuse, pendant un moment. La porte se rouvre soudainement. Kelsie, toujours rougissante, crie : //« Moi aussi ! »//, vous embrasse encore une fois et referme la porte.

Vous vous tenez devant l&#39;appartement de Kelsie pendant un moment, pétrifiée. Votre cerveau n&#39;arrive pas à comprendre ce qui vient de se passer. Reprenant conscience, vous vous retournez et rentrez chez vous, souriant d&#39;une oreille à l&#39;autre.

[[Continuer|Later2]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="205" name="Happy_frf" tags="done" position="1575,2392" size="100,100">&lt;&lt;set $happy to 1&gt;&gt;//« Eh bien... ce n&#39;était pas vraiment quelque chose que je m&#39;attendais à devoir choisir ce soir… » Vous vous grattez la nuque. « J&#39;ai toujours pensé que j&#39;aurais franchis plus d’&quot;étapes&quot; avec toi avant que cela n&#39;arrive. »
« Si tu n&#39;es pas prêt, ça peut toujours attendre. »
« Non ! Non, non... Ma mère me dit toujours : &quot;il vaut mieux enlever un pansement rapidement que le laisser en place parce que tu as peur que ça fasse mal&quot;. Et qui sait. Peut-être que je vais les épater. »
« Vraiment ? Tu es partant ? »
« Oui ! Allons-y. »//

Kelsie soupir de soulagement et son visage s&#39;illumine. Il semble que cela la rongeait depuis un certain temps.

//« Je pensais que je m’étais un peu emportée quand je t&#39;ai proposé ceci. Je sais que c&#39;est un peu tôt, mais j&#39;avais un bon pressentiment. »
« Tu n&#39;avais rien à craindre, Kelsie. À tout le moins, c’est ton enthousiasme te rend si attachante. »
« Je suis quand même contente que tu sois aussi emballée que moi à cette idée. Je passerai un coup de fil à mes parents pour l’organisation. Les connaissant, ce sera surement un de ces weekends. Quand est-ce que tu es libre ? »
 « Si c&#39;est durant un week-end, tu as simplement besoin de me donner une date et je serai là. Je ferais en sorte que ça rentre dans mon calendrier. »//

Elle vous sourit et remplit votre verre vide.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;//« Quoi qu&#39;il en soit, »// continue-t-elle, //« ne pense pas que j&#39;ai oublié ce que tu viens de dire. Je t&#39;ai bien entendu avoir mentionné qu&#39;il y avait des &quot;étapes&quot; que tu avais voulu franchir avant de rencontrer mes parents. Qu’est-ce qu’on peut faire pour y remédier ? »
« Oh… Kelsie. Je voulais dire… J’aurais préféré qu’on les passe ensemble naturellement. Ce n&#39;est pas vraiment quelque chose que je voudrais forcer, tu vois ? »
« Et si je voulais te donner un coup de coude ? Tu ne seras pas celle qui les force de cette façon. »
« Ah ! » // écriez-vous, imitant avoir été tirée dessus par une balle dans la poitrine.// « Les détails techniques, ma seule faiblesse ! »//

Kelsie rit. Votre estomac se tord. //Oh non ! C&#39;est à nouveau ce sentiment. Pas encore. Ce n&#39;est pas le bon moment. Ne lâche rien.// Vous peinez à vous ressaisir.

//« Haha ! Sérieusement $name, donne-moi ta liste. Je sais que tu en as une sur ton téléphone. Ne fais pas semblant. Je pense te connaître assez bien maintenant. »//

Vous sortez votre téléphone, l&#39;air légèrement coupable. Comme validement soupçonné par Kelsie, vous avez bien une liste sur votre téléphone. Vous l&#39;avez bien enregistrée dessus depuis que vous l’aviez invitée à ce premier rendez-vous. Parfois, vous vous demandez si Kelsie vous connaît mieux que vous-même. Est-ce qu’elle suspecte que vous l&#39;aimez ?

//« Alors, qu&#39;est-ce qu’on pourrait faire ce soir ? »//

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Vous la regardez, ressentant soudainement un peu de tristesse. Vous vous rappelez que ce soir sera la dernière fois que vous pourrez la voir pendant un moment. Après tout, elle est encore en plein examens. Vous êtes déjà chanceuse qu&#39;elle ait pu prendre du temps pour vous voir et vous préparer ce délicieux repas.

//« $name ? Est-ce que j’ai dit quelque chose de déplacé ? »
« Ah… Bien sûr que non, Kelsie. C&#39;est juste que... tu vas me manquer cette semaine. C&#39;est tout. »
« Cette sem-… ah… Écoute. N&#39;y pensons pas trop, d&#39;accord ? Aller, montre-moi ta liste. Il doit bien y avoir quelque chose que nous pouvons faire ce soir. »//

Vous refusez tout de même de lui présenter votre téléphone. Il y a tellement d&#39;endroits où vous voulez aller avec elle. Il y a même des éléments sur votre liste que vous souhaiteriez qu’ils restent des surprises. Kelsie peut vous lire comme un livre ouvert, mais vous ne voulez pas encore lui révéler toutes vos cartes. Vous offrez tout de même quelques options qui pourraient être réalisées à l&#39;intérieur, avec peu ou pas de préparation. Kelsie pense que ce serait amusant de préparer un dessert ensemble.

Vous finissez tous les deux rapidement votre dîner et vous vous dirigez vers la cuisine.

[[Continuer|Comp]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="206" name="Refuse_frf" tags="done" position="1575,2517" size="100,100">« Ce n&#39;est pas un vrai choix, hein Kelsie ? »// Vous posez vos couverts et levez vos mains, leurs paumes en l’air. //« Soit je les rencontre et il y a une chance qu&#39;ils ne m&#39;aiment pas et qu&#39;on se sépare. Ou je te demande d&#39;attendre et tu auras des doutes sur le fait que cette relation soit faite pour à long terme. C&#39;est truqué dès le départ. »
« Quoi ? Un truquage ? Je voulais seulement avoir ton avis. Une opportunité s&#39;est présentée. Alors je l&#39;ai mise sur la table. »
« Je parie que tu en as déjà parlé avec tes parents. »
« Je suis d&#39;accord avec eux sur le fait que ce serait bien que tu les rencontres, mais– »
« C’est des conneries tout ça, Kelsie. C&#39;est la même chose ! »// vous hurlez, la coupant. //« Maintenant, ils s’attendent à ce que je vienne bientôt. Tu as déjà semé cette graine dans leur tête. »
« Qu&#39;est-ce que tu racontes ? J&#39;allais dire que je leur ai expliqué que je te demanderais si tu étais partante ou non. Tu ne connais pas mes parents. Ils sont biens plus compréhensifs que tu ne le penses. »
« Et, tu ne vois pas que tu fais la même chose avec moi ? J&#39;ai vu à travers tes stupides tests. Je suis foutue de toute façon. »
« Ok... Je suis juste confuse maintenant, $name. Pourquoi est-ce que j&#39;essaierais de t’entuber ? Je voulais juste savoir si tu étais partante pour rencontrer ma famille. C&#39;est tout ! »
« C&#39;est tout ? C’est tout ?! Toujours avec les manigances. Tu sais quoi... Je ne suis pas en train de tomber dans le piège cette fois. »
« Est-ce que tu m&#39;écoutes ou tu retiens seulement ce que tu veux entendre ? »// demande Kelsie, commençant à en avoir marre de votre tirade.
//« Est-ce que toi tu m&#39;écoutes ? Hein ? Je peux te demander la même chose. Tu peux me répondre ? Hein ? »
« Je n’y crois pas. J&#39;ai gâché autant de temps aujourd&#39;hui à cuisiner tout ça, juste pour te voir sombrer dans une connerie de complot qui n’existe même pas. J&#39;aurais pu utiliser ce temps pour étudier pour mes examens à la place... »
« D&#39;accord, Kelsie, CECI... n’a rien à voir avec tes problèmes. D&#39;accord ? »//

Vous continuez à radoter pendant un certain temps, ce qui agace Kelsie de plus en plus. Elle ne prend même plus la peine de répondre à vos questions. Ce n&#39;est pas comme si vous lui laissiez le temps de répondre de toute manière lorsque vous lui poser une question. Vous n’attendez pas vraiment de réponse de sa part.

Il est clair maintenant que le dîner est à peu près terminé pour elle. Elle commence à emporter la vaisselle vers la cuisine, vous remarquant à peine à ce stade. Comme un chiot, vous la suivez, continuant à délirer sur le fait que la plupart des filles ne sortent pas avec des gens sympas mais seulement qu’avec des connards ; comment elles ne savent pas mieux parce qu&#39;elles ne connaissent pas ce que c&#39;est que d&#39;être traitée comme une reine ; comment, si vous attendez beaucoup d&#39;elles, ce n&#39;est pas parce que vous les mettez sur un piédestal, mais parce que c&#39;est comme ça que ça devrait être ; qu&#39;à la fin elle ne vous comprend pas et qu&#39;elle essaie juste de vous piéger dans cette relation.

Dès qu&#39;elle entend cela, elle arrête ce qu&#39;elle fait et se tourne vers vous.
//« Pourquoi es-tu encore là alors, $name ? »//

[[Continuer|END2]]</tw-passagedata><tw-passagedata pid="207" name="Comp_frf" tags="done" position="1700,2392" size="100,100">Vous finissez toutes les deux rapidement votre dîner et vous vous dirigez vers la cuisine. Vous proposez de transformer la préparation du dessert en mini concours de pâtisserie. Vous savez que Kelsie, prenant ses études au sérieux, a des placards bien rempli. Kelsie rit et plaisante :

//« Tu veux vraiment avoir une compétition contre moi ? Comment vas-tu gagner contre mon flagrant avantage ? »
« Eh bien, j&#39;y ai pensé. Nous choisissons tous les deux la recette que l&#39;autre fera, et– »
« Si tu penses que je vais t’en donner une facile exprès, tu te fais des illusions ! »
« Ah, mais laisse-moi finir ! Puisque nous sommes toutes les deux d&#39;accord sur le fait que tu as clairement un avantage injuste sur moi, je devrais pouvoir t’ajouter un handicap. »
« Hm... Même avec un handicap, je vais quand même te botter les fesses. »
« Même si je choisis les ingrédients ? Et tu ne peux pas ajouter autre chose. »
« Tu n&#39;oserais pas ! »// s&#39;écrie Kelsie, en faisant semblant d&#39;être sidérée. //« Pas de soucis. Tu vas voir. Je vais quand même te battre ! »//

Décrire le reste de la soirée comme sans incident serait trompeur. Le mini-concours a suivi son cours. Vous, perdant la tête devant un soufflé au chocolat refusant de monter ; et Kelsie se remettant en question tous ses choix en essayant de faire un mille-feuille à partir de restes de sucreries au fond de ses placards.

Si quelqu’un aurait jeté un coup d’œil à l&#39;intérieur, il aurait surement pensé être tombé sur le plateau d&#39;une émission de cuisine en vous regardant tous les deux s&#39;effondrer devant vos créations. Cependant, vous vous souviendrez toujours de cette nuit comme l&#39;une des plus amusantes que vous ayez jamais eu dans votre vie. Même si votre soufflé n&#39;a pas bien levé et a failli brûler, Kelsie n&#39;avait que des compliments à vous faire. Vous pouviez voir sur son visage à quel point elle était fière de vous, quel que soit le résultat. Quand il fut le moment d&#39;essayer son dessert, vous saviez dès la première bouchée que vous aviez été complètement battue. Vous ne pouviez pas croire que cette création avait été réalisée à partir de collations choisis au hasard. Vous aviez choisi les éléments qu&#39;elle pouvait utiliser et en aviez même goûté quelques-uns, mais ce qu&#39;elle avait créé avait un goût complètement différent. Et on aurait dit que ce dessert serait sorti d&#39;une boulangerie chic.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Après cette compétition ludique, vous aviez commencé à retarder le plus longtemps possible le moment où vous deviez enfin partir. Si cela ne tenait qu&#39;à vous, vous resteriez ici pour toujours.

Alors que vous êtes sur le point de quitter son appartement en vous penchant pour un autre baiser, vous lâchez : //« Wow… Je t&#39;aime. »// Surprise, Kelsie rougit, vous pousse dehors et vous ferme la porte au nez. Vous restez là, confus, pendant un moment. La porte se rouvre soudainement. Kelsie, toujours rougissante, crie : //« Moi aussi ! »//, vous embrasse encore une fois et referme la porte.

Vous vous tenez devant l&#39;appartement de Kelsie pendant un moment, pétrifiée. Votre cerveau n&#39;arrive pas à comprendre ce qui vient de se passer. Reprenant conscience, vous vous retournez et rentrez chez vous, souriant jusqu’aux oreilles.

[[Continuer|Instruc]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="208" name="Later2_frf" tags="done" position="1700,2267" size="100,100">Comme promis, pendant un long moment, Kelsie n&#39;a pas remis sur table la rencontre entre sa famille et vous. Votre relation continue à suivre son cours, presque comme si rien n&#39;avait été demandé. En revanche, depuis son retour, elle semblait plus enthousiaste à vouloir rayer les éléments de votre liste. Vous vous êtes demandée plusieurs fois si elle vous poussait peut-être pour pouvoir vous demander de nouveau de rencontrer ses parents. En même temps, vous étiez tout aussi heureuse de franchir toutes ces étapes avec elle. Les expériences que vous avez vécues ont été inoubliables.

Au fur et à mesure que la liste diminuait, Kelsie commençait à faire de plus en plus allusion à votre conversation. Il était clair que rencontrer ses parents était vraiment important pour elle. Contrairement à quelques mois plus tôt, vous vous sentiez déjà plus en confiance en tant que partenaire de Kelsie. Vous pensiez même présenter Kelsie à votre propre famille.

Cela fait maintenant quelques mois depuis ce dîner fatidique. Vous sentez votre téléphone vibrer dans votre poche. Vous venez de recevoir un message de Kelsie.

&lt;div class=&quot;message&quot;&gt;//Salut $name. Si tu n&#39;es pas trop occupée aujourd&#39;hui, ça te dis de déjeuner ensemble ? Il y a un resto sympa sur 5th qui vient d&#39;ouvrir. Tu veux essayer ?
Je t’aime, K.//&lt;/div&gt;

Vous avez également entendu parler de cet endroit et des critiques élogieuses sur leur menu. Évidement que Kelsie voulait l&#39;essayer. Ne refusant jamais une occasion de voir votre petite amie, vous répondez avec enthousiasme que vous avez hâte de la rencontrer là-bas.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;À l’heure du déjeuner, vous vous promenez en direction de 5th Street pour rencontrer Kelsie. Au coin de la rue, vous la voyez attendre près de la porte. Elle vous remarque aussi, vous sourit et vous salue frénétiquement. Vous devinez qu&#39;elle est assez excitée d&#39;essayer cet endroit.

//« Ah $name ! Tu es là ! Enfin ! Rentrons à l&#39;intérieur, je meurs de faim »//

Elle attrape votre main et vous tire vers l&#39;intérieur. Une fois que le serveur a noté vos commandes, elle met son menton sur ses points, vous regardant intensément.

//« Dis $name. Qu’est-ce que tu penses d’une sortie hors ville ce week-end ? »
« Eh bien, ce serait le bienvenu. Ce serait bien de voir quelque chose de différent. Pourquoi ? Quelque chose que tu veux cocher sur la liste ? »
« C’est pas vraiment sur ta liste. Mais nous en avons déjà parlé. »
« Oh ! Alors ça m’intrigue. »
« Je vais retourner voir mes parents ce week-end. Et comme cela faisait longtemps que je ne t&#39;avais pas demandé, je me demandais si tu avais changé d&#39;avis à propos de les rencontrer. Tu penses pas que ce serait temps de l’organiser ? »//

Vous attendiez qu’elle vous pose cette question depuis un certain moment. La liste était maintenant presque vide. Vous lui souriez et lui prenez la main. Contrairement à la dernière fois que Kelsie vous a demandé, vous êtes prête à les affronter. 

//« Je crois que tu as raison. Ce sera le bon moment pour le faire. »//

Dès que vous dites cela, le serveur revient avec la première assiette. Vous voyez Kelsie sourire, mais vous n’êtes pas sûr si c&#39;est à cause de votre réponse ou parce que de le plat a été servi. En voyant votre visage confus, Kelsie rit.

//« Ahahah. Oh $name. Je suis contente que tu sois d&#39;accord avec moi. J’appellerai toute à l’heure mes parents pour tout organiser. Je t&#39;enverrai un texto demain avec les détails, d&#39;accord ? Pour l&#39;instant, profitons simplement du déjeuner. »//

Vous hochez la tête, soulagée, et entamez votre assiette. Vous avez trouvé nourriture bonne mais aussi déroutante. Kelsie n&#39;est pas non plus impressionnée par ce qu&#39;elle a choisi. Elle vous dit dès que vous quittez le restaurant qu&#39;elle pourrait facilement recréer ces plats mais les rendre tellement meilleurs. Vous êtes peut-être un peu partial, mais après avoir déjà goûté sa cuisine, vous ne pouvez pas vous empêcher d&#39;être tout à fait d&#39;accord avec elle.

[[Continuer|Instruc]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="209" name="Instruc_frf" tags="done" position="1825,2392" size="100,100">Vous vous réveillez le lendemain, ne réalisant toujours pas tout à fait ce que vous venez d&#39;accepter. Tout cela a encore l’air d’être sorti d’un rêve. &lt;&lt;if $happy is 1&gt;&gt;Ce n&#39;est qu&#39;hier que vous aviez décidé de dire à Kelsie que vous l&#39;aimiez. Même si cela ne fait que 6 mois que vous êtes ensemble, tout semble juste. Vous savez que vous avez accepté quelque chose qu&#39;elle vous avait demandé à ce moment, mais toujours au sommet de votre déclaration d&#39;amour. Vous semblez reprendre vos esprits lorsque vous voyez le message de Kelsie sur votre téléphone :&lt;&lt;else&gt;&gt;Il semble que ce n&#39;était qu&#39;hier que vous vous trouviez devant l&#39;appartement de Kelsie, venant de lui déclarer votre amour. Au fond de votre esprit, vous savez que vous avez déjeuné avec Kelsie hier et que vous avez accepté une proposition qu&#39;elle vous a faite. Vous ne réalisez l&#39;étendue réelle de celui-ci que lorsque vous voyez le message de Kelsie sur votre téléphone :&lt;&lt;/if&gt;&gt;

&lt;div class=&quot;message&quot;&gt;//Hey $name, 
J&#39;espère que tu es toujours enthousiaste pour ce week-end, parce que mes parents le sont vraiment. On s’est mis d’accord que déjeuner ensemble samedi serait le mieux. Ma mère a un menu particulier pour lequel elle a besoin de l&#39;aide, donc je rentre chez eux vendredi soir.
Le déjeuner sera sur la table à 12h30. Si tu peux arriver plus tôt, ce serait bien. Ne sois pas en retard !
Et l&#39;adresse est : lien vers la carte de navigation
Je t&#39;aime ! 
K.//&lt;/div&gt;

Vous lisez son message une fois. Et puis une deuxième fois. Et une autre fois. Plus vous lisez et relisez son message, plus vous commencez à paniquer. Pourquoi diable avez-vous accepter ceci ? Pourquoi pensez-vous que vous étiez préparée ? Vous sembliez tellement confiante devant Kelsie hier. Où est cette confiance maintenant, hein ? Qu&#39;allez-vous faire quand le samedi arrivera ? Il est si facile d’avoir l’air stupide devant des gens que vous ne connaissez pas. Et si ses parents ne vous aiment pas ? Et s&#39;ils vous aiment trop mais que vous ne les aimez pas ? Vous n&#39;avez jamais vraiment demandé à Kelsie à quoi ils ressemblaient vraiment. Ou ce qu&#39;ils aiment. Et si vous n&#39;avez rien en commun avec eux ? Et si vous n&#39;aviez rien à discuter avec eux ? Et si vous commenciez à parler un peu trop et que vous disiez la mauvaise chose ? Ils ne voudront certainement pas savoir qu’en 5e année, quand votre camarade de classe vous a jeté un seau d&#39;eau sur la tête, que vous avez commencé à vous faire pipi dessus…

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;
Alors, vous commencez à être anxieuse de rencontrer la famille de Kelsie. Et vous continuez à tourner en spirale pendant la majeure partie de cette journée. La seule pensée dont vous êtes sûre à ce moment-là est qu&#39;il n&#39;y avait aucun moyen que vous puissiez revenir en arrière maintenant. Si vous n’y allez pas après l’avoir promis à Kelsie, elle ne le lâchera jamais et finira toujours par être déçue de vous.

Lorsque vous commencez à avoir le courage de faire quelque chose pour remédier à la situation, vous essayez d&#39;élaborer un plan d&#39;attaque. Vous avez encore quelques jours pour vous préparer. Tout sera parfait. Cela doit l’être. Vous le devez à Kelsie.

[[Continuer|Prep]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="210" name="Prep_frf" tags="done" position="1950,2392" size="100,100">Avec cette panique passant doucement, vous pensez à la meilleure façon de vous assurer que ce déjeuner soit parfait. Heureusement pour vous, la seule chose dont vous devez vous occuper est… vous-même. Vous commencez à passer des heures sur Internet, à ratisser pages sur pages de conseils pour édifier une bonne relation avec les parents de votre partenaire et éviter les pièges habituels. En prenant des notes avec diligence, vous vous retrouvez avec un tableau si rempli de post-it que vous pourriez faire du pixel art avec. Vous êtes à nouveau submergée de stress et couvrez la planche pour la nuit. Vous avez du mal à vous endormir, la planche couverte vous narguant dans son coin.

Deuxième jour de votre préparation, vous rassemblez votre courage et découvrez votre tableau de post-it. Certaines notes tombent par terre. Le tout a l’air en désordre. Vous essayez de donner un sens à tous vos mots. Comme un enquêteur sur une affaire, vous commencez à voir des liens entre eux et commencez à catégoriser vos notes. En faisant une pause au milieu de celle-ci, vous réalisez à quel point vous êtes heureuse de ne pas vivre avec Kelsie en ce moment. Elle s&#39;effondrerait probablement après avoir vu cette pagaille.

De vos recherches approfondies ressortent des conseils judicieux. Vous savez que tout devrait bien se passer tant que vous n&#39;abordez pas des sujets controversés, que vous ne renversez pas de boissons sur vous ou sur quelqu&#39;un d’autre, mangez la bouche ouverte ou renversez de la nourriture, oubliez de tirer la chasse d&#39;eau ou de les faire déborder, commencez une bagarre avec n&#39;importe qui, etc. Le bon sens, quoi. //&quot;Pas besoin d&#39;impressionner les parents de Kelsie avec mes tirades politiques ou mon jonglage de bouteilles alors,&quot;// pensez-vous en souriant d&#39;un air narquois.

Alors que vous commencez à vous sentir mieux sur la façon de vous gérer pendant la majeure partie de la journée, une chose vous stresse toujours : &lt;&lt;linkappend &quot;la première impression.&quot;&gt;&gt;

Les premières impressions sont tellement importantes. Un regard est tout ce dont la plupart des gens ont besoin pour se faire une idée de vous et pour commencer à vous juger. Une simple erreur peut vous faire passer pour un imbécile et les gens ne vous prendront jamais au sérieux. Puisque vous voulez vraiment faire plaisir à Kelsie, vous parcourez à nouveau vos notes pour trouver la réponse à LA question : &#39;&#39;Comment faire une bonne première impression&#39;&#39;.

Encore une fois, autant que vous le souhaitez, jongler avec des bouteilles ne vous aidera pas. Cependant, vos notes confirment vos soupçons. Avant que les gens ne voient qui vous êtes, ils voient ce que vous portez.

[[Choisissez une tenue ! |Outfit]]&lt;&lt;/linkappend&gt;&gt;</tw-passagedata><tw-passagedata pid="211" name="Outfit_frf" tags="done" position="2075,2392" size="100,100">Vous regardez fixement le placard plein devant vous. Du smoking chic au costume de carnaval, vous avez amassé une large collection de tenues, qui pourraient couvrir la plupart, sinon toutes les situations, que quelqu&#39;un pourrait rencontrer dans sa vie. Avec les articles de seconde main, les friperies et les soldes, et les cadeaux occasionnels, votre garde-robe regorge de vêtements.

//Merde… Suis-je une amasseuse ?// vous pensez au fond de votre esprit. //Eh bien, c’est pas le moment d&#39;y penser maintenant. Concentre-toi $name !//

Vous respirez un bon coup et essayez de regarder votre garde-robe avec un œil différent. Vous y trouvez 3 types de tenues : chic, décontracté et funky (bien que certaines personnes qualifieraient cette catégorie comme &quot;particulier&quot;). Votre œil se tourne aussi vers ce costume de pompier sexy que vous avez dans un coin du placard. Vous essayez de le sortir aussi souvent que possible, mais ce n&#39;est peut-être pas le choix approprié pour cette occasion.

//« Qu’est-ce que je devrais mettre ? »// vous marmonnez.

* [[Votre devise est de s&#39;habiller pour impressionner. Vous feriez mieux de choisir la tenue la plus chic. |Blacktie][$outfit to 1]]
* [[Vous voulez vous assurer qu&#39;ils se souviennent tous de vous. Vous devriez choisir votre tenue la plus originale et la plus flashy ! |Swimsuit][$outfit to 0]]
* [[Il vaudrait mieux ne pas faire trop de vague, et mettre une tenue décontractée. |Casual][$outfit to 2]]</tw-passagedata><tw-passagedata pid="212" name="Change_frf" tags="done" position="2075,2517" size="100,100">Vous enlevez la tenue que vous venez de choisir. Vous ne le sentez pas. Il y a peut-être une meilleure façon de vous présenter aux parents de Kelsie.

Vous regardez à nouveau votre penderie pour trouver une nouvelle tenue :
* [[Il vaut mieux ne pas être oubliée demain. La tenue la plus originale, le mieux ! |Swimsuit][$outfit to 0]]
* [[La première impression est importante, mais c’est censé être aussi un simple déjeuner. Mieux vaut aller avec une simple tenue décontractée. |Casual][$outfit to 2]]
* [[Ce jour sera l&#39;un des jours les plus importants de votre vie. Montrez-leur à quel point c&#39;est important avec votre tenue la plus chic. |Blacktie][$outfit to 1]]</tw-passagedata><tw-passagedata pid="213" name="Casual_frf" tags="done" position="2200,2392" size="100,100">//« Peut-être qu&#39;il est plus sûr d&#39;y aller simple et décontracté »//,
murmurez-vous. //« Je suis presque sûre d&#39;avoir noté sur un des Post-It que les meilleures tenues étaient généralement celles composées d&#39;un simple pantalon et d&#39;une belle chemise ajustée. »// 

Vous cherchez dans votre garde-robe ces deux articles. Entre votre collection de jeans de toutes les couleurs imaginables et celle de chemises aux motifs qui auraient dû être brûlés dès leur création, il vous faut un moment pour choisir une bonne combinaison. Ressembler à un arc-en-ciel humain est amusant, mais vous vous efforcez d&#39;être décontracté, pas vraiment original.

Vous finissez par vous fixer sur un simple jean bleu foncé et une chemise boutonnée aux détails fleuris. Vous réfléchissez un peu si vous devriez ajouter une veste par-dessus. Vous essayez la tenue choisie avec quelques vestes que vous possédez.

//« Facile et simple, c&#39;est mieux »//, dites-vous en enlevant la dernière veste.  //« Pas besoin d&#39;accessoire, ça marche très bien tout seul. »//

* [[Continuer avec cette tenue. |Bed]] 
* [[Sortez une tenue différente. |Change]]</tw-passagedata><tw-passagedata pid="214" name="Swimsuit_frf" tags="done" position="2200,2267" size="100,100">//« Allons-y avec la tenue la plus originale ! »// vous vous exclamez en sortant de votre armoire une tenue aux couleurs vives, faite d&#39;un tissu qui pourrait à peine couvrir vos parties intimes. //« Cela va faire une forte première impression à coup sûr ! »//

Vous faites de votre mieux pour vous rappeler la dernière fois que vous avez porté cet habit, tout en le mettant pour vérifier qu&#39;il vous aille toujours. Vous êtes presque sûr de l’avoir mis pendant cette fête d&#39;Halloween, quelques jours après avoir rencontré Kelsie pour la première fois. Vous n&#39;aviez pas encore eu votre premier rendez-vous avec elle. Le reste de vos souvenirs de cette nuit-là est assez flou, probablement à cause de l&#39;alcool qui a coulé à flot toute la nuit. Vous vous souvenez de vos amis vous prenant en photo, complètement ivre, dans les positions assez embarrassantes, faisant la fête comme s&#39;il n&#39;y avait pas de lendemain.

Heureusement, vos amis ont eu le bon sens de ne pas les publier en ligne mais de les garder à tenu de main, dans l&#39;intention de vous les envoyer de temps en temps pour en rire. Kelsie a également bien ri en les voyant.

Vous vous regardez dans le miroir. Cette tenue est un peu plus serrée que vous vous en souvenez. Mais vous pouvez le faire fonctionner. //Je me demande si Kelsie va rire aussi cette fois.//

* [[Continuer avec cette tenue. |Bed]] 
* [[Sortez une tenue différente. |Change]]
</tw-passagedata><tw-passagedata pid="215" name="Blacktie_frf" tags="done" position="2200,2517" size="100,100">Vous regardez les pièces pendues, chacune recouverte d&#39;une protection en plastique. Sous le plastique se trouve un costume différent, tous plus chics les uns que les autres. Ces vêtements ne sont manifestement pas souvent portés, car la poussière se disperse lorsque vous essayez de les regarder. Vous n&#39;en avez pas porté depuis des mois. Vous essayez de vous rappeler à quand remonte la dernière fois que vous avez sorti un de ces smokings. Peut-être un mariage ? Ou était-ce cette fête professionnelle ?

Vous finissez par sortir l&#39;un des costumes de votre placard. Vous êtes presque sûre que c&#39;était le dernier que vous aviez porté et celui qui vous irait probablement le mieux en prenant en compte votre physique actuel. Vous tirez vers le bas la fermeture éclair de la protection en plastique pour extraire le smoking. Son tissu est cher au toucher et sa coupe est nette. Vous vous souvenez l’avoir apporté à un tailleur à l’époque pour qu’il vous l’ajuste. Mais votre corps n&#39;a plus dans la même forme qu&#39;à l&#39;époque.

//« J&#39;espère qu&#39;il me va encore... »// murmurez-vous en le mettant.

En vous regardant dans le miroir, vous pouvez voir que le costume est un petit peu serré à certains endroits, s&#39;accrochant un peu négligemment sur vous. Heureusement, tout disparaît lorsque vous enfilez enfin le blazer.

//« Quelle meilleure façon de montrer à quel point demain est important en portant ma plus belle tenue ! »// vous vous exclamez en vous regardant dans le miroir.

* [[Continuer avec cette tenue. |Bed]] 
* [[Sortez une tenue différente. |Change]]
</tw-passagedata><tw-passagedata pid="216" name="Bed_frf" tags="done" position="2325,2392" size="100,100">Heureuse de votre décision, vous laissez votre tenue dans la salle de bain et fermez les portes de votre placard. Vous mettez également de côté ce dont vous aurez besoin pour vous préparer demain. Vous vous installez devant le miroir, offrant votre main à votre reflet.

//« Bonjour, je m&#39;appelle $name, ravie de vous rencontrer... non, ce ne sera plus le matin à ce point... et ce n&#39;est pas vraiment l&#39;après-midi alors... peut-être quelque chose comme ça à la place ? Bonjour, merci de m&#39;avoir invitée, je m&#39;appelle $name... Ugh... c&#39;est trop bizarre. »//

Vous passez le reste de la soirée à expliquer au miroir comment vous présenter, quoi répondre à leurs questions, quoi dire si certains sujets sont abordés et juste au cas où, vous écrivez une liste de questions que vous pourriez leur poser.

Vous sentant plus ou moins préparée pour demain, vous vous installez dans votre lit, lorsque vous entendez votre téléphone vibrer et voyez une notification sur votre téléphone. C&#39;est un texto de Kelsie.

&lt;div class=&quot;message&quot;&gt;//J&#39;ai hâte que tu rencontres tout le monde demain.
Pour info, je m&#39;occupe du déjeuner demain, donc si tu m&#39;envoies un texto après 9h, je ne pourrai pas te répondre.
Je t&#39;aime $name. K//&lt;/div&gt;

Vous lui répondez à quel point votre excitation vous tient debout et que vous l&#39;aimez. Vous ne pouvez pas vous empêcher de sourire en fermant les yeux. Espérons que demain se passera sans problème. En pensant à elle, vous vous endormez profondément.

[[Continuer|Saturday]] </tw-passagedata><tw-passagedata pid="217" name="Saturday_frf" tags="done" position="2450,2392" size="100,100">//&#39;&#39;BZZZT... BZZZT...&#39;&#39;//

Vous vous réveillez brusquement et tendez le bras vers votre téléphone. Votre réveil vient juste de sonner. C&#39;est une bonne chose que Kelsie ait changé votre sonnerie récemment, votre cerveau s&#39;habituait vraiment à l&#39;ancienne.

Toujours à moitié endormie, vous vous dirigez vers la salle de bain pour prendre une douche rapide. Vous réalisez lentement que vous allez rencontrer les parents de Kelsie pour la première fois aujourd&#39;hui. Vous commencez à vous sentir un peu anxieuse à l&#39;idée de tout gâcher d&#39;une manière ou d&#39;une autre. Vous ne voulez pas décevoir Kelsie dans tout ça.

Vous regardez le miroir et voyez dans sa réflexion votre &lt;&lt;if $outfit lt 1&gt;&gt;tenue originale&lt;&lt;elseif $outfit gt 1&gt;&gt;jean et chemise à fleurs&lt;&lt;else&gt;&gt;élégant smoking&lt;&lt;/if&gt;&gt; accroché derrière vous. Vous êtes bien contente de vous avoir préparée un peu hier. Vous vous souvenez soudainement avoir parlé au miroir hier.

//« C’était vraiment la préparation d&#39;entretien la plus étrange que j&#39;ai jamais faire de ma vie, »// pensez-vous.

Vous entrez dans la douche chaude et vous vous débarrassez un peu du stress attaché à vos épaules. Vous essayez de vous rappeler que tout devrait bien se passer aujourd’hui.

Vous sortez de la douche et vous vous préparez. Étourdie d&#39;excitation, vous ne pouvez pas arrêter de penser à quel point vous avez hâte de rencontrer tout le monde et de rendre Kelsie fière.

[[Continuer|Leaving]]</tw-passagedata><tw-passagedata pid="218" name="Leaving_frf" tags="done" position="2575,2392" size="100,100">Prête à partir, vous regardez l&#39;heure. Si vous partez maintenant, vous pourrez toujours arriver à l’heure... enfin... pour un petit-déjeuner tardif. Vous vous asseyez en ruminant dans votre souffle. Vous auriez pu vous réveiller plus tard, dormir un peu plus longtemps et être toujours à l&#39;heure pour le déjeuner. Néanmoins, avant de commencer à vous tourner les pouces en attendant que le temps passe, vous devriez réfléchir sérieusement au moment de partir pour la maison des Sparks.

Vous saisissez l&#39;adresse que Kelsie vous a donnée sur votre application de navigation. Vous voyez que vous avez besoin de compter environ 30 minutes pour vous y rendre avec le trafic actuel.

Vous décidez de :
* [[partir à l’heure indiquée sur l’application. Ils ont bien des algorithmes qui calculent ce genre de chose. Tout devrait bien aller. |GPS][$time to 0]]
* [[partir 30min en avance. On ne sait jamais ce qu’il peut arriver en route. Le trafic pourrait empirer à partir du moment où vous vous mettez au volant. |30Early][$time to 1]]
* [[partir encore plus tôt. Il vaut mieux arriver un peu tôt qu’en retard. 1h en avance devrait faire l’affaire. |60Early][$time to 2]]</tw-passagedata><tw-passagedata pid="219" name="GPS_frf" tags="done" position="2700,2267" size="100,100">Vous décidez de faire confiance à l&#39;algorithme. Après tout, ils sont suffisamment compliqués pour prendre en compte tout ce qui pourrait arriver avec le trafic. De plus, n&#39;est-il pas à la mode d&#39;être un peu en retard ?

Comme vous avez quelques heures devant vous, vous décidez d&#39;allumer votre ordinateur portable et de continuer à regarder votre série pour passer le temps. De temps en temps, vous vérifiez l&#39;heure pour voir si vous pouvez toujours regarder un autre épisode ou non.

Alors que le suspense ferme ce dernier épisode, vous réalisez qu&#39;il est temps pour vous de partir. Vous mettez votre ordinateur portable de côté et vous vous dirigez vers la porte pour récupérer vos clés, votre portefeuille et votre téléphone.&lt;&lt;if $outfit is 0&gt;&gt; Instinctivement, vous essayez de les mettre dans vos poches. Jusqu&#39;à ce que vous vous rendiez compte que votre tenue n&#39;en a pas. Il n&#39;y a qu&#39;une quantité limitée de tissu pour couvrir vos parties intimes, et certainement pas assez pour une poche. Vous regardez autour de vous et trouvez par terre une banane couverte de poussière.

//« Eh bien, cela devrait faire l&#39;affaire ! »// vous pensez en l’attachant à vos hanches, y insérant vos affaires et quittant l&#39;appartement.&lt;&lt;else&gt;&gt; Vous les mettez dans votre poche et quitter l’appartement.&lt;&lt;/if&gt;&gt;

Vous montez dans votre voiture et configurez votre téléphone. Alors que l&#39;application de navigation calcule le meilleur moyen d&#39;atteindre votre destination, vous remarquez que les routes que vous devez emprunter ne sont pas colorées en vert comme elles devraient l&#39;être.

//« Et merde… »//

Vous avez encore été induite en erreur par votre téléphone. L&#39;écran montre que le trafic s&#39;est accumulé depuis toute à l’heure. Si vous accélérez un peu sur certaines parties de la route ou faites un petit détour pour éviter la circulation, vous devriez pouvoir arriver à temps pour le déjeuner.

Vous démarrez votre voiture et continuez votre chemin.

[[Continuer|Stop]] 
</tw-passagedata><tw-passagedata pid="220" name="60Early_frf" tags="done" position="2700,2517" size="100,100">//« Mieux vaut arriver trop tôt que trop tard »//, pensez-vous.

Vous ne voulez pas vous ridiculiser en suivant une application qui est, par nature, imparfaite. Ils ne peuvent pas prendre en compte maintenant ce qui pourrait arriver à l&#39;avenir. Il pourrait y avoir plus de trafic que prévu, ou pire un accident qui l&#39;arrête complètement.

Puisque vous avez décidé de partir 1 heure plus tôt, vous n&#39;avez pas besoin d&#39;attendre trop longtemps à la maison. Tourner les pouces est amusant au début, mais vous n&#39;auriez pas pu rester plus longtemps si vous deviez attendre plus longtemps que cela.

Quand le moment arrive enfin, vous vous levez. Vous vous dirigez vers la porte pour récupérer vos clés, votre portefeuille et votre téléphone.&lt;&lt;if $outfit is 0&gt;&gt; Instinctivement, vous essayez de les mettre dans vos poches. Jusqu&#39;à ce que vous vous rendiez compte que votre tenue n&#39;en a pas. Il n&#39;y a qu&#39;une quantité limitée de tissu pour couvrir vos parties intimes, et certainement pas assez pour une poche. Vous regardez autour de vous et trouvez par terre une banane couverte de poussière.

//« Eh bien, cela devrait faire l&#39;affaire ! »// vous pensez en l’attachant à vos hanches, y insérant vos affaires et quittant l&#39;appartement.&lt;&lt;else&gt;&gt; Vous les mettez dans votre poche et quitter l’appartement.&lt;&lt;/if&gt;&gt;

Vous montez dans votre voiture et configurez votre téléphone.

//« Ha! »// vous exclamez-vous en regardant l&#39;écran.

Comme vous l&#39;aviez prévu, l’application montre que le trafic s&#39;est accumulé. Vous ne vous inquiétez pas beaucoup car vous avez amplement le temps d&#39;arriver à destination. Vous démarrez votre voiture et continuez votre chemin.

[[Continuer|Stop]] </tw-passagedata><tw-passagedata pid="221" name="30Early_frf" tags="done" position="2700,2392" size="100,100">//« Mieux vaut arriver un peu tôt que tard »//, pensez-vous.

Vous ne voulez pas vous ridiculiser en suivant une application qui est, par nature, imparfaite. Ils ne peuvent pas prendre en compte maintenant ce qui pourrait arriver à l&#39;avenir. Il pourrait y avoir plus de trafic que prévu, ou pire un accident qui l&#39;arrête complètement. Vous ne voulez vraiment pas être coincé sur la route et arriver en retard.

Puisque vous avez décidé de partir 30 minutes plus tôt, vous n&#39;avez pas besoin d&#39;attendre trop longtemps à la maison. Se tourner les pouces est amusant au début, mais on s&#39;ennuie assez vite. Vous souhaitez qu&#39;il soit déjà moment de partir.

Quand le moment arrive enfin, vous vous levez. Vous vous dirigez vers la porte pour récupérer vos clés, votre portefeuille et votre téléphone.&lt;&lt;if $outfit is 0&gt;&gt; Instinctivement, vous essayez de les mettre dans vos poches. Jusqu&#39;à ce que vous vous rendiez compte que votre tenue n&#39;en a pas. Il n&#39;y a qu&#39;une quantité limitée de tissu pour couvrir vos parties intimes, et certainement pas assez pour une poche. Vous regardez autour de vous et trouvez par terre une banane couverte de poussière.

//« Eh bien, cela devrait faire l&#39;affaire ! »// vous pensez en l’attachant à vos hanches, y insérant vos affaires et quittant l&#39;appartement.&lt;&lt;else&gt;&gt; Vous les mettez dans votre poche et quitter l’appartement.&lt;&lt;/if&gt;&gt;

Vous montez dans votre voiture et configurez votre téléphone. Comme vous l&#39;aviez prévu, l’application montre que le trafic s&#39;est accumulé. Vous espérez être partie assez tôt pour arriver à l&#39;heure. Vous démarrez votre voiture et continuez votre chemin.

[[Continuer|Stop]]  
</tw-passagedata><tw-passagedata pid="222" name="Stop_frf" tags="done" position="2825,2392" size="100,100">En chemin vers la maison des Sparks, vous vous demandez si vous ne devriez pas vous arrêter quelque part et acheter quelque chose à offrir aux parents de Kelsie. Vous essayez de penser à ce qui pourrait être approprié d&#39;apporter à quelqu&#39;un, lorsque vous êtes invitée chez eux. Vous auriez aimé avoir posé la question à Kelsie avant de partir. L&#39;appeler maintenant serait inutile, elle a mentionné qu&#39;elle serait occupée à cuisiner les plats avant le déjeuner.

À un carrefour, vous voyez plusieurs magasins, entre autres, une cave, un fleuriste et une boulangerie. Vous essayez de vous souvenir de ce que vous avez appris jusqu&#39;à présent sur sa famille. Vous vous souvenez vaguement d&#39;une vieille histoire à propos d&#39;un membre de la famille qui jure de ne plus boire d&#39;alcool. Ne voulant rien risquer, vous le rayez de votre liste mentale. Vous vérifiez également l&#39;heure. Si vous vous arrêtez pour obtenir quelque chose prendrait un certain temps et pourrait vous mettre en retard. Faut-il vraiment s&#39;arrêter et courir ce risque ?

Que choisissez-vous de faire ?
* [[Vous vous arrêtez devant le fleuriste et choisissez un bouquet bien pensé de belles fleurs.|Flower][$present to 2]]
* [[Vous vous arrêtez devant la boulangerie et obtenez un délicieux assortiment de petits gâteaux pour le dessert. |Dessert][$present to 1]]
* [[Vous ne vous arrêtez pas. Il faut mieux de pas courir le risque d’être en retard aujourd’hui|Nothing][$present to 0]]

&lt;&lt;if $memory is &quot;flower&quot;&gt;&gt;
&lt;&lt;linkappend &quot;Hint&quot;&gt;&gt;&lt;&lt;dialog &#39;Votre Souvenir&#39;&gt;&gt;\Vos pensées se souviennent immédiatement de cette nuit-là, lorsque Kelsie a évoqué pour la première fois l&#39;idée de ce déjeuner. Vous vous souvenez qu&#39;elle avait beaucoup plus apprécié le bouquet que vous lui aviez apporté que les bonbons.\&lt;&lt;/dialog&gt;&gt;&lt;&lt;/linkappend&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="223" name="Nothing_frf" tags="done" position="2950,2592" size="100,100">Vous décidez de ne pas vous arrêter en chemin. Inutile de perdre plus de temps dans la circulation et d&#39;arriver trop tard. Mieux vaut prévenir que guérir.

&lt;&lt;if $outfit is 0&gt;&gt;Vous remarquez après un certain temps que vous obtenez des regards étranges sur la route. Surtout aux intersections, où les gens regardent plus souvent autour d&#39;eux. Vous vous demandez ce qui les poussent à vous regarder de cette façon et pourquoi ils mettent leur nez dans les affaires des autres. D&#39;un autre côté, cela vous fait plaisir de voir des enfants gloussant en vous pointant du doigt et vous faisant coucou.

&lt;&lt;elseif $outfit is 1&gt;&gt;À une intersection, un homme vous fait signe et fait un mouvement vous demandant de baisser votre vitre. Intriguée, vous obéissez. L&#39;homme vous crie dessus, espérant que sa voix soit plus forte que le bruit ambiant :

//« Tu as l&#39;air fringante, meuf ! Passe une bonne journée ! »//

Avant que vous ne puissiez répondre, le feu passe au vert et sa voiture accélère. Son compliment vous accompagne pour le reste du voyage.

&lt;&lt;/if&gt;&gt;Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival]] </tw-passagedata><tw-passagedata pid="224" name="Dessert_frf" tags="done" position="2950,2392" size="100,100">&lt;&lt;if $outfit is 2&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;Vous décidez de vous arrêter à la boulangerie pour un délicieux dessert. Vous vous garez devant la porte et entrez dans la boutique.

La boulangerie est presque vide, surtout pour le moment de la journée. Vous sentant chanceuse, vous décidez que vous prendrez votre temps pour choisir quoi prendre. Ou peut-être suivez-vous simplement la recommandation de l&#39;employée, qui se trompe rarement après tout.

// « Bonjour ! Comment puis-je vous aider aujourd&#39;hui ? » // demande l&#39;employée au comptoir, d&#39;une voix monotone. Elle ne semble pas vouloir être ici en ce moment.
// « Bonjour. Je rencontre les parents de ma copine pour la première fois aujourd&#39;hui et je voulais leur apporter un dessert. Pouvez-vous me recommander une bonne sélection ? »
« Bien sûr. Une préférence de goût ? Une restriction alimentaire ? »
« Euh… » //, murmurez-vous.

Peut-être que ce n&#39;était pas la meilleure idée d&#39;apporter un dessert sans demander à Kelsie d&#39;abord. Et maintenant, il était trop tard pour lui demander. Vous vous rendez compte que lorsque l&#39;occasion se présentait, elle préparait et apportait généralement les friandises. Les gens évitaient de les faire exprès, car les siens étaient clairement supérieurs. Il est maintenant aussi trop tard pour reculer et y arriver sans rien en mains.

//« Aucune préférence de goût. Ni de restriction à ma connaissance. Pouvez-vous me donner une sélection simple qui est aimée généralement à la plupart des gens ? »
« Ooook... Je vais te mettre des petites tartes aux fruits. Puis quelques crémeux et quelques-uns au chocolat. »//

Elle emballe bien la boîte avec les friandises à l&#39;intérieur. Vous la remerciez abondamment pour son aide, elle lève les yeux au ciel et vous sourit faussement. Vous payez et passez votre chemin.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival]]

&lt;&lt;elseif $outfit is 1&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;Vous décidez de vous arrêter à la boulangerie pour un délicieux dessert. Vous vous garez devant la porte et entrez dans la boutique.

La boulangerie est presque vide, surtout pour le moment de la journée. Vous sentant chanceuse, vous décidez que vous prendrez votre temps pour choisir quoi prendre. Ou peut-être suivez-vous simplement la recommandation de l&#39;employée, qui se trompe rarement après tout.

// « Bonjour ! Comment puis-je vous aider... Oh ! » // s&#39;exclame l&#39;employée au comptoir, s&#39;arrêtant net après vous avoir jeté un coup d&#39;œil. //« Si j&#39;avais su que quelqu&#39;un d&#39;aussi séduisante entrerait dans la boutique aujourd&#39;hui, j&#39;aurais porté quelque chose de plus joli »//, ajoute-t-elle en vous faisant un clin d&#39;œil.

Vous commencez à rougir. Ce n&#39;est pas tous les jours que les gens vous remarquent comme ça. Bien qu&#39;il soit agréable d&#39;être complimentée sur votre apparence, vous vous sentez également un peu gênée par cela.

//« Est-ce qu&#39;il est là maintenant... »// l&#39;employée regarde autour de lui, comme si elle cherchait quelqu&#39;un. Quand il est clair que l&#39;endroit est vide, elle ajoute : //« Je ne fais pas ça d&#39;habitude... Dis beauté, tu es libre plus tard ? Tu voudrais prendre un verre avec moi ? Je t’invite. »//

Abasourdie par l&#39;attitude de l&#39;employée, vous ne pouvez pas vous empêcher de rester là, la bouche ouverte. Elle remarque et rit.

//« J&#39;ai cet effet sur les gens. Alors qu&#39;est-ce que tu dis, ma mignonne ? »
« Je... je ne m&#39;attendais pas vraiment à ça, »// vous marmonnez.
// « Et si je te donnais mon numéro et tu décides plus tard ? »//

Elle écrit quelque chose sur l&#39;une des cartes de visite de la boulangerie et vous la remet.

Que faites-vous ?
* [[Vous acceptez son numéro avec un sourire, en lui promettant de répondre à son invitation plus tard. |Number][$cheating to 2]]
* [[Acceptez la carte distraitement, en notant mentalement de la jeter plus tard. |Number][$cheating to 1]]
* [[Refusez la carte, vous avez déjà une petite amie. |Number]]

&lt;&lt;else&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;Vous décidez de vous arrêter à la boulangerie pour un délicieux dessert. Vous vous garez devant la porte et entrez dans la boutique.

La boulangerie est presque vide, surtout pour le moment de la journée. Vous sentant chanceuse, vous décidez que vous prendrez votre temps pour choisir quoi prendre. Ou peut-être suivez-vous simplement la recommandation de l&#39;employée, qui se trompe rarement après tout.

// « Bonjour ! Comment puis-je vous aider... Oh ! » // dit l&#39;employée au comptoir, s&#39;arrêtant net après vous avoir jeté un coup d&#39;œil. // « Euh... non. Je ne m&#39;occupe pas de ça aujourd&#39;hui. »//

Vous êtes prise de court. Pourquoi ne s&#39;occuperait-elle pas de vous ? Vous la voyez se diriger vers une porte derrière elle, l&#39;entrouvrir et crier après quelqu&#39;un dans la pièce du fond.

// « Dimitri ! Il y a une autre cinglée dans la boutique. Tu ne me paies vraiment pas assez pour gérer cette merde. S&#39;il te plaît occupe-t’en toi. Je pars en pause. »//

Elle retourne vers le comptoir et enlève son tablier. Elle vous regarde à nouveau, secoue la tête et se déplace vers une autre pièce. La porte de l&#39;arrière-boutique s&#39;ouvre et un homme musclé d&#39;apparence slave y en sort. Avec ses manches retroussées, vous pouvez voir des cicatrices profondes sur de ses gros muscles. Un couteau à la main, il a l&#39;air de pouvoir vous massacrer sans cligner des yeux. Il vous regarde et soupire.

// « Pourquoi tu entres dans la boutique, habillée comme ça ? » // dit-il avec un fort accent slave, se déplaçant de haut en bas de son bras, pointant vers votre tenue. // « Très irrespectueux. »// Il porte sa main vide à son visage et se frotte le front. // « Dimitri ne te sert pas. Mieux vaut dégager. »
« Mais… mais le client est roi ! Vous devez me servir ! » // Vous avez déjà essayé cette ligne, mais cette fois, cela devrait fonctionner !
// « Ou quoi ? Tu saccages ma boutique ? Ah ! Je veux voir ça. »
« Je veux juste avoir des gâteaux. Et vous aller m&#39;en servir ! »
« Si tu ne pars pas, »// commence-t-il en poignardant le couteau directement sur le comptoir, // « il y aura des problèmes. »//

Vous avalez avec douleur.

Que faites-vous ?
* [[Restez et affrontez Dimitri. Ce n&#39;est pas ainsi qu&#39;un employé doit traiter un client, quelle que soit sa tenue. C&#39;est juste de la discrimination ! |StayB][$shop to &quot;cake1&quot;][$present to 0]]
* [[Reculez et quittez la boutique. Mieux vaut ne pas essayer d&#39;avoir des ennuis. Pas aujourd&#39;hui ! |Leave][$shop to &quot;cake&quot;][$present to 0]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="225" name="Flower_frf" tags="done" position="2950,2242" size="100,100">&lt;&lt;if $outfit is 2&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;Vous décidez de vous arrêter chez le fleuriste pour acheter un beau bouquet. Vous vous souvenez il y a quelque temps, vous aviez apporté un bouquet à Kelsie et elle l&#39;avait vraiment apprécié. Vous aviez fait de votre mieux en choisissant les fleurs et donner un sens au bouquet. Peut-être, vous devriez faire de même ici ?

Vous vous garez devant la porte et entrez dans la boutique. Heureusement pour vous, il semble que les étagères des magasins soient pleines de fleurs et de toutes sortes. Vous voyez une femme au comptoir, finissant avec un client.

//« Quel genre de message devrais-je essayer de faire passer ? »// vous dites à voix basse. Plus important encore, quel type de fleur transmettrait votre message. Il y a tellement de fleurs représentant l&#39;amour, mais vous ne savez pas encore si vous aimez ses parents. Pourquoi pas leur dire que vous les respectez ou que vous êtes heureuse de les rencontrer ?

// « Bonjour ! »// l&#39;employée derrière vous vous salue, vous faisant sursauter de surprise. // « Wow, quelle jolie chemise. J&#39;adore le design avec les fleurs. Je sais que ce n&#39;est pas vraiment professionnel de demander, mais où l&#39;avez-vous obtenu ? »
« Ce vieux truc ? Je ne suis pas sûr… C&#39;était un cadeau. Je pense que c&#39;est vintage ? »
« Oh ! C&#39;est dommage... » // l&#39;employée réagit avec un air un peu attristé. // « Eh bien, cela la rend encore plus spécial. Si jamais vous décidez de vous en séparer, faites-le moi savoir ! »// Puis après un petit silence gêné : // « Quoi qu&#39;il en soit, puis-je vous aider à choisir des fleurs ? »
« Eh bien... Euh... »// vous dites, ayant perdu le fil de vos pensées. Vous marmonnez une seconde avant de vous exclamer : // « Oui, en fait. S&#39;il vous plaît. Je rencontre les parents de ma petite amie pour la première fois aujourd&#39;hui et je voulais leur faire un bouquet personnalisé et significatif. Vous savez, en langage fleuri. »
« Ooh ! Comme c&#39;est spécial ! La plupart des fleurs ont un message général, mais elles peuvent être significatives de différentes manières pour différentes personnes. Vous avez un message en tête que vous voulez essayer de transmettre ? »
« Eh bien, je veux leur dire que je suis heureuse de les rencontrer et/ou que je les respecte. Quelque chose dans ce sens. »
« Mmh. Voyons voir... »// Elle réfléchit quelques minutes, après quoi elle continue et cueille des fleurs : // « Les jonquilles représentent généralement le respect. Les crocus devraient signifier la gaieté, mais nous pourrions le transformer ça en bonheur dans votre cas. Je ne sais pas vraiment quelle fleur signifierait une rencontre difficile... mais comme je peux supposer que vous pourriez être un peu anxieuse de rencontrer les parents de votre petite amie et vouloir leur faire plaisir, peut-être que des brins de lierre vrilles blanches devrait faire l&#39;affaire ? Ajoutons des giroflées pour l&#39;affection et des feuilles vertes pour envelopper le tout. Ça vous va ? »
« Ça a l&#39;air parfait. Merci ! »//

Elle enveloppe les fleurs dans du papier et l’entoure de corde pour lui donner un aspect rustique. Vous la remerciez encore pour son aide, payez et partez. Vous espérez avoir pris les bonnes fleurs. Vous êtes presque sûre que Kelsie a mentionné à un moment donné que le passe-temps des Sparks était de s&#39;envoyer des messages avec des fleurs.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks

[[Continuer|Arrival]]
&lt;&lt;elseif $outfit is 1&gt;&gt;&lt;&lt;set $time -= 1&gt;&gt;Vous décidez de vous arrêter chez le fleuriste pour acheter un beau bouquet. Vous vous souvenez il y a quelque temps, vous aviez apporté un bouquet à Kelsie et elle l&#39;avait vraiment apprécié. Vous aviez fait de votre mieux en choisissant les fleurs et donner un sens au bouquet. Peut-être, vous devriez faire de même ici ?

Vous vous garez devant la porte et entrez dans la boutique. Heureusement pour vous, il semble que les étagères des magasins soient pleines de fleurs et de toutes sortes. Vous voyez une femme au comptoir, finissant avec un client.

// « Quel genre de message devrais-je essayer de faire passer ? »// vous dites à voix basse. Plus important encore, quel type de fleur transmettrait votre message. Il y a tellement de fleurs représentant l&#39;amour, mais vous ne savez pas encore si vous aimez ses parents. Pourquoi pas leur dire que vous les respectez ou que vous êtes heureuse de les rencontrer ?

// « Bonjour ! »// l&#39;employée derrière vous vous salue, vous faisant sursauter de surprise. Elle vous regarde de haut en bas et sourit. // « En quoi puis-je vous aider aujourd&#39;hui ? Vous cherchez une plante en pot ? Un bouquet de fleurs ? J&#39;ai de jolies roses de Juliette qui viennent d&#39;arriver. Voudriez-vous y jeter un coup d’œil ? »
« Eh bien... Euh... »// vous dites, ayant perdu le fil de vos pensées. Vous marmonnez une seconde avant de vous exclamer : // « Oui, en fait. S&#39;il vous plaît. Je rencontre les parents de ma petite amie pour la première fois aujourd&#39;hui et je voulais leur faire un bouquet personnalisé et significatif. Vous savez, en langage fleuri. Cependant, je ne pense pas que les roses soient appropriées pour cette occasion. »
« Ooh ! Comme c&#39;est spécial ! La plupart des fleurs ont un message général, mais elles peuvent être significatives de différentes manières pour différentes personnes. Même les roses. Vous avez un message en tête que vous voulez essayer de transmettre ? »
« Eh bien, je veux leur dire que je suis heureuse de les rencontrer et/ou que je les respecte. Quelque chose dans ce sens. »
« Mmh. Voyons voir... »// Elle réfléchit quelques minutes, après quoi elle continue et cueille des fleurs : // « Les jonquilles représentent généralement le respect. Les crocus devraient signifier la gaieté, mais nous pourrions le transformer ça en bonheur dans votre cas. Je ne sais pas vraiment quelle fleur signifierait une rencontre difficile... mais comme je peux supposer que vous pourriez être un peu anxieuse de rencontrer les parents de votre petite amie et vouloir leur faire plaisir, peut-être que des brins de lierre vrilles blanches devrait faire l&#39;affaire ? Ajoutons des giroflées pour l&#39;affection et des feuilles vertes pour envelopper le tout. Ça vous va ? »
« Ça a l&#39;air parfait. Merci ! »
« Super ! Les roses vous intéressent toujours ? »//

Elle semble vraiment insister pour vous vendre des roses aujourd&#39;hui. Mal à l&#39;aise avec ses tactiques de vente, vous vous grattez la tête et marmonnez un //&quot;Non merci&quot;//. Elle vous sourit, mais vous pouvez remarquer une certaine déception sur son visage. Elle enveloppe les fleurs dans du papier et l’entoure de corde pour lui donner un aspect rustique. Vous la remerciez encore pour son aide, payez et partez. Vous espérez avoir pris les bonnes fleurs. Vous êtes presque sûre que Kelsie a mentionné à un moment donné que le passe-temps des Sparks était de s&#39;envoyer des messages avec des fleurs.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival]]
&lt;&lt;else&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;&lt;&lt;set $present to 0&gt;&gt;Vous décidez de vous arrêter chez le fleuriste pour acheter un beau bouquet. Vous vous souvenez il y a quelque temps, vous aviez apporté un bouquet à Kelsie et elle l&#39;avait vraiment apprécié. Vous aviez fait de votre mieux en choisissant les fleurs et donner un sens au bouquet. Peut-être, vous devriez faire de même ici ?

Vous vous garez devant la porte et entrez dans la boutique. Heureusement pour vous, il semble que les étagères des magasins soient pleines de fleurs et de toutes sortes. Vous voyez une femme au comptoir, finissant avec un client.

// « Quel genre de message devrais-je essayer de faire passer ? »// vous dites à voix basse. Plus important encore, quel type de fleur transmettrait votre message. Il y a tellement de fleurs représentant l&#39;amour, mais vous ne savez pas encore si vous aimez ses parents. Pourquoi pas leur dire que vous les respectez ou que vous êtes heureuse de les rencontrer ?

// « Bonjour ! »// l&#39;employée derrière vous vous salue, vous faisant sursauter de surprise. Elle vous regarde de haut en bas et fronce les sourcils. // « Je suis désolé, mais je dois vous demander de partir. Nous ne servons pas les clients qui ne portent pas une tenue correcte. »//

Vous avez l&#39;air confuse au début. Comme le remarque l&#39;employée, elle pointe vers votre corps. Cela vous tombe dessus. Elle veut dire que votre tenue funky n&#39;est pas appropriée ici.

//« Mais… le client n&#39;est-il pas roi ? »
« Peu importe. Nous avons le droit de refuser de servir nos clients. »
« Mais j&#39;ai vraiment besoin d&#39;un bouquet ! »
« S&#39;il vous plaît, ne commencez pas à faire une scène. Je vais vous demander à nouveau de partir. Si vous refusez, j’appellerai les autorités. »//

Que faites-vous ?
* [[Restez et faites une scène. Ce n&#39;est pas ainsi qu&#39;un employé doit traiter un client, quelle que soit sa tenue. C&#39;est juste de la discrimination ! |StayF][$shop to &quot;flower1&quot;]]
* [[Reculez et quittez la boutique. Mieux vaut ne pas impliquer la police, pas avec votre tenue actuelle. |Leave][$shop to &quot;flower&quot;]]

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="226" name="Leave_frf" tags="done" position="3075,2392" size="100,100">Vous quittez la boutique les mains vides. Vous remontez dans votre voiture et réfléchissez. Peut-être avez-vous encore le temps de faire un arrêt supplémentaire ?

Que faites-vous ?
&lt;&lt;if $try isnot &quot;true&quot;&gt;&gt;* [[Vous essayez l’autre magasin. Peut-être que vous aurez plus de chance cette fois-ci ? |Other][$try to &quot;true&quot;]]
* [[Vous ne poussez pas d’avantage et oubliez l’autre magasin. Il est peut-être plus prudent d’aller directement chez les Sparks. |Empty]]
&lt;&lt;else&gt;&gt;* &#39;&#39;Vous avez déjà essayé l’autre magasin.&#39;&#39;
* [[Vous avez gâchez assez de temps déjà, voulant acheter un cadeau. Il vaudrait mieux aller directement chez les Sparks. |Empty]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="227" name="Number_frf" tags="done" position="3075,2517" size="100,100">&lt;&lt;if $cheating is 2&gt;&gt;Vous acceptez la carte en souriant. Ce n&#39;est pas tous les jours que quelqu&#39;un vous drague. Surtout depuis que Kelsie est devenue votre petite amie. Ça fait toujours du bien d&#39;avoir son ego boosté de temps en temps. En prenant la carte, vous remarquez qu&#39;elle a écrit son nom.

// « Jessie… »// vous murmurez.
//« C&#39;est moi, beauté. S&#39;il te plaît, promets-moi que tu m&#39;enverra un message… »//

Vous regardez son visage. Elle est d’une certaine beauté. Pas aussi élevée que Kelsie, mais quand même très attirante. Surtout avec ses longs cheveux noirs bouclés et ses yeux verts perçants. Il y a quelque chose de très mystérieux chez elle. Vous voudriez certainement prendre un verre avec elle plus tard et apprendre à la connaître.

//« Promis, je t’enverrai un message. »
« Tu devrais probablement mettre mon numéro dans ton téléphone. On ne sait jamais ce qui peut arriver. Autant de poches trouées, autant d&#39;endroits où perdre un tout petit bout de papier… »//

Elle vous convainc facilement, voyant que vous sortez votre téléphone de votre poche. Vous ne voyez pas vraiment de mal à y ajouter son numéro. Après tout, vous avez promis que vous lui enverriez un texto. //Qui sait… Si quoi que ce soit, elle pourrait devenir une très bonne amie,// vous dites-vous en y entrant son numéro. Lorsque vous avez terminé, vous lui envoyez un message directement.

// « Voilà. N&#39;ai-je pas rempli ma promesse ? »//

Jessie sort son téléphone et son visage s&#39;illumine lorsqu&#39;elle voit la notification à l&#39;écran. Soudain, son visage change lorsqu&#39;elle réalise quelque chose.

// « Oh, attends... tu n&#39;es pas là pour acheter quelque chose ? »
« Un peu de ton temps plus tard ? »
« Oh toi ! » // elle rougit
// « Si c&#39;est encore sur la table, je voudrais aussi des gâteaux »
 « Bien sûr. Tu as une certaine préférence ? »
« Surprend-moi ! » // vous lui faites un clin d&#39;œil.

Elle choisit une large gamme de petits gâteaux et les emballe soigneusement dans une boîte. Elle l’encaisse et vous murmure :
// « J&#39;en ai ajouté quelques extras, gratuit. »//

Vous la remerciez abondamment pendant que vous payez. Vous récupérez la boîte et lui souhaitez une bonne journée en partant. Lorsque vous arrivez à votre voiture, votre téléphone vibre. Vous voyez un message de Jessie.

C&#39;était sympa de sa part de vous donner des gâteaux supplémentaires, mais devriez-vous continuer à lui parler ?

* [[Mieux vaut répondre à son message. Il serait impoli de l&#39;ignorer après qu&#39;elle ait été si gentille avec vous. |Text][$cheating +=1]]
* [[Mieux vaut ignorer son message. Rien de bon ne viendra de ça. |Text][$cheating -=1]] 
&lt;&lt;elseif $cheating is 1&gt;&gt;Vous acceptez la carte avec un air distrait, la mettant dans votre poche, espérant que l&#39;employée vous laisse tranquille. Vous savez qu&#39;il y a des types de personnes qui n’acceptent pas non comme réponse. Aussi gentiment que vous puissiez essayer de les refuser, ils doubleront leur action ou deviendront méchants. Et vous êtes juste là pour acheter des gâteaux.

//« Je suis content que tu aies fait le bon choix »,// insiste l&#39;employée. // « Tu devrais mettre mon numéro dans ton téléphone, sinon tu perdras probablement la carte. »
« Je le ferai plus tard, promis. »
« Mieux vaut le mettre dedans maintenant »//, insiste-t-elle encore. // « On ne sait jamais ce qui se passe avec de petits morceaux de papier. C&#39;est si facile de les jeter. Tant de trous dans les pantalons. »
« Et ça y ira bien sur mon téléphone… Je ne l&#39;ai tout simplement pas sur moi pour le moment. C&#39;est dans ma voiture. Je le ferai après avoir acheté des gâteaux. »//

L&#39;employé boude un peu. Ce n&#39;est certainement pas la réponse qu&#39;elle cherchait. Mais vous ne lui mentez pas vraiment. Votre téléphone est dans la voiture. Au bout d&#39;un moment, vous l&#39;entendez soupirer.

// « Tu promets ? »
« Promis ! »
« Eh bien, d&#39;accord… Qu’est-ce que je peux t’arranger ? »
« Tu peux me recommander une belle sélection de petits fours ? »
« Bien sûr. Une préférence de goût ? Une restriction alimentaire ? »
« Euh… » //, murmurez-vous.

Peut-être que ce n&#39;était pas la meilleure idée d&#39;apporter un dessert sans demander à Kelsie d&#39;abord. Et maintenant, il était trop tard pour lui demander. Vous vous rendez compte que lorsque l&#39;occasion se présentait, elle préparait et apportait généralement les friandises. Les gens évitaient de les faire exprès, car les siens étaient clairement supérieurs. Il est maintenant aussi trop tard pour reculer et y arriver sans rien en mains.

// « Pas de préférence de goût. Ou de restriction à ma connaissance. Tu peux me faire une sélection simple qui est aimée généralement à la plupart des gens ? »
« Pas de soucis... Je vais te mettre des petites tartes fruitées. Et quelques crémeux et quelques-uns au chocolat. »//

Elle emballe bien la boîte avec les friandises à l&#39;intérieur. Vous la remerciez abondamment pour son aide. Elle vous rappelle à nouveau son numéro lorsque vous franchissez la porte de la boulangerie.

Son dernier commentaire vous exaspère. Elle était déjà si peu professionnelle vous invitant à sortir avec elle comme ça. Et puis vous pousser tellement à accepter son numéro. Agacé par son comportement, vous mettez les desserts dans votre voiture et récupérez votre téléphone. Vous marchez jusqu&#39;à la porte de la boulangerie mais vous ne l&#39;ouvrez pas, téléphone visible à la main. Vous voyez le visage de l&#39;employé s&#39;illuminer. Vous souriez en sortant la carte de votre poche. Vous l&#39;émiettez et jetez les morceaux dans la poubelle à côté de vous. Vous regardez à nouveau l&#39;employé, choqué par votre action. Heureuse de voir cette réaction, vous vous retournez et rentrez de nouveau dans votre voiture.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival][$cheating -=1]] 
&lt;&lt;else&gt;&gt;Vous êtes surpris par l’audace de l&#39;employée. Bien sûr, vous avez été draguée dans le passé, mais ce n&#39;est pas comme si vous y aviez vraiment prêté attention. Surtout depuis que Kelsie est devenue votre petite amie. Habituellement, les gens vous laissent tranquille lorsqu&#39;ils réalisent à quel point vous êtes mal à l&#39;aise ou parce que vous êtes juste très silencieuse.

// « Err... »// vous essayez de trouver les bons mots pour répondre. // « Je suis vraiment flattée, mais j&#39;ai déjà une petite amie. »
« Eh bien, elle ne peut pas être aussi bonne que moi. Allez, beauté, prends-la. Vois comment tu te sens plus tard. »
« Je ne préfère pas. Je ne suis pas intéressée. Tromper ma petite amie n’est pas quelque chose que je veuille faire. »
« Ce n&#39;est pas tromper s&#39;il ne se passe rien. Et prendre la carte ne veut pas dire que tu vas faire quoi que ce soit. Tiens, prends-la ! »
« Ecoute, je suis juste venu ici pour des gâteaux. »//

L&#39;employée fait la moue et marmonne : //« Si c&#39;est comme ça que ça se passe… T&#39;es pas si belle que ça en fait… »// Elle émiette la carte et la jette de côté. Elle se retourne vers vous, comme si vous veniez de l&#39;insulter.

// « Alors ? Qu&#39;est-ce que tu veux ? » // aboie-t-elle.
// « Est-ce que je peux avoir une sélection de petits gâteaux ? »
« Quel genre ? »
« Un peu de tout ? »
« Combien de quel genre ? »
« Puis-je juste- »
« Elle ne peut même pas répondre à une simple question, hein ? » // se plaint-elle en levant les mains en l&#39;air. // « Je suppose que je dois vraiment tout faire ici. »//

Elle semble sélectionner au hasard des gâteaux dans la vitrine, sans trop de précautions lors de leur manipulation. Elle les emballe dans une boîte et les encaisse pour vous. Vous vous rendez compte qu&#39;avec le nombre de gâteaux dans la boîte, elle a dû vous surfacturer.

// « Je pense qu’il a peut-être une erreur ici... »
« Ne me dis pas comment faire mon travail. Paie ou dégage ! »//

Il semble que la douce personnalité qu&#39;elle avait lorsque vous êtes entré dans la boutique a complètement disparu. Vous pouvez essayer de la raisonner et obtenir le prix correct pour votre commande. Mais en voyant comment elle a géré les confiseries en les mettant dans la boîte, vous ne lui faites pas vraiment confiance pour ne pas les écraser encore plus. Vous soupirez et payez à contrecœur le prix sur le registre. Peut-être que si vous aviez accepté la carte après tout, elle aurait été plus gentille avec vous…

Elle vous jette la boîte et vous montre la porte. Vous marmonnez une // Bonne journée // en partant. Elle ne répond pas.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks. 

[[Continuer|Arrival]] 
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="228" name="Text_frf" tags="done" position="3200,2517" size="100,100">&lt;&lt;if $cheating is 3&gt;&gt; Vous décidez de répondre au message de Jessie. Après tout, il serait impoli de l&#39;ignorer alors qu&#39;elle a clairement fait tout son possible pour être sympa avec vous. Non seulement cela, mais elle vous a gracieusement offert des sucreries supplémentaires. Kelsie n&#39;a pas besoin de savoir ce qu’il s’est passé. Vous ouvrez son message.

&lt;div class=&quot;message&quot;&gt; Heyyy toi. Je viens de réaliser. Je ne t&#39;ai jamais demandé ton nom. Et tu ne me l&#39;as pas donné quand tu m&#39;as envoyé ce message plus tôt. En ce moment, je t&#39;ai juste sous //Cutie//. Jessie &lt;/div&gt;

Vous rigolez un peu en lisant son message et pensez à une bonne riposte. Vous finissez par lui dire que cela ne vous dérange pas d&#39;être sur son téléphone sous le nom //Cutie//, car pour être honnête, vous en êtes vraiment une. Vous aimez avoir une identité mystérieuse après tout.

Avec votre ego tout boosté, vous démarrez votre voiture et partez. Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

[[Continuer|Arrival]] 
&lt;&lt;else&gt;&gt; Vous décidez que répondre à son message serait une erreur. C&#39;était amusant de plaisanter comme ça avec quelqu&#39;un et d&#39;en tirer un gâteau gratuit. Mais si Kelsie le découvre, vous aurez de gros ennuis. Vous finissez par supprimer directement le message de Jessie et bloquer son numéro. Il est toujours bon d&#39;effacer ses traces.

Vous démarrez votre voiture et partez. Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.
 
[Continuer|Arrival]] 
&lt;&lt;/if&gt;&gt;

</tw-passagedata><tw-passagedata pid="229" name="Empty_frf" tags="done" position="3200,2392" size="100,100">&lt;&lt;if $try is &quot;true&quot;&gt;&gt;Vous vous sentez très frustrée que les deux magasins aient refusé de vous servir. Vous secouez la tête. Qu&#39;est devenu ce pays ? Où est la liberté ? Et si quelqu&#39;un veut porter une tenue bizarre à l&#39;extérieur ? Ne devrait-il pas être leur prérogative ? Les gens peuvent être si critiques.

Encore une pensée s&#39;attarde dans votre tête. Vous commencez à vous demander si vous avez fait le bon choix en portant cette tenue. C&#39;est peut-être un peu trop &quot;excentrique&quot; pour la plupart des gens. Vous haussez les épaules. Sauf, qu’il est trop tard maintenant pour revenir en arrière et changer.

Vous remontez dans votre voiture et commencez à conduire. Vous regardez le siège vide à côté de vous. Tous ces efforts pour rien. Vous soupirez. Vous espérez que vous n&#39;avez pas perdu trop de temps à flâner dans ces magasins sans intérêt.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks.

&lt;&lt;else&gt;&gt;Vous vous sentez un peu frustrée que &lt;&lt;if $shop is &quot;cake&quot;&gt;&gt;la boulangerie&lt;&lt;else&gt;&gt;le fleuriste&lt;/if&gt;&gt; ait refusé de vous servir. Vous secouez la tête. Qu&#39;est devenu ce pays ? Où est la liberté ? Et si quelqu&#39;un veut porter une tenue bizarre à l&#39;extérieur ? Cela ne devrait-il pas être leur prérogative ? Les gens peuvent être si critiques.

Encore une pensée s&#39;attarde dans votre tête. Vous commencez à vous demander si vous avez fait le bon choix en portant cette tenue. C&#39;est peut-être un peu trop &quot;excentrique&quot; pour la plupart des gens. Vous haussez les épaules. Sauf, qu’il est trop tard maintenant pour revenir en arrière et changer.

Vous remontez dans votre voiture et commencez à conduire. Vous regardez le siège vide à côté de vous. Tous ces efforts pour rien. Vous soupirez. Vous espérez que vous n&#39;avez pas perdu trop de temps à flâner dans ces magasins sans intérêt.

Vous continuez votre voyage sans encombre et arrivez bientôt à la maison des Sparks. 

&lt;&lt;/if&gt;&gt;
[[Continuer|Arrival]] 
</tw-passagedata><tw-passagedata pid="230" name="Other_frf" tags="done" position="3200,2267" size="100,100">&lt;&lt;if $shop is &quot;flower&quot;&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;Comme la fleuriste a refusé de vous servir, vous espérez un meilleur résultat à la boulangerie en obtenant un délicieux dessert. Vous vous garez devant la porte et entrez dans la boutique.

La boulangerie est vide, surtout pour le moment de la journée. Vous sentant chanceuse, vous décidez que vous prendrez votre temps pour choisir quoi prendre. Ou peut-être vous suivrez simplement la recommandation de l&#39;employée, qui se trompe rarement après tout.

// « Bonjour ! Comment puis-je vous aider... Oh ! » // dit l&#39;employée au comptoir, s&#39;arrêtant net après vous avoir jeté un coup d&#39;œil. // « Euh... non. Je ne vais pas m&#39;occuper de ça aujourd&#39;hui. »//

Vous êtes prise de court. Pourquoi ne s&#39;occuperait-elle pas de vous ? Vous la voyez se diriger vers une porte derrière elle, l&#39;entrouvrir et crier après quelqu&#39;un dans la pièce du fond.

// « Dimitri ! Il y a une autre cinglée qui est arrivée. Tu ne me paies vraiment pas assez pour gérer cette merde. S&#39;il te plaît occupe-t’en toi. Je pars en pause. »//

Elle retourne vers le comptoir et enlève son tablier. Elle vous regarde à nouveau, secoue la tête et se déplace vers une autre pièce. La porte de l&#39;arrière-boutique s&#39;ouvre et un homme musclé d&#39;apparence slave y en sort. Avec ses manches retroussées, vous pouvez voir des cicatrices profondes sur de ses gros muscles. Un couteau à la main, il a l&#39;air de pouvoir vous massacrer sans cligner des yeux. Il vous regarde et soupire.

// « Pourquoi tu entres dans la boutique, habillée comme ça ? » // dit-il avec un fort accent slave, se déplaçant de haut en bas de son bras, pointant vers votre tenue. // « Très irrespectueux. »// Il porte sa main vide à son visage et se frotte le front. // « Dimitri ne te sert pas. Mieux vaut dégager. »
« Mais… mais le client est roi ! Vous devez me servir ! » // Vous avez déjà essayé cette ligne, mais cette fois, cela devrait fonctionner !
// « Ou quoi ? Tu saccages ma boutique ? Ah ! Je veux voir ça. »
« Je veux juste avoir des gâteaux. Et vous aller m&#39;en servir ! »
« Si tu ne pars pas, »// commence-t-il en poignardant le couteau directement sur le comptoir, // « il y aura des problèmes. »//

Vous avalez avec douleur.

Que faites-vous ?

* [[Restez et affrontez Dimitri. Vous avez déjà été refusée une fois. Pas de nouveau ! |StayB][$shop to &quot;cake2&quot;]]
* [[Reculez et quittez la boutique. Mieux vaut ne pas essayer d&#39;avoir des ennuis. Pas aujourd&#39;hui ! |Leave]]

&lt;&lt;else&gt;&gt;&lt;&lt;set $time -= 0.5&gt;&gt;Comme la boulangerie a refusé de vous servir, vous espérez que le fleuriste vous permettra d&#39;acheter un beau bouquet. Vous vous souvenez il y a quelque temps, vous aviez apporté un bouquet à Kelsie et elle l&#39;avait vraiment apprécié. Vous aviez fait de votre mieux pour choisir ces fleurs et donner un sens au bouquet. Vous pourriez peut-être refaire de même ?

Vous vous garez devant la porte et entrez dans la boutique. Heureusement pour vous, il semble que les étagères des magasins soient pleines de fleurs et de toutes sortes. Vous voyez une femme au comptoir, finissant avec un client.

//« Quel genre de message devrais-je essayer de faire passer ? »// dites-vous à voix basse. Plus important encore, quel type de fleur transmettrait votre message. Il y a tellement de fleurs représentant l&#39;amour, mais vous ne savez pas encore si vous aimez ses parents. Peut-être leur dire que vous les respectez ou que vous êtes heureuse de les rencontrer ?

// « Bonjour ! »// l&#39;employée derrière vous vous salue, vous faisant sursauter de surprise. Elle vous regarde de haut en bas et fronce les sourcils. //« Je suis désolé, mais je dois vous demander de partir. Nous ne servons pas les clients qui ne portent pas une tenue correcte. »//

Vous avez l&#39;air confuse au début. Comme le remarque l&#39;employée, elle pointe vers votre corps. Cela vous tombe dessus. Elle veut dire que votre tenue funky n&#39;est pas appropriée ici.

//« Mais… le client n&#39;est-il pas roi ? »
« Peu importe. Nous avons le droit de refuser de servir nos clients. »
« Mais j&#39;ai vraiment besoin d&#39;un bouquet ! »
« S&#39;il vous plaît, ne commencez pas à faire une scène. Je vais vous demander à nouveau de partir. Si vous refusez, j’appellerai les autorités. »//

Que faites-vous ?
* [[Restez et faites une scène. Vous avez déjà été refusée une fois. Pas de nouveau ! |StayF][$shop to &quot;flower2&quot;]]
* [[Reculez et quittez la boutique. Mieux vaut ne pas impliquer la police, pas avec Kelsie qui vous attend. |Leave]]
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="231" name="StayB_frf" tags="done" position="3075,2267" size="100,100">&lt;&lt;set $store to &quot;cake&quot;&gt;&gt;Vous avez décidé de rester à la boulangerie et d&#39;affronter cette personne appelée Dimitri. Ses menaces ne vous font pas peur. &lt;&lt;if $shop isnot &quot;cake1&quot;&gt;&gt; Vous en avez assez des magasins qui refuse de vous servir. &lt;&lt;/if&gt;&gt;Vous ne pouvez pas supporter ce manque de service client. Peu importe que vous portiez une tenue légère ou un habit de prêtre, les gens ne devraient pas traiter les clients de cette façon.

//« Vous vous attendez à ce que JE quitte ce magasin les mains VIDES ? »// vous criez à l&#39;homme slave. //« Je me fiche de la raison, mais vous ne pouvez pas traiter les gens comme MOI comme ça. Je peux porter ce qui me plaît et les gens ne peuvent rien y faire. C&#39;est la loi ! JE DEMANDE que vous me serviez. JE VEUX QUELQUES FOUTUS GÂTEAUX ! »//

L&#39;homme soupire, déjà épuisé par vos ébats. Il semble savoir ce qui devrait arriver, et semble avoir déjà vu ce genre de chose auparavant.
//« Écoutez, je suis sorti parce qu&#39;elle n&#39;est pas douée au travail. »// dit-il en hochant la tête à la porte, où l&#39;employée est allée prendre sa pause. //« Je n&#39;ai pas le temps pour ta crise de bébé. Je dois terminer cette commande. Sort. »
« Résultant aux insultes maintenant ? Wow ! C&#39;est vraiment mature de ta part ! Comment oses-tu m&#39;appeler un bébé ? Tu veux voir un bébé, hein ? Je vais te montrer un bébé. Putain, donne-moi juste les gâteaux. »
« S&#39;il vous plait, ne- »  //

Mais il est déjà trop tard. Vous prenez des croissants sur le comptoir et les lancez sur l&#39;homme. Il lève son bras devant son visage pour se protéger. Vous commencez à agiter vos bras comme ces tubes gonflés devant les concessionnaires automobiles. Tout sur leurs passages est renversé au sol. Les menus tombent par terre. Les serviettes volent dans l’air. Vous continuez à attraper des choses autour de vous pour les jeter soit chez Dimitri, soit autour de la boutique.

//« Vas-y mec, viens vers moi ! » // vous criez en narguant l&#39;homme slave. // « Fais de ton pire. »//

Vous ne savez pas comment vous pourriez même l&#39;affronter dans un combat, mais une intense accumulation de frustration à l&#39;intérieur de vous attend juste de sortir. L&#39;homme fait le tour du comptoir pour vous rejoindre. Comme un enfant, vous vous enfuyez de l&#39;autre côté du comptoir.

// « Ha! Trop lent. Tu ne peux pas m&#39;atteindre, hein. »//

Dimitri grogne. Vous réalisez alors que vous vous trouvez devant la vitrine en verre, où ils présentent leurs gâteaux. Une idée folle vous traverse l&#39;esprit. Vous survolez les gâteaux avec votre main.

// « Non ! Ne fais pas ça. Pas hygiénique. » // plaide Dimitri. //« Si tu te calmes, je te donne du gâteau. D’accord ? C&#39;est ce que tu veux, non ? Des gâteaux savoureux. »//

Vous faites une pause pendant une seconde. // Admet-il sa défaite ? Si tôt ? // Votre tête ne parait plus être au bon endroit. Il semble que vous ayez complètement oublié d’obtenir des gâteaux et le déjeuner avec Kelsie. Une seule pensée reste dans votre esprit, se répétant de plus en plus fort. //Vas-y. Fais-le.// Dimitri continue de vous supplier, d&#39;essayer de vous éloigner des produits de boulangerie. //Fais-le. Fais-le.// Vous avez un sourire méchant sur votre visage et refusez de suivre sa demande.

//FAIS-LE.//

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; Votre main atterrit sur le gâteau qu&#39;elle avait plané au-dessus. Tout dans la boulangerie s&#39;immobilise un instant. Vous voyez le visage de Dimitri passer de suppliant à horrifié.

//Encore une fois, // dit la voix dans votre tête. Vous suivez la commande, comme si vous étiez la marionnette de quelque chose de mal à l&#39;intérieur de vous. Votre main se soulève du gâteau que vous venez de détruire et passe au suivant. Dimitri tombe à genoux et vous supplie d&#39;arrêter.

//Encore une fois!// Vous en écrasez un autre à la main. Les larmes coulent sur les joues de Dimitri, alors qu&#39;il sent les heures passées à les cuire gaspillées pour votre plaisir écœurant. //ENCORE!// Et un autre. Vous entendez Dimitri marmonner // « Non. Non. Non... »// toujours en train de pleurer. Vous avez l&#39;air complètement dément, ivre d&#39;une sorte de pouvoir sur l&#39;homme sanglotant.

Vous vous lassez vite de détruire les précieux gâteaux de Dimitri. Après l&#39;avoir fait une fois, cela commence à perdre son attrait. Vous passez à détruire une autre partie de la boulangerie. Quoi que vous fassiez, votre cerveau rationnel semble complètement impuissant à vous arrêter. À un moment donné, vous vous accrochez au registre pour une raison quelconque, en essayant de le déplacer. C&#39;est à ce moment-là que vous entendez la sonnette retentir lorsque la porte s&#39;ouvre.

// « Hey ! Va falloir que tu t&#39;éloignes du registre et que tu lèves les mains en l&#39;air. » // vous entendez une voix autoritaire dire.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; Vous regardez d&#39;où vient la voix et vous voyez un policier pointer son arme sur vous. Instinctivement, vous suivez la commande. Vous réalisez que quelque chose ne va pas ici. Vous voyez enfin le carnage que vous avez apporté à la boulangerie. Le policier s&#39;approche de vous et commence à vous menotter.

//« Évidemment, tu es en état d&#39;arrestation ici »,// et continue de vous lire vos droits.

Il vous met à l&#39;écart, s&#39;assurant que vous ne recommencerez pas à bouger, avant de s&#39;occuper de Dimitri qui sanglote encore devant la vitrine. L&#39;employée sort de la pièce latérale et discute avec le policier. Elle avait appelé le commissariat pendant que vous deveniez dément. Elle explique à l&#39;officier que le physique et le comportement intimidant de Dimitri empêchaient généralement les clients indisciplinés à se comporter comme des fous ; mais le boulanger n&#39;était qu&#39;un tendre dans l&#39;âme et ne voulait rien d&#39;autre que rendre les gens heureux avec ses confections.

L&#39;officier demande à Dimitri s&#39;il veut porter plainte contre vous, mais le slave, toujours sous le choc, ne répond pas. L&#39;employée répond à l&#39;agent et promet d&#39;amener Dimitri au poste lorsqu&#39;il se sentira prêt. Elle apportera également le rouleau des bandes de sécurité en même temps. L&#39;officier la remercie et revient vous chercher. Il vous regarde et soupire.

//« Ce sont toujours ceux sans vêtements qui font toujours les choses les plus étranges. Y a-t-il quelque chose à toi ici ? »//

Vous secouez la tête, tout est encore dans votre banane. L&#39;officier vous saisit par le bras et sort de la boulangerie. En partant, vous regardez à l&#39;intérieur et voyez l&#39;employée essayant de consoler Dimitri, sanglotant toujours devant ses pâtisseries.

L&#39;officier vous pousse sur la banquette arrière de sa voiture et se rend au commissariat. Votre voiture reste sur le parking devant la boulangerie. Vous vous rendez compte que vous avez laissé votre téléphone à l’intérieur, car il vous donnait la direction des parents de Kelsie. //Oh non… Kelsie…//

[[Continuer|Station]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="232" name="StayF_frf" tags="done" position="3075,2142" size="100,100">&lt;&lt;set $store to &quot;flower&quot;&gt;&gt;Vous avez décidé de rester dans la boutique de fleur et de faire une scène. &lt;&lt;if $shop isnot &quot;flower1&quot;&gt;&gt;Vous avez déjà été refusée une fois aujourd&#39;hui ; on ne vous refusera pas d&#39;être servi une fois de plus ! &lt;&lt;/if&gt;&gt;Les menaces de l&#39;employée ne vous font pas peur. Elle peut appeler les flics autant qu&#39;elle veut ; vous ne bougerez pas tant que vous n&#39;aurez pas les fleurs que vous vouliez. &lt;&lt;if $shop isnot &quot;flower1&quot;&gt;&gt;Vous ne pouviez pas obtenir de gâteau mais vous obtiendrez ces fleurs ! &lt;&lt;/if&gt;&gt;Vous ne pouvez pas supporter ce manque de service client. Peu importe que vous portiez une tenue légère ou un habit de prêtre, les gens ne devraient pas traiter les clients de cette façon.

//« Vous vous attendez à ce que JE quitte le magasin les mains VIDES ? »// vous criez à la femme. // « Je me fiche de la raison, mais vous ne pouvez pas traiter les gens comme MOI comme ça. Je peux porter ce qui me plaît et les gens ne peuvent rien y faire. C&#39;est la loi ! JE DEMANDE que vous me serviez. JE VEUX CES FOUTUES FLEURS ! »//

La femme soupire et retourne au comptoir. //Non, ça ne va pas…// Vous attrapez sa chemise, essayant de la maintenir en place. Elle se raidit.

// « Relâche moi tout de suite. »
« Eh, ne t&#39;éloigne pas de moi quand je te parle, »// vous répondez, tenant toujours le tissus de sa chemise.
// « Lâche. Moi. Tout. De. Suite, »// se répète-t-elle avec raideur.
// « Je le ferai quand tu me donneras ces fleurs. »//

Cette réponse ne satisfait pas l&#39;employée. Elle se retourne rapidement et frappe avec son poing sur votre bras. Vous criez de douleur et la relâchez. Elle court jusqu&#39;à l’arrière du comptoir pour s’y cacher, attrapant un téléphone en chemin.

// « Si tu ne pars pas, j&#39;appelle la police. » //

Vous pouvez sentir quelque chose d&#39;intense bouillonner en vous, une sorte de frustration refoulée qui s&#39;accumulait depuis un moment, essayant d&#39;éclater. Vous commencez à voir rouge.

//« Résultant à des menaces hein? Vraiment ? Si vous ne pouvez pas gérer vos clients, vous n&#39;auriez pas dû ouvrir une boutique, »// vous lui criez dessus.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; Vous regardez autour de vous et voyez plusieurs seaux remplis de fleurs au sol et accrochés au mur. Vous en attrapez un et le lancez vers le comptoir. Il vole au-dessus, percute le mur derrière et tombe sur l&#39;employée. Elle crie de surprise alors que ses vêtements s’imbibent de l&#39;eau du seau. Son cri ne fait qu&#39;alimenter votre colère. Vous prenez un autre seau et le jetez à l&#39;intérieur du magasin. Les fleurs volent dans l’air et se répandent sur le sol.

//« 911, quelle est votre urgence ? »// vous entendez faiblement derrière le comptoir.

Entendre cela vous fait grincer des dents. Comment ose-t-elle appeler les flics ? Bien sûr, elle vous a prévenue, mais vous ne pensiez pas qu&#39;elle le ferait. Les gens n&#39;appellent pas les flics sur leurs clients. Dans votre rage, vous prenez un autre seau et le jetez par-dessus le comptoir. Vous criez des obscénités vers le comptoir. En raison du bruit qui sort de votre bouche, vous n&#39;entendez rien de ce que l&#39;employée dit à l&#39;opérateur.

Vous prenez un autre seau, pour le lancer à nouveau. Vous voyez, plus loin dans la boutique, un présentoir de vases dans une étagère en verre. À ce stade, vous voulez juste casser des choses autour de vous. Vous jetez le seau vers l&#39;étalage. Il frappe un vase vert au milieu. Vous entendez des éclats de verre, lorsque le vase se brise. Quelques secondes plus tard, une cacophonie de verre brisé s&#39;ensuit. Le seau lancé n&#39;a pas seulement touché le vase vert, mais d&#39;autres vases autour et une partie du cadre de l&#39;étagère. L&#39;ensemble de l&#39;affichage s&#39;effondre.

Il y a un long silence après cela. Vous entendez des sanglots venant de l’arrière du comptoir. Vous vous demandez si l&#39;employée pleure. //Bien. Cela lui apprendra à ne pas servir ses clients.// Votre corps commence à se calmer. Bizarrement, plus les pleurs durent, plus vous vous calmez. Comme si votre cerveau se nourrissait de la souffrance des autres.

//Ting-a-ling.//

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; La porte du magasin s&#39;ouvre derrière vous. Vous vous retournez et voyez un policier entrer.

// « Ugh ! Ce sont toujours les gens tout nus qui font les choses les plus bizarres... Pourquoi est-ce que j’étais être si près quand l&#39;appel est arrivé ? » // gémit le policier après vous avoir reluqué.

Vous vous figez sur place, un autre seau encore dans vos mains. Votre cerveau, reconnaissant le danger voyant l&#39;officier, essaie de se resynchroniser avec la réalité. Vous commencez à réaliser ce qui vient de se passer ici. Ce que vous avez fait. Dans le carnage, sur le sol mouillé par l&#39;eau que vous avez renversée, se trouve un tapis de fleurs gâchées et de verre brisé. L&#39;employée se lève enfin, frissonnant de peur et à cause de l&#39;eau qui lui ai tombé dessus. Le policier se rapproche de vous. Il enlève le seau de vos mains, le met de côté et commence à vous menotter.

//« Evidement, vous êtes en état d&#39;arrestation ici »,// et continue de vous lire vos droits.

Il vous met à l&#39;écart, s&#39;assurant que vous ne recommencerez pas à bouger, avant de se charger de l&#39;employée qui tremble toujours. Elle explique à l&#39;officier ce que vous aviez fait ici, après qu’elle ait refusé de vous servir. Entendre votre action à travers la voix de quelqu&#39;un d’autre vous atteint plus que vous ne le pensiez. Vous commencez à avoir peur lorsque vous apprenez que le magasin a une caméra de surveillance et que tout a été enregistré.

L&#39;agent demande à l&#39;employée si elle veut porter plainte contre vous. Elle répond que les propriétaires voudront probablement le faire pour réparer les dégâts à l&#39;intérieur du magasin, mais qu&#39;ils viendront au commissariat plus tard. Elle veut par contre porter plainte contre vous pour ce que vous lui avez fait.

L&#39;officier la remercie et promet de la contacter lorsqu&#39;ils auront besoin de sa déposition. Il revient ensuite vous chercher et regarde votre tenue.

//« Quelque chose à vous par terre ? »//

Vous secouez la tête. Tout est encore dans votre banane. L&#39;officier vous saisit par le bras et sort de la boutique. En partant, vous regardez à l&#39;intérieur et voyez l&#39;employée se tenir en train de pleurer.

L&#39;officier vous pousse sur la banquette arrière de sa voiture et se rend à la station. Votre voiture reste sur le parking. Vous vous rendez compte que vous avez laissé votre téléphone là-dedans, car il vous donnait la direction des parents de Kelsie. //Oh non… Kelsie…//

[[Continuer|Station]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="233" name="Station_frf" tags="done" position="3200,2142" size="100,100">De nombreuses heures se sont écoulées depuis que vous êtes entrée dans le commissariat. À votre arrivée, les policiers ont noté votre nom, votre adresse et le numéro de téléphone d&#39;une personne de contact. Sans réfléchir, vous donnez le numéro maison de vos parents. Ils vous demandent de leur donner vos clés et votre portefeuille, avant de vous pousser dans une cellule.

Peu de temps après qu&#39;ils vous y ont mis, une demande de renfort a été faite. Il y avait une ruée dans la station, la plupart des agents la quittant, y compris celui qui vous avait amené. On ne parlait pas beaucoup de ce qui se passait. Vous avez essayé plusieurs fois d&#39;attirer l&#39;attention des quelques officiers qui sont restés, mais ils ont continué à vous ignorer.

Vous vous êtes résolue à rester allongée sur le banc et à attendre que le temps passe. Vous essayez de rejouer la série d&#39;événements qui vous ont conduit ici, au lieu de déjeuner chez les Sparks. //Merde !// Kelsie va être furieuse envers vous. Vous faites de votre mieux pour ne pas y penser. Vous ne pouvez pas faire grand-chose maintenant de toute manière. Après un certain temps, vous commencez à vous endormir.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;
//&quot;Hey! La nudiste. Vous êtes libre,» // un officier vous aboie en ouvrant la porte de la cellule.

Vous roulez des yeux. Vous n&#39;êtes clairement pas une nudiste. Il y a du tissu sur vous, du matériel couvrant des parties qui ne devraient pas être à l&#39;air libre. Bien sûr, il n&#39;y a pas grand-chose à couvrir, mais c&#39;est quand même là. Vous vous levez du banc et quittez la cellule. L&#39;agent vous remet un sac en plastique avec vos affaires.

//« J&#39;ai été récupérée par un agent &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;à la boulangerie&lt;&lt;else&gt;&gt;chez le fleuriste&lt;&lt;/if&gt;&gt;. Est-ce que ma voiture est toujours là ?
« Probablement, » // l&#39;officier hausse les épaules.
//« Est-ce qu’on peut me déposer là-bas ? »
« T&#39;es pas mon cas. Demande à la réception. »//

Vous vous dirigez vers l’accueil de la station. A la réception est assis un vieil homme à moitié endormi. Il y a une cloche sur le comptoir. Vous passez votre main devant les yeux du vieil homme. Pas de réponse. Vous sonnez la cloche. Toujours pas de réponses. Vous continuez à sonner jusqu&#39;à ce que l&#39;homme bouge. Après quelques instants, vous l&#39;entendez grogner.

//« Je suis réveillé, je suis réveillé. Je ne dormais pas, chef ! » // Puis, après vous avoir levé les yeux : // « Oh, la jeune femme nue de ce matin. Toujours là, hein ? Que puis-je faire pour toi ? »
« J’ai besoin qu’on m’ammène &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;à la boulangerie&lt;&lt;else&gt;&gt;chez le fleuriste&lt;&lt;/if&gt;&gt;. Ma voiture est encore garée là bas… Je crois. »
« Eh bien, généralement, nous les récupérons et les laissons à la fourrière d&#39;à côté. Peux-tu me donner ton nom ? »
« $name Smith. »
« Hmm. Voyons voir. » // Il tape quelque chose sur le clavier et regarde intensément l&#39;écran de l&#39;ordinateur. Il commence à plisser les yeux, confus. //« Bizarre... Il n&#39;y a rien. Ta voiture doit vraiment être encore devant &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;cette boulangerie&lt;&lt;else&gt;&gt;ce fleuriste&lt;&lt;/if&gt;&gt;, comme tu l’as dit. »// 

Il fait le tour de la station. Eslle est encore vide. Quelle que soit l&#39;urgence annoncée auparavant, elle doit être toujours en cours.

//« Ah ! Il n&#39;y a personne. Ceci explique cela. Attends une seconde. » // Il porte son talkie-walkie à son visage. //« Andrew, tu es là ? ... C&#39;est George à la réception. Il y a une jeunôtte qui a besoin d&#39;être conduite jusqu&#39;à L-street. Tu peux l’emmener ? ... Merci ! » // Il se retourne vers vous. //« Andrew sera avec toi dans un instant. Pourquoi tu t’asseyerais pas ? Je vais aller te chercher une couverture pour te couvrir. »//

George se lève et va dans une arrière-salle. Il revient bientôt avec un sourire, tenant une épaisse couverture grise dans ses mains. Il vous la remet.

//« Ce serait vraiment sympa si tu la ramenais. Quand tu auras plus de vêtements sur le dos, eh. »//

Vous l&#39;enroulez autour de vous. C&#39;est grossier mais chaud. Ce n&#39;est pas vraiment confortable, mais cela vous fait vous sentir un peu mieux.

&lt;&lt;Linkreplace &quot;Continuer&quot;&gt;&gt;Un grand mec entre dans la pièce. Il salue George et ils discutent un peu. George vous montre alors du doigt et l&#39;homme lui fait un signe de tête.

//« Hé gamine ! Andrew est là pour t’emmener. »//

Andrew vous fait signe de le suivre dehors. Vous remarquez que le soleil s&#39;est presque couché, mais il reste encore de la lumière. Vous avez dû y passer tout l&#39;après-midi. Vous quittez la station et vous vous dirigez vers la voiture d&#39;Andrew. Le trajet jusqu&#39;&lt;&lt;if $store is &quot;cake&quot;&gt;&gt;à la boulangerie &lt;&lt;else&gt;&gt;au fleuriste &lt;/if&gt;&gt;est assez court. La boutique où vous avez fait du tapage est désormais fermée. Vous soupirez. Vous ne pourrez probablement plus jamais y entrer. Au revoir &lt;&lt;if $store is &quot;cake&quot;&gt;&gt;gâteaux merveilleusement savoureux&lt;&lt;else&gt;&gt;belles fleurs douces&lt;/if&gt;&gt; !

Vous remerciez Andrew pour la conduite et montez dans votre voiture pour rentrer à la maison.

[[Continuer|END9]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;

</tw-passagedata><tw-passagedata pid="234" name="END9_frf" tags="done END" position="3325,2142" size="100,100">Lorsque vous entrez dans votre voiture, vous faites le tour pour voir si tout est là. Rien ne cloche. Vous trouvez toujours votre téléphone là où vous l&#39;avez laissé ce matin. Cependant, la batterie est complètement déchargée. 

Vous mettez le contact en espérant de toutes vos forces que la batterie de la voiture ne mourra pas sur vous non plus. Heureusement, la voiture démarre et vous pouvez rentrer chez vous. En chemin, vous parvenez à recharger votre téléphone, mais évitez de l&#39;allumer tout de suite. Vous êtes presque sûre que Kelsie doit être furieuse contre vous, d&#39;autant plus que vous ne lui avez même pas envoyé de message. Mais vous ne voulez pas faire face à ça tout de suite, surtout en conduisant.

Lorsque vous rentrez chez vous, vous rassemblez tout votre courage et allumez votre téléphone. Vous avez de nombreuses notifications sur votre téléphone. Certaines viennent de vos parents. Certaines viennent de Kelsie. Vous redoutez plus d&#39;ouvrir ce dernier que le premier.

// « Aah. Quel bordel. »//

Message List:
* &lt;&lt;linkappend &quot;Message 1&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;12:15
Hey $name. Le déjeuner est presque prêt. Tu arrives quand ? Je t’aime, K.&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 2&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;12:45
Hey $name. Nous avons assez faim et la nourriture commence à refroidir. Je suppose que nous déjeunerons sans toi. Est-ce que tout va bien ? Je t’aime, K.&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 3&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;12:50
Tu penses que tu arriveras à temps pour le dessert et le café au moins ? K.&lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 4&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;14:00
Je suppose que tu ne viendras pas du tout finalement. :/ &lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;
* &lt;&lt;linkappend &quot;Message 5&quot;&gt;&gt;&lt;div class=&quot;message&quot;&gt;16:50
J&#39;aurais aimé que tu me préviennes au moins. Ou au moins m’avoir dit que tu va bien. Je suis vraiment inquiète pour toi. &lt;/div&gt;&lt;&lt;/linkappend&gt;&gt;

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;Vous soupirez. Vous finirez par devoir l&#39;affronter à un moment ou un autre. Vous décidez cependant de lire d’abord ce que vous avez manqué aujourd&#39;hui. Vos parents sont furieux d&#39;avoir reçu un appel de la police pour une caution, surtout après avoir entendu ce que vous aviez fait. Votre esprit passe en revue vos souvenirs du magasin et du carnage que vous en avez fait. Vous ne pouvez même pas espérer que cela n&#39;a pas été filmé, puisque l&#39;employée a confirmé qu&#39;elle transmettrait la bande de la caméra de surveillance à la police. Vous mettez vos mains dans vos mains et sanglotez. //Où ai-je mal tourné aujourd&#39;hui ?//

Vous êtes interrompue par votre téléphone, ayant reçu un nouveau message de Kelsie.

&lt;div class=&quot;message&quot;&gt;//J&#39;ai fait de mon mieux pour être patiente.
J&#39;ai même envoyé un message à tes parents sur les réseaux sociaux. Il s&#39;avère qu&#39;ils ne savent même pas que j&#39;existe ?!?!
Aussi, ils m&#39;ont dit que tu étais en cellule au commissariat ??? Apparemment tu aurais fait une scène &lt;&lt;if $shop is &quot;cake&quot;&gt;&gt;dans une boulangerie&lt;&lt;else&gt;&gt;chez un fleuriste&lt;&lt;/if&gt;&gt; ce matin, et que tu t&#39;es fait arrêter.
Je ne pense pas pouvoir excuser tout ça. Aujourd&#39;hui, c&#39;était vraiment quelque chose d’important pour moi. Je n&#39;aime pas être un secret pour les gens. Je n&#39;ai pas non plus besoin d&#39;un projet à régler. Prends soin de toi. Au revoir $name.//&lt;/div&gt;

Vous voyez une notification sous son message : //Vous ne pouvez pas répondre à cet utilisateur.// Vous supposez qu&#39;elle vous a bloquée.

Quelques jours plus tard, vous détaillez les événements à vos amis autour de quelques verres. Ils n&#39;arrivent pas à croire ce qui s&#39;est passé mais en rigolent bien. En le disant à voix haute, vous comprenez que tout cela semble trop improbable pour être vrai. Pourtant, c&#39;est une histoire amusante quand les gens sont ivres.

Cela devient une histoire moins drôle lorsque des extraits de la vidéo de surveillance sont partagés sur Internet. Cela ressemble à ces innombrables autres vidéos de personnes qui hurlent aux employés dans les magasins sans raison valable. Chaque fois que vous la voyez apparaître, vous avez très honte de vous-même. Heureusement pour vous, votre visage a été flouté. Mais, vous savez que vous ne pourrez plus jamais porter cette tenue. Vous décidez alors de la brûler. Cela vous a porté trop de malchance de toute façon.

L&#39;entreprise et son employée ont décidé de porter plainte contre vous en dommages et intérêts. Grâce à vos parents, vous finissez par ne faire que quelques travaux d&#39;intérêt général et payer une lourde amende. Vous avez réussi à convaincre le juge que vous étiez vraiment désolée et honteuse de ce qu’il s&#39;était passé. Il vous est également interdit d&#39;entrer dans le magasin pour toujours ou d&#39;entrer en contact avec les employés.

Au fil du temps, lorsque vous racontez l&#39;histoire, vous prétendez que ces évènements sont arrivés à un ami. C&#39;est moins embarrassant et les gens ne vous évitent pas après que vous l&#39;ayez racontée. Il est assez facile de trouver cette vidéo ou des articles sur l&#39;affaire après tout.

Vous ne savez toujours pas ce qui vous a rendu si déséquilibrée face au refus de l’employée du magasin de vous servir ce jour-là. C&#39;était comme si quelque chose était entrée dans votre corps à ce moment-là et vous a rendu folle.

... Ou était-ce juste une partie de vous depuis le début ?

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Caprice »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
&lt;&lt;set $tantrum to true&gt;&gt;</tw-passagedata><tw-passagedata pid="235" name="Arrival_frf" tags="done" position="3325,2392" size="100,100">//« Vous êtes arrivée à destination, »// sonne l&#39;application de navigation sur votre téléphone.

Devant vous se dressent deux haies hautes de 10 mètres de haies à fleurs épaisses séparées par une route de gravier étroite. Il ne semble pas y avoir quoi que ce soit au-delà. Vous vous demandez si vous avez fait un mauvais virage ou une erreur en tapant l&#39;adresse. Ne voyant aucun signe de vie, vous vérifiez à nouveau votre téléphone. L&#39;écran confirme que vous êtes bien arriveé à l&#39;adresse que Kelsie vous a donnée.

//« Je suppose que la maison doit être cachée derrière la haie. C&#39;est si épais qu’on peut presque rien voir. »//

Vous prenez votre courage à deux mains et commencez à rouler plus loin sur la route de gravier. En passant la haie, votre champ de vision augmente et un grand jardin se dresse devant vous. Dans un style semi-britannique, vous voyez des buissons de fleurs de toutes les couleurs imaginables, poussant à côté de la pelouse verte coupée à la règle. Plus loin, vous voyez un bâtiment rouge et blanc s&#39;agrandir à mesure que vous vous en approchez. Vous saviez que la famille de Kelsie était confortable, mais là c’est bien un autre niveau.

Bien que sa conception semble quelque peu datée, la maison semble avoir survécu à de nombreuses saisons difficiles. Elle a probablement été construite il y a un siècle ou deux. Les briques rouge vif contrastent avec les détails blancs nacrés autour des ouvertures.

Vous regardez autour de vous. L&#39;endroit semble désert. Vous pensez jeter un coup d&#39;œil aux fenêtres, voir s&#39;il y a quelqu&#39;un. Mais ce serait juste grossier. Et ils pourraient penser que vous êtes un voyeur, ce qui n&#39;est pas une bonne façon d&#39;être présenté à quelqu&#39;un.

Vous arrêtez la voiture devant la porte d’entrée. &lt;&lt;if $present lt 1&gt;&gt;Vous vous levez de votre siège et vous vous dirigez vers la porte. &lt;&lt;elseif $present gt 1&gt;&gt;Ramassant le bouquet que vous avez choisi, Vous vous levez de votre siège et vous vous dirigez vers la porte. &lt;&lt;else&gt;&gt;Ramassant les desserts que vous avez apportés, Vous vous levez de votre siège et vous vous dirigez vers la porte. &lt;&lt;/if&gt;&gt;


&lt;&lt;if $time gt 0&gt;&gt;[[Continuer|Early]]&lt;&lt;elseif $time lt 0&gt;&gt;[[Continuer|END3]]&lt;&lt;else&gt;&gt;[[Continuer|Time]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="236" name="Time_frf" tags="done" position="3450,2392" size="100,100">&lt;&lt;set $time to 0&gt;&gt; Vous vérifiez l&#39;heure sur votre téléphone. Vous êtes à peine arrivé à l&#39;heure. &lt;&lt;if $present gt 0&gt;&gt; S’arrêter pour obtenir un cadeau a fini par être une bonne idée. &lt;&lt;/if&gt;&gt;Vous êtes contente que le trafic n&#39;ait pas empiré, ou vous n&#39;auriez pas pu arriver à temps.

Vous vous dirigez vers la porte et sonnez. Quelques secondes plus tard, la porte s&#39;ouvre et vous voyez Kelsie sortir de la maison en souriant.

//« Te voilà $name ! Nous t’attendions avec impatience ! Bon timing aussi. Nous allions à peine mettre la table et commencer le déjeuner. »
« Ah ! J&#39;avais un peu peur de m&#39;être trompée de maison lorsque je me suis arrêtée dans la rue. On peut à peine voir qu&#39;il y a une maison là-bas », mentionnez-vous en pointant les haies derrière vous.
« J&#39;aurais dû te donner une photo de l&#39;entrée ou au moins te la décrire, »// Kelsie dit en riant.// « Je suis contente que tu ais réussi à trouver la maison quand même. Aller. Entre rencontrer mes parents. »//

Vous commencez à la suivre à l&#39;intérieur quand elle s&#39;arrête sur ses traces.

//« Attends une seconde. Avant qu&#39;ils ne te rencontrent, laisse-moi jeter un coup d’œil. »//

Kelsie se retourne et vous regarde de la tête aux pieds.

&lt;&lt;if $outfit gt 1&gt;&gt;[[Continuer|Compliment]]&lt;&lt;elseif $outfit lt 1&gt;&gt;[[Continuer|END4]]&lt;&lt;else&gt;&gt;[[Continuer|Puzzled]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="237" name="Early_frf" tags="done" position="3450,2267" size="100,100">&lt;&lt;set $time to 1&gt;&gt;Vous vérifiez l&#39;heure sur votre téléphone. Un peu tôt, comme d&#39;habitude. &lt;&lt;if $present gt 0&gt;&gt;C&#39;était bien une bonne idée de s&#39;être arrêtée pour acheter un cadeau après tout. &lt;&lt;/if&gt;&gt;

Vous vous dirigez vers la porte et sonnez. Quelques secondes plus tard, la porte s&#39;ouvre et une tête sort du cadre de la porte. Vous voyez que c&#39;est un petit garçon, il ne doit pas avoir plus de 10 ans, à peine la moitié de votre taille. À son regard, vous le reconnaissez sur une photo que Kelsie a dans son appartement. Vous pensez vous souvenir qu&#39;elle vous avait dit qu&#39;il était son frère.

// « Salut... Noah, n&#39;est-ce pas ? »//

Le petit garçon hoche la tête mais se montre méfiant envers vous. Vous êtes une parfaite inconnue pour lui en fin de compte. Mieux vaut se présenter pour le mettre à l&#39;aise.

// « Mon nom est $name. Je suis l&#39;amie de Kelsie. »
« Oh ! C&#39;est toi qu’on attendait ! T’es déjà là. Attends une seconde. »//

La porte se ferme légèrement. Vous entendez des pas s&#39;enfuir et une voix aiguë crier : //« Keelllsiiiie ! Ta copine est là ! » // Quelques minutes plus tard, vous entendez des pas se rapprocher. Kelsie apparaît enfin devant vous, vêtue d&#39;un tablier farineux et fleuri.

// « $name ! Tu es déjà là ! Tant mieux, parce que j&#39;avais presque fini en cuisine. »
« Tu as besoin d&#39;y retourner ? Je peux attendre si besoin. »
« Non ! Non... Maman est là-bas. Elle peut finir le reste. Il n&#39;y a plus grand chose à faire de toute façon. J&#39;ai déjà fait le gros des choses. Je suis contente que tu sois là. Je voulais que tu aies un peu de temps avant de servir le déjeuner pour rencontrer tout le monde correctement. Aller, par ici. »//

Vous commencez à la suivre à l&#39;intérieur quand elle s&#39;arrête sur ses traces.

// « Attends une seconde. Avant qu&#39;ils ne te rencontrent, laisse-moi jeter un coup d’œil. »//

Kelsie se retourne et vous regarde de la tête aux pieds.

&lt;&lt;if $outfit gt 1&gt;&gt;[[Continuer|Compliment]]&lt;&lt;elseif $outfit lt 1&gt;&gt;[[Continuer|END4]]&lt;&lt;else&gt;&gt;[[Continuer|Puzzled]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="238" name="END3_frf" tags="done END" position="3450,2517" size="100,100">&lt;&lt;set $endtime to true&gt;&gt;Vous vérifiez l&#39;heure sur votre téléphone. //Merde// Vous ne pouvez pas croire qu&#39;il soit déjà si tard.

Vous courez vers la porte et sonnez à la porte. //Kelsie va être en colère, hein...//

La porte s&#39;ouvre et Kelsie se tient devant vous, furieuse.
//« Tu as vu l&#39;heure ? Où étais-tu, $name ? Je voulais que tu aies une bonne première impression avec mes parents. Être ponctuelle est une vertu qu&#39;ils apprécient grandement. Tout le monde est assis à table pour le déjeuner depuis un moment déjà. Nous avons même commencé à manger. Nous ne pouvions plus t’attendre. »
« Je suis tellement désolé mon amour. Je jure que je n&#39;ai jamais été en retard auparavant– »
« Ne m&#39;appelle pas mon amour, » // interrompt-elle. //« Et ne me donne pas d’excuse. Pouah. Je ne peux pas te regarder maintenant. »
« S&#39;il te plaît, crois-moi quand je te dis que c&#39;était une simple erreur. N&#39;y a-t-il vraiment rien que je puisse faire pour me rattraper ? Peux-tu me laisser entrer et au moins m’excuser auprès de tes parents ? »
« Je ne pense pas, non. Une simple erreur mon cul. Je t’ai dit à quel point aujourd&#39;hui était important pour moi et tu ne pouvais même pas suivre des simples instructions. Est-ce c’est trop de te demander d&#39;être à l&#39;heure ? Je pense que c&#39;est mieux si tu t’en va, $name. »//

Kelsie vous regarde à peine et vous ferme la porte au nez. Vous retournez vers votre voiture, regardant derrière votre épaule, espérant que Kelsie ouvre à nouveau la porte et vous laisse entrer. Celle-ci reste fermée. Même si Kelsie vous auriez demandé de faire quelques choses plus tôt, vous ne pouvez pas croire qu&#39;elle ne vous laisse pas entrer maintenant. Vous restez assis dans votre voiture pendant quelques minutes, en espérant que Kelsie change d&#39;avis et vous souhaite la bienvenue. Vous n&#39;avez jamais voulu arriver si tard. &lt;&lt;if $present gt 0&gt;&gt;Cela ne serait jamais arrivé si vous n&#39;aviez pas acheté un cadeau stupide. &lt;&lt;/if&gt;&gt;

Kelsie ne sors toujours pas. Vous soupirez profondément. Vous ne pouvez vraiment rien faire d&#39;autre que de partir d’ici. Vous démarrez la voiture et retroussez votre chemin. &lt;&lt;if $présent is 2&gt;&gt;Au retour, vous avez l&#39;impression que les fleurs ne cessent de vous fixer. Vous narguer. Se moquent de vous pour le rendez-vous manqué. Arrêtée à un feu rouge, vous ouvrez votre fenêtre et jetez le bouquet. //Quel gâchis…//&lt;&lt;elseif $present is 1&gt;&gt;En arrivant à la maison, vous vous rendez compte que les gâteaux sont toujours assis à côté de vous. // Ce serait du gâchis de les jeter, // pensez-vous. Vous prenez la boîte et l&#39;apportez à l&#39;intérieur, avec l&#39;intention de tous les manger pour vous distraire de la douleur infligée parce de rendez-vous manqué. &lt;&lt;/if&gt;&gt;

Plus tard dans la journée, vous recevez un message de Kelsie.

&lt;div class=&quot;message&quot;&gt;//Je ne pense pas pouvoir continuer comme ça. Au revoir $name.//&lt;/div&gt;

Kelsie ne répond plus à vos messages après ça. Bizarrement, vous n&#39;êtes jamais en retard à aucun de vos rendez-vous après cela.


&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Le temps n&#39;est qu&#39;une construction sociétale  »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="239" name="END4_frf" tags="done END" position="3575,2517" size="100,100">&lt;&lt;set $endoutfit to true&gt;&gt;Kelsie vous regarde confuse.
//« Euh… $name ? »
« Oui ? »
« Qu&#39;est-ce... pourquoi le costume ? »
« Quel costume ? »// demandez-vous. Puis en pointant le morceau de tissu extensible qui vous recouvre à peine : //« Tu veux dire ça ? »
« Oui, je parle de ce choix-là, $name. Quoi d&#39;autre que ça ? »
« Tu n&#39;aimes pas ? »
« Dans le bon cadre, ça ne m’aurait pas dérangé pas. Mais ce n&#39;est pas une fête d&#39;Halloween ou une fête d’étudiant $name ! Pourquoi pensais-tu que c&#39;était approprié de porter ça ? »
« Je voulais laisser une impression sur tes parents. C’était la meilleure tenue pour le faire. Enfin, c’est pas toi qui m’avais dit qu&#39;ils avaient un bon sens de l&#39;humour ? »
« Ils aiment plaisanter, mais qu’est-ce qu’ils penseraient en te voyant pour la première fois comme ça ? »
« Je ne sais pas. Quelque chose du genre me demandant si j’apparaîtrai dans une vidéo de rap ou un film parodique ? Ou me souhaiter de bonnes vacances d’été à Ibiza ? »
« C’est pas mieux… Arrête avec tes blagues stupides $name ! Je suis sérieuse là ! Incroyable ! Le jour où j&#39;ai besoin que tu sois un peu normale, tu fais un canular débile. »
« Hé Kelsie. Sois pas aussi superficielle. C&#39;est ce qu&#39;il y a à l&#39;intérieur qui compte vraiment. »
« Arrête $name ! Arrête. »//

Le silence s&#39;installe dans le couloir. Peut-être que cette tenue originale n&#39;était pas la bonne voie à prendre.

//« Kelsie, ma chérie, est-ce que tout va bien ? »// vous entendez dans le couloir.

//« Merde »// maudit Kelsie dans un soupire, paniquée. //« Oui maman. J&#39;arrive dans une minute. » // Puis elle se retourne vers vous, en faisant signe à votre tenue://« Par hasard, tu aurais apporté autre chose avec toi pour couvrir… ça ? »
« Euh... Non, pas vraiment. Je peux pas simplement emprunter un peignoir ou quelque chose ? »
« Et ressemblez encore plus à un pervers que tu ne l’es maintenant ? Non. Et mes parents poseraient trop de questions si on empruntait quelque chose des placards. Je veux dire, pourquoi est-ce que tu voudrais nos vêtements en premier lieu ? »
« Ha… ha… »//, vous souriez, mal à l&#39;aise. //« Alors qu’est-ce qu’on peut faire ? » 
« On ? Non... non... Je ne me salirai pas les mains dans ton bordel. Tu devrais demander ce que tu devrais faire. » // Et vous empêchant de répondre : // « Et la seule réponse dans ta tête devrait être de rentrer chez toi. Je ne peux pas gérer ce bordel aujourd&#39;hui. »
« Mais… je devais rencontrer tes parents aujourd’hui ? »
« Oublie tout ça et rentre chez toi. »//

Elle passe devant vous et ouvre la porte. Vous la regardez, désolée. Elle vous pousse à nouveau à partir et vous obéissez. En passant la porte, vous l&#39;entendez claquer derrière vous. Vous montez dans votre voiture, ne réalisant toujours pas complètement ce qui vient de se passer et rentrez chez vous.

En arrivant chez vous, vous recevez un message de Kelsie.

&lt;div class=&quot;message&quot;&gt;//Je ne comprends pas pourquoi tu voulais m&#39;humilier comme ça aujourd’hui.
Je ne pense pas pouvoir être avec quelqu’un qui fout le bordel comme ça.
Au revoir $name.//&lt;/div&gt;

Kelsie ne répond plus à vos messages après ça. En racontant cette histoire à vos amis, ils ont pensé que c&#39;était hilarant et que Kelsie avait réagi de manière excessive. Bien que vous soyez d&#39;accord avec eux, vous commencez toujours à réfléchir à deux fois avant de porter quoi que ce soit le matin. Au cas où.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Ce n&#39;est pas encore les vacances »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="240" name="Puzzled_frf" tags="done" position="3575,2392" size="100,100">Kelsie vous regarde confuse.

//« Euh $name ? »
« Oui? »
« Qu&#39;est-ce que c&#39;est que cette tenue ? »// demande-t-elle en désignant vos vêtements.
//« J&#39;essaie juste de faire bonne impression. Tu n&#39;aimes pas ? »
« Eh bien, oui. Tu as l&#39;air vraiment bien là-dedans. Tu auras certainement une impression avec tout le monde comme ça. »
« Tu m&#39;as dit à quel point c&#39;était important de rencontrer tes parents. J&#39;ai donc essayé d&#39;assortir ceci avec mes vêtements. »
« Oh, tu n’as pas besoin d’excuses $name. C&#39;est juste que... c&#39;est juste un déjeuner. À la maison. Pas un restaurant 5 étoiles. Tu es un peu trop habillée pour ce que j&#39;avais prévu. C&#39;est tout. »
« Ne te sous-estime pas, Kelsie. Tes talents culinaires sont au niveau d’un chef dans un restaurant à 5 étoiles ! »//

Elle rougit.

//« C&#39;est bien gentil de ta part $name. Mais je n&#39;en suis pas encore là. Revenons à ta tenue et faisons-en un peu... moins. »//

Elle vous regarde à nouveau, pensive. Voulant l’aider, vous essayez de penser à une solution. Mais rien ne vous vient à l&#39;esprit. &lt;&lt;if $cheating is 3&gt;&gt;Vous êtes distraite par la vibration de votre téléphone. Vous êtes presque sûr que Jessie vous a encore envoyé un texto.

* [[Vous consultez votre téléphone et répondez aux message de Jessie. |Puzzled2][$cheating +=1]]
* [[Vous ignorez le message de Jessie. |Puzzled2]]
&lt;&lt;else&gt;&gt; 
//« Je pense que si tu enlèves ce tour de cou, ouvres quelques boutons et laisses ta veste ici... » // explique-t-elle en vous manipulant comme si vous étiez un mannequin. //« Tu commences à ressembler à quelqu’un de normal. Là. »//

Elle recule de quelques pas, vous regarde encore de haut en bas ; et se sentant satisfaite, elle vous sourit. &lt;&lt;if $present gt 0&gt;&gt;

Elle regarde ce que vous tenez. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 2&gt;&gt;En regardant le bouquet, son sourire s&#39;agrandit. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;elseif $present is 1&gt;&gt;En regardant la boîte de bonbons, un air maussade tombe sur son visage. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;

Elle prend votre bras et vous emmène plus loin dans la maison.

//« Aller, $name. Viens rencontrer tout le monde. Pour de vrai cette fois. »//

[[Continuer|Handshake]] &lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="241" name="Puzzled2_frf" tags="done" position="3700,2392" size="100,100">&lt;&lt;if $cheating gt 3&gt;&gt;Kelsie semble être perdue dans ses pensées. Vous êtes presque sûr qu&#39;elle ne remarquerait pas si vous regardez votre téléphone. Vous mettez sournoisement votre main dans votre poche pour le récupérer et le regardez derrière votre jambe. Jessie vous a envoyé un texto. Vous souriez à son message. //La petite coquine.// Vous commencez à lui répondre quand vous êtes interrompu par Kelsie.

//« Tout va bien $name ? »
« Euh? Oh oui. Juste un ami qui veut qu&#39;on se voit. Je voulais juste leur dire que je suis occupé aujourd’hui. »
« Uh-huh. Quoi qu&#39;il en soit… Retour à ton smoking. Je pense que si tu enlèves ce tour de cou, ouvres quelques boutons et laisses ta veste ici... » // explique-t-elle en vous manipulant comme si vous étiez un mannequin. //« Tu commences à ressembler à quelqu’un de normal. Là. »//

Elle recule de quelques pas, vous regarde encore de haut en bas ; et se sentant satisfaite, elle vous sourit. &lt;&lt;if $present gt 0&gt;&gt;

Elle regarde ce que vous tenez. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 2&gt;&gt;En regardant le bouquet, son sourire s&#39;agrandit. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 1&gt;&gt;En regardant la boîte de bonbons, un air maussade tombe sur son visage. Cependant, elle n&#39;en dit pas un mot. 
&lt;&lt;/if&gt;&gt;

Elle prend votre bras et vous emmène plus loin dans la maison.

//« Aller, $name. Viens rencontrer tout le monde. Pour de vrai cette fois. »//

&lt;&lt;else&gt;&gt;Vous ignorez la vibration de votre téléphone et essayez de réfléchir à nouveau à la façon d&#39;aider Kelsie, en vain.

//« Je pense que si tu enlèves ce tour de cou, ouvres quelques boutons et laisses ta veste ici... » // explique-t-elle en vous manipulant comme si vous étiez un mannequin. //« Tu commences à ressembler à quelqu’un de normal. Là. »//

Elle recule de quelques pas, vous regarde encore de haut en bas ; et se sentant satisfaite, elle vous sourit. &lt;&lt;if $present gt 0&gt;&gt;

Elle regarde ce que vous tenez. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 2&gt;&gt;En regardant le bouquet, son sourire s&#39;agrandit. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;&lt;&lt;if $present is 1&gt;&gt;En regardant la boîte de bonbons, un air maussade tombe sur son visage. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;

Elle prend votre bras et vous emmène plus loin dans la maison.

//« Aller, $name. Viens rencontrer tout le monde. Pour de vrai cette fois. »// &lt;&lt;/if&gt;&gt;

[[Continuer|Handshake]]
</tw-passagedata><tw-passagedata pid="242" name="Compliment_frf" tags="done" position="3625,2267" size="100,100">Kelsie vous regarde et sourit.

// « Tu es superbe, $name ! J&#39;adore les détails de fleurs sur ta chemise. »//

Vous rougissez. C&#39;était le bon choix en effet. &lt;&lt;if $present gt 0&gt;&gt;

Elle regarde ce que vous tenez. &lt;&lt;if $présent is 2&gt;&gt;En regardant le bouquet, son sourire s&#39;agrandit. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;elseif $présent is 1&gt;&gt;En regardant la boîte de bonbons, un air maussade tombe sur son visage. Cependant, elle n&#39;en dit pas un mot. &lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

Elle prend votre bras et vous emmène plus loin dans la maison.

//« Aller, $name. Viens rencontrer tout le monde. Pour de vrai cette fois. »//

[[Continuer|Handshake]] 
</tw-passagedata><tw-passagedata pid="243" name="Handshake_frf" tags="done" position="3825,2392" size="100,100">Tirée par le bras par Kelsie, vous quittez le couloir sombre et entrez dans une pièce remplie de lumière. Vos yeux ont besoin d&#39;un moment pour s&#39;adapter. Vous êtes entrée dans une véranda, que vous pensez être située à l&#39;arrière de la maison. Tout autour de vous, du sol au plafond, les choses semblent briller dans la lumière du soleil qui traverse le plafond de verre. &lt;&lt;if $outift is 2&gt;&gt;

//« Quel joli motif de fleurs sur sa chemise, »// vous entendez au loin.&lt;&lt;/if&gt;&gt; 

Vos yeux commencent enfin à remarquer des formes qui se déplacent autour de vous. Vous vous concentrez à nouveau et voyez dans la pièce trois personnes, deux adultes, un homme et une femme, et un jeune garçon. Les adultes semblent avoir la cinquantaine&lt;&lt;if $time is 0&gt;&gt;, l&#39;enfant doit avoir environ 10 ans &lt;&lt;/if&gt;&gt;.&lt;&lt;if time is 1&gt;&gt; Vous reconnaissez le petit garçon comme Noah, qui vous a accueilli à la porte.&lt;&lt;else&gt;&gt; Kelsie avait mentionné plus tôt qu&#39;elle avait un petit frère. Vous vous souvenez qu&#39;il s&#39;appelait Noah.&lt;&lt;/if&gt;&gt; En voyant la similitude de leurs visages, vous présumez que les deux adultes sont les parents de Kelsie. //Qui d&#39;autre pourraient-ils être à part ses parents.//

//« Maman… Papa. Voici $name. $name, mes parents, John et Cora. &lt;&lt;if $time is 1&gt;&gt;Tu as déjà rencontré Noah plus tôt.&lt;&lt;else&gt;&gt;Et Noah, mon petit frère.&lt;&lt;/if&gt;&gt; »
« Bonjour... » //, murmurez-vous timidement. Il semble que toute votre préparation n&#39;a finalement pas vraiment aidé.

// « Bonjour $name. C&#39;est un plaisir de te rencontrer enfin. Kelsie nous a beaucoup parlé de toi. Mais c&#39;est vraiment agréable de pouvoir mettre un visage sur le nom ! »// vous entendez John dire, en vous tendant la main.

A côté de lui, Noah se cache derrière Cora, qui vous sourit et vous fait coucou.

Que faites-vous ?
* [[Vous prenez la main de John et la secouez simplement et fermement. |Proper]]
* [[John a l&#39;air d&#39;être un papa cool. Pourquoi ne pas prendre la voie décontractée et lui taper sa main ? |High5]]
* /* [[END5]] */&lt;&lt;link &quot;Votre père vous disait toujours : //« Une forte poignée de main pour montrer ta domination »//. Vous prenez la main de John avec force.&quot; &quot;END5&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;

</tw-passagedata><tw-passagedata pid="244" name="Proper_frf" tags="done" position="3950,2392" size="100,100">&lt;&lt;set $handshake to 1&gt;&gt;Vous prenez la main de John, la serrez fermement mais simplement, tout en mentionnant à quel point vous êtes ravie de les rencontrer. John vous sourit et vous tapote gentiment dans le dos.

// J&#39;ai assuré ! // pensez-vous.

Vous saluez ensuite Cora, et enfin le timide Noah. Tout le monde semble très content de vous jusqu&#39;à présent.

&lt;&lt;if $present gt 1&gt;&gt;[[Continuer|Bouquet]]&lt;&lt;elseif $present lt 1&gt;&gt;[[Continuer|Tally]]&lt;&lt;else&gt;&gt;[[Continuer|Sweet]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="245" name="High5_frf" tags="done" position="3950,2267" size="100,100">&lt;&lt;set $handshake to 0&gt;&gt;Vous frappez la paume de la main de John puis tenez la vôtre en l&#39;air, en attendant qu&#39;il fasse de même.
//« En haut ! »// vous annoncez.

Légèrement confus et un peu agacé, John lève lentement la main et frappe faiblement votre main. On dirait que John n&#39;est peut-être pas le papa cool que vous pensiez qu&#39;il est.

Noah quitte son endroit sûr derrière sa mère et vous montre sa main en riant.
//« En bas ! » // couine-t-il

Alors que vous baissez votre main pour gifler la sienne, Noah la rétracte et rit :
//« Trop lent! Hahaha! »//

Vous riez nerveusement en retour. Il semble que tout le monde soit un peu mal à l&#39;aise aussi, mais souriez et essayez de passer à autre chose.

&lt;&lt;if $present gt 1&gt;&gt;[[Continuer|Bouquet]]&lt;&lt;elseif $present lt 1&gt;&gt;[[Continuer|Tally]]&lt;&lt;else&gt;&gt;[[Continuer|Sweet]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="246" name="END5_frf" tags="done END" position="3900,2517" size="100,100">&lt;&lt;set $endshake to true&gt;&gt;//&quot;Une forte poignée de main pour montrer votre domination,&quot;// vous vous souvenez que votre père vous a dit.

Prenant ce dicton à cœur, vous prenez la main de John avec force, la serrez et secouez vigoureusement. Cependant, il semble que vous suivez un peu trop les conseils de votre père. John sourit, apparemment un peu mal à l&#39;aise avec cette approche énergique. Il essaie lentement de se retirer, mais vous gardez votre main fermement serrée sur la sienne.

// « Heh ! Quelle forte poignée de main $name, »// dit John en essayant de retirer sa main une fois de plus.

&lt;&lt;linkreplace &quot;Continue&quot;&gt;&gt;//Pas encore//, pensez-vous, alors que vous continuez à appliquer plus de force à votre poignée de main.

Au fur et à mesure que votre prise se renforce, vous commencez à froncer les sourcils et les muscles de votre visage se tendent. L&#39;expression de John passe d&#39;un malaise à une légère peur. Autour de vous, les gens s&#39;agitent. Kelsie essaie de vous retenir.

// « $name ! Tu peux relâcher maintenant. S&#39;il te plaît. Ça suffit ! » // crie Kelsie.

Vous êtes tellement concentrée sur cette poignée de main que vous entendez à peine ses supplications. Vous n&#39;arrêterez pas tant que John ne cèdera pas complètement. Vous ajoutez à nouveau une pression supplémentaire. Le visage de John se contracte dans ce que vous décrivez comme des représailles. Vous vous préparez à ce que John serre votre main de toute sa force...

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;//&#39;&#39;POP&#39;&#39;//

Vous voyez John tomber à genoux, des larmes coulant sur ses joues. Vous relâchez sa main, réalisant lentement ce qui vient de se passer ici. Vous reculez de quelques pas et voyez les gens autour de vous courir frénétiquement.

// « Qu&#39;est-ce qui ne va pas avec toi, $name ? »
« Chérie, je pense que quelque chose ne va pas avec ma main. Je... je ne peux pas bouger mes doigts ! »
« Pourquoi as-tu continué comme ça, espèce de maniaque ? »
« Je pense que nous devons aller aux urgences.
« Éloigne-toi de mon père, tu... tu es un monstre » //

Vous sentez que quelqu&#39;un vous attrape par le bras et vous tire sur le côté. Vous tournez la tête pour voir Kelsie, furieuse. Vous l&#39;avez déjà vue en colère, mais jamais à ce point.
//« Bordel, $name. Qu&#39;est-ce qui ne va pas avec toi ? » // elle vous crie dessus.
//« Je... je... »//, vous marmonnez.
//« Tu quoi ? Pourquoi écraserais-tu la main de quelqu&#39;un comme ça ? »
« Je voulais juste montrer à ton père que je n&#39;étais pas une poule mouillée. »
« Et tu as pensé que c&#39;était la meilleure façon de le montrer ? » // soupira-t-elle en se massant les tempes. //« Tu n&#39;as pas vu que mon père était mal à l&#39;aise avec ça ? J&#39;avais juste l&#39;impression que tu essayais de... de l&#39;apprivoiser. Tu l&#39;as regardé comme s&#39;il était une sorte d&#39;animal. Pourquoi tu ne t’es pas arrêtée quand je te l&#39;ai demandé ? »
« Je ne sais pas... Je suppose que je ne t&#39;ai pas entendu. »
« Je t&#39;ai crié dessus, $name. Crié ! »//

Vous tendez votre main vers elle, mais elle s&#39;éloigne, se serrant dans ses bras. Elle tremble.
//« Je ne pense pas pouvoir considérer cela comme une simple erreur, $name. Je veux dire, tu as essentiellement agressé mon père tout à l&#39;heure. Tu devrais juste y aller. »
« Quoi ? Attends, Kelsie ! On peut pas en parler ? »
« Je ne veux rien entendre de toi. Je n&#39;ai rien d&#39;autre à te dire. Dois-je te l&#39;épeler ? C&#39;est terminé. Va-t-en ! »//

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt; Elle vous pousse vers la porte. Sentant le regard noir de tout le monde autour de vous, vous vous conformez et partez.

Kelsie refuse tout appel de votre part et ne réponds pas à vos messages. Peu de temps après, vos amis commencent à vous annuler et cessent complètement de répondre.

Une connaissance vous dit qu&#39;il y a une étrange rumeur selon laquelle vous avez battu le père de Kelsie et qu&#39;il a dû porter un plâtre pendant un certain temps à cause de ça. Vous n&#39;arrêtez pas de prétendre que ce n&#39;était qu&#39;un malentendu. Cependant, les gens ne semblent pas vous croire et s&#39;éloignent de vous lorsqu&#39;ils croisent votre chemin.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Briser des os »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;
</tw-passagedata><tw-passagedata pid="247" name="Sweet_frf" tags="done" position="4025,2517" size="100,100">Vous voyez Cora remarquer la boîte dans vos mains. Vous rappelant que vous avez apporté un dessert, vous réalisez qu&#39;ils ne devraient pas rester trop longtemps hors du réfrigérateur. En lui tendant la boîte, vous babillez sur votre espoir que tout le monde les aimerait et que la boîte contienne un large éventail de goûts afin que chacun puisse obtenir ce qu&#39;il préfère.

Du coin de l&#39;œil, vous voyez Kelsie baisser les yeux en se grattant le bras. Vous voyez Noah, l&#39;air excité par les délicatesses, être mis à l’écart, loin de la boîte. Son excitation se transforme rapidement en tristesse. Une tension se répand dans la pièce. //Ce n&#39;est pas bon//, pensez-vous.

//« Comment c’est... gentil de ta part de nous avoir apporté quelque chose, $name »//, dit Cora avec une pause. Cette pause définitivement aggrave les choses. Elle ajoute : //« Kelsie aurait dû le mentionner avant, mais Noah a des allergies. Il y a beaucoup d&#39;articles préfabriqués qu&#39;il ne peut pas manger. Nous cuisinons généralement tout à la maison pour cette raison. C&#39;est aussi pourquoi Kelsie a commencé à s&#39;intéresser au monde culinaire. »//

La pièce redevient silencieuse. Vous commencez à vous sentir gênée par ce que vous avez apporté.

// « Je suppose que nous pourrions les manger avec le café », // propose John. //« Habituellement, à ce moment-là, Noah s&#39;ennuie et nous le laissons jouer dehors. Ce serait dommage de les gaspiller. »// Puis se tournant vers Cora : //« Je ferai en sorte que Noah ne puisse pas les atteindre. »//

Cora lui fait un signe de tête et lui tend la boîte. Noah croise le bras en marmonnant qu&#39;il n&#39;était pas juste que les adultes puissent faire ce qu&#39;ils voulaient. Kelsie dit qu&#39;elle lui a préparé son gâteau préféré pour le dessert. Noah saute de haut en bas, ayant apparemment déjà oublié ce qu’il venait de se passer.

&lt;&lt;if $cheating gt 3&gt;&gt; Vous commencez à vous sentir humiliée. Vous essayez de vous rappeler si Kelsie aurait mentionné quelque chose comme ça, à propos de Noah ou de ses raisons pour devenir cuisinière. Mais rien ne vous vient à l&#39;esprit. //Pourquoi ne m&#39;a-t-elle jamais dit quelque chose à ce sujet ? // Vous avez mis vos mains dans vos poches, en pensant comment vous en remettre. Vous sentez que votre téléphone vibrer à nouveau. //Peut-être que c&#39;est Jessie. Au moins quelqu&#39;un pourrait être dans mon coin pour une fois…//

* [[Vous vérifiez votre téléphone et envoyez à nouveau un message à Jessie. Elle vous fera probablement vous sentir mieux. |Sweet2][$cheating +=1]]
* [[Vous ignorez votre téléphone et essayez de tout garder à l&#39;intérieur. Le déjeuner n&#39;a encore commencé, les choses peuvent toujours changer. |Sweet2]]
&lt;&lt;else&gt;&gt;[[Continuer|Tally]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="248" name="Sweet2_frf" tags="done" position="4150,2517" size="100,100">&lt;&lt;if $cheating is 5&gt;&gt; Vous vous excusez pour aller aux toilettes. Vous voulez juste vérifier votre téléphone maintenant et parler à quelqu&#39;un de ces sentiments négatifs que vous avez en ce moment. Kelsie vous semble un peu comme une étrangère en ce moment. Vous n&#39;arrêtez pas de vous demander pourquoi Kelsie ne vous avait pas mentionné ces choses importantes auparavant.

Dès que vous êtes seul, vous consultez votre téléphone. Jessie vous a envoyé un message. En voyant simplement son nom à l&#39;écran, vous commencez déjà à vous sentir un peu mieux. Vous savez qu&#39;au moins vous avez quelqu&#39;un dans votre coin. Vous échangez quelques messages avec elle, racontant votre arrivée aux Sparks, comment Kelsie a critiqué votre tenue, comment elle vous a ridiculisée en ne vous ayant pas dit de ne pas apporter de gâteaux, comment tout semble un peu gênant maintenant. Vous pouvez ressentir la compassion de Jessie à travers ses réponses. Elle vous rappelle qu&#39;elle est là pour vous et qu&#39;elle serait toujours libre de vous rencontrer après tout cela, de parler, si vous êtes toujours partante, alors.

Vous vous rendez compte que vous avez déjà passé quelques minutes dans la salle de bain. Il serait peut-être préférable que vous rejoigniez le groupe bientôt, sinon tout le monde commencera à s&#39;inquiéter. Une partie de vous sait que vous pouvez gérer le reste de la journée, le reste veut simplement se désengager et rentrer chez vous. Ce qu’il vient de se passer est déjà assez humiliant.

Vous respirez profondément et revenez sur vos pas jusqu&#39;à la véranda. 

[[Continuer|Tally]]

&lt;&lt;else&gt;&gt; Vous ignorez votre téléphone. La personne qui vous a envoyé un message peut attendre. Même si vous voudriez parler à quelqu&#39;un de ces sentiments négatifs que vous avez en ce moment. Kelsie vous semble un peu comme une étrangère en ce moment. Vous n&#39;arrêtez pas de vous demander pourquoi Kelsie ne vous avait pas mentionné ces choses importantes auparavant. Et qu&#39;en est-il de sa critique de votre tenue quand vous êtes arrivé ? Le smoking vous allait très bien. Il serait peut-être une bonne idée d&#39;en parler avec Kelsie plus tard.

Vous essayez de ravaler ces sentiments et de passer à autre chose. Il reste encore assez de temps pour vous remettre de cette erreur. Le déjeuner n&#39;a même encore pas commencé. Les choses peuvent toujours basculer. Comme le père de Kelsie a dit, vos gâteaux seront probablement servis avec du café plus tard. Peut-être qu&#39;ils les aimeront bien à la fin.

[[Continuer|Tally]]
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="249" name="Tally_frf" tags="done" position="4150,2392" size="100,100">&lt;&lt;set $total to $outfit + $time + $present + $handshake&gt;&gt;&lt;&lt;if $time is 1 and $total&gt;4&gt;&gt;//« Puisqu&#39;il reste un peu de temps avant que le déjeuner ne soit servi, pourquoi pas te faire visiter autour. » // propose Cora.

Hochant la tête, vous la suivez et visitez la maison de Kelsie. Vous apprenez que la maison appartenait à la famille Spark depuis quelques générations, construite par l&#39;un des ancêtres de John. Mentionnant que même si la maison avait été rénovée souvent, Cora s&#39;extasie sur le fait que le jardin n&#39;a vu que des ajouts. Les plantes les plus anciennes étaient soit originaires de la région, soit plantées par les ancêtres des Sparks. Voulant laisser une empreinte pour l&#39;avenir, les générations suivantes n&#39;ont fait qu&#39;ajouter à la collection.

En vous promenant dans la maison, en apprenant plus sur Kelsie et sa famille, vous ne pouvez pas vous empêcher d&#39;espérer que vous répondez aux attentes de Kelsie pour aujourd&#39;hui. Pendant ce temps, vous partagez un peu plus sur vous-même en répondant aux questions de John et Cora.

&lt;&lt;/if&gt;&gt;&lt;&lt;if $time is 1 and $total&lt;5&gt;&gt;//« Puisqu&#39;il reste un peu de temps avant que le déjeuner ne soit servi, pourquoi pas te faire visiter autour. » // propose Cora.

Hochant la tête, vous la suivez et visitez la maison de Kelsie. Vous apprenez que la maison avait été construite par l&#39;un des ancêtres de John.&lt;&lt;if $outfit is 2 or $present is 2&gt;&gt; Le jardin a aussi une place spéciale dans le cœur de la famille.&lt;&lt;/if&gt;&gt;&lt;&lt;if $total&lt;3&gt;&gt; En faisant le tour, vous vous sentez bizarrement comme une étrangère visitant un domaine. Cora évite votre regard et pose peu de questions sur vous. Derrière, John et Noah, ne faisant presque pas attention à vous, semblent s&#39;ennuyer.&lt;&lt;/if&gt;&gt;&lt;&lt;if $total&gt;2&gt;&gt; En tournée, vous avez étrangement l&#39;impression de visiter un domaine avec un guide. Cora vous demande ce que vous pensez de la maison et vous ne pouvez rien dire d&#39;autre que des compliments. John vous pose quelques questions.&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;// « Quoi qu&#39;il en soit... »// démarre Kelsie après un certain temps. // « Et si on déjeunait maintenant ? »//

Tous d&#39;accord, vous vous dirigez vers la salle à manger. Dès que vous voyez la table, vous commencez à saliver. La table a été dressée avec une panoplie de plats, tous plus délicieux les uns que les autres. Vous ne pouvez pas croire que Kelsie se soit encore surpassée. Vous avez hâte de tout essayer.

Le reste du déjeuner est assez calme.&lt;&lt;if $total lt 3&gt;&gt; Cependant, vous remarquez que John et Cora évitent votre regard lorsque vous parlez et que des silences inconfortables s&#39;installent entre les sujets. &lt;&lt;if $cheating gt 5&gt;&gt;Vous continuez de jeter un coup d&#39;œil à votre téléphone sous la table, envoyant des messages à Jessie ici et là. Parfois, vous aimeriez ne pas être assise à cette table, mais être ailleurs avec elle. &lt;&lt;/if&gt;&gt;&lt;&lt;elseif $total gt 4&gt;&gt; Cependant, vous remarquez que les gens à la table sont assez vifs et essaient de vous engager dans une multitude de conversations. Vous êtes plus qu&#39;heureuse de les rejoindre et de répondre à toutes leurs questions. &lt;&lt;if $cheating gt 5&gt;&gt;Lorsque vous le pouvez, vous jetez un coup d&#39;œil à votre téléphone sous la table, envoyant un message à Jessie ici et là. Vous réussissez de tenir le coup, mais ne semblez pas vous sentir aussi impliquée dans ce déjeuner qu&#39;il y a quelques heures. &lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;Cependant, même si la table reste assez animée, vous remarquez que vous vous perdez un peu dans une conversation. Cora et John vous posent toujours quelques questions, mais n&#39;ont pas l&#39;air aussi engagés que lorsqu&#39;ils parlent à leur fille. &lt;&lt;if $cheating gt 5&gt;&gt; Vous jetez un coup d&#39;œil de temps en temps à votre téléphone sous la table, envoyant des messages à Jessie ici et là. Quand personne ne vous parle, vous aimeriez ne pas être assise à cette table, mais être ailleurs avec elle. &lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cheating gt 5&gt;&gt;[[Continuer|END10]]&lt;&lt;elseif $total gt 4&gt;&gt;[[Continuer|END6]]&lt;&lt;elseif $total lt 3&gt;&gt;[[Continuer|END7]]&lt;&lt;else&gt;&gt;[[Continuer|END8]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="250" name="Bouquet_frf" tags="done" position="4075,2267" size="100,100">Vous voyez Cora remarquer le bouquet dans votre main. Vous rappelant que les fleurs coupées ne doivent pas rester trop longtemps hors de l&#39;eau, vous lui tendez le bouquet. Vous bafouillez votre espoir que ça leur plairait et que vous aviez essayé de choisir les bonnes fleurs pour exprimer vos sentiments à propos d&#39;aujourd&#39;hui. Dans le coin de vos yeux, vous voyez Kelsie rougir.

// « $name a fait la même chose la dernière fois qu&#39;elle m&#39;a apporté des fleurs. Je lui avais dit d&#39;avoir appris la signification des fleurs avec grand-mère quand on allait chez elle tous les étés. Et qu’on l&#39;utilisait comme une langue secrète pour nous envoyer des messages. »
« Comme c’est gentil, $name ! »//répond Cora. //« C&#39;est un beau bouquet que tu as apporté. John, peux-tu m&#39;apporter mon téléphone ? Je veux le prendre en photo et l&#39;envoyer à ta mère. Je pense qu&#39;elle adorerait ça. »//

John disparaît un moment et revient avec un téléphone.

//« Tiens Kelsie, tiens-le. » // Cora dit, alors qu&#39;elle tend le bouquet à sa fille. //« Tiens-le un peu plus bas. Et incline le vers l&#39;avant aussi. Ce serait bien de pouvoir montrer toutes les différentes fleurs sur la photo. Viens ici aussi $name. Il sera plus facile pour Nana de comprendre ce qui se passe. »//

Pendant que Cora prend des photos, vous entendez Kelsie vous murmurer en souriant : //« Tu marques des points avec mes parents, je vois. »//

À part, vous voyez Noah, confus à propos de tout cela, demander à son père pourquoi les fleurs doivent avoir un sens et pourquoi les gens ne peuvent pas simplement le dire ce qu’ils ressentent à haute voix à la place.

//« C&#39;est vrai que ça peut être un peu déroutant. Tu ne peux pas vraiment dire des phrases complètes avec des fleurs, »// vous entendez John dire. // « Mais tu peux montrer tes sentiments pour quelqu&#39;un. Le bouquet de $name montre de l&#39;affection, de l&#39;anxiété et du désir de plaire. Tu sais, c&#39;est une belle vieille tradition, que ta grand-mère aime beaucoup. Tu devrais lui en demander plus, je suis sûr qu&#39;elle aimerait te l&#39;expliquer. »//

[[Continuer|Tally]]  </tw-passagedata><tw-passagedata pid="251" name="END8_frf" tags="done END" position="4275,2517" size="100,100">&lt;&lt;set $faded to true&gt;&gt;Quelques heures plus tard, cette épreuve touche à sa fin. Vous avez réussi à passer la porte, vous avez rencontré ses parents et vous avez survécu le déjeuner plus ou moins indemne. Vous avez un assez bon pressentiment à ce sujet, en voyant Kelsie vous regarder avec un petit sourire. Vous avez évité de commettre suffisamment d&#39;erreurs pour laisser une impression positive sur tout le monde. Après tout, personne n&#39;est parfait. Personne ne peut éviter de faire des erreurs de toute façon.

John et Cora semblent satisfaits de la façon dont le déjeuner s&#39;est déroulé et espèrent poliment qu&#39;ils vous reverront un jour. Vous leur dites au revoir en montant dans votre voiture. Vous quittez la maison des Spark, espérant pas pour la dernière fois.

Votre relation avec Kelsie ne semble cependant jamais être aussi passionnée qu&#39;auparavant. Vous rentrez toutes les deux dans une routine, votre relation n&#39;étant plus autant une priorité avec l&#39;une ou l&#39;autre. Vous rencontrez les Sparks pendant certaines grandes vacances ou occasions, alors que Kelsie cesse de vous demander de l&#39;accompagner entre temps. Cela ne semble pas trop vous déranger de toute façon.

Un jour, en rentrant du travail, vous remarquez une lettre sur le comptoir de votre cuisine. Dans ce document, Kelsie vous dit que cette relation n&#39;était pas ce qu&#39;elle espérait à ce stade. Elle avait déménagé pour rentrer chez elle, vous demandant de respecter sa décision. Elle espère le meilleur pour vous avec vos futurs partenaires.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Estompé »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="252" name="END6_frf" tags="done END" position="4275,2267" size="100,100">&lt;&lt;set $fairytale to true&gt;&gt;Quelques heures plus tard, cette épreuve touche à sa fin. Vous avez fait passer la porte, vous avez rencontré les parents et survécu le déjeuner sans trop de soucis. Vous avez vraiment un bon pressentiment à ce sujet. Vous êtes presque sûre que Kelsie a pensé que c&#39;était aussi une bonne journée, en la voyant vous regarder avec un large sourire. Il semble que vous ayez choisi les bonnes choses à faire et les bonnes choses à dire pour en arriver là. Votre espoir de laisser une bonne impression à ses parents s&#39;est réalisé alors que vous soupirez de soulagement.

John et Cora vous font jurer de leur rendre visite bientôt, car ils ont profondément apprécié votre compagnie. Ils espèrent que la prochaine fois vous resterez plus longtemps, afin que Kelsie puisse vous montrer où elle a grandi. Ils poussent également Kelsie à vous amener chez ses grands-parents, la harcelant légèrement qu&#39;ils sont assez vieux et qu&#39;il ne leur reste probablement pas beaucoup de temps. Avant que Kelsie ne commence à se plaindre de leurs remarques, vous rétorquez que vous aimeriez faire tout cela, si Kelsie est d&#39;accord.

Vous leur dites au revoir en montant dans votre voiture. Les dernières poussées de stress dans vos épaules se dissipent lorsque vous quittez la maison du Spark pour la première fois et certainement pas la dernière.

Dans quelques semaines, vous espérez présenter Kelsie à votre propre famille. Vous savez que vous n&#39;avez rien à craindre – tout le monde adore Kelsie dès qu&#39;ils la rencontrent de toute façon. Vous savez au fond de votre cœur qu&#39;elle est faite pour vous. Vous commencez à passer votre temps libre à rêver de votre vie avec elle à vos côtés. 

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Fin de conte de fées »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="253" name="END10_frf" tags="done END" position="4275,2642" size="100,100">&lt;&lt;set $cheating to true&gt;&gt;Quelques heures plus tard, ce calvaire touche enfin à sa fin. Vous avez réussi à passer la porte, vous avez rencontré ses parents et vous avez survécu le déjeuner. Vous ne pensez pas que vous auriez pu vous en sortir sans l&#39;aide de Jessie. Elle a réussi à vous faire garder votre sang-froid tout au long du repas, surtout quand il était clair que les parents de Kelsie ne faisaient pas vraiment attention à vous.

En faisant vos adieux aux Sparks, vous remarquez que Kelsie est un peu distante. Il semble qu&#39;elle ait remarqué que vous passiez le plus clair de votre temps sur votre téléphone, au lieu d&#39;être présent avec tout le monde. Elle vous dit que vous devez avoir une conversation plus tard. Vous savez que cette fois, ce ne sera pas aussi agréable que la dernière fois. Si vous faites confiance à votre instinct, soit elle va vous passer un savon, soit elle va vous larguer.

Vous montez dans votre voiture et remarquez que votre téléphone clignote. Vous savez que vous ne voulez pas être seule à la maison en ce moment. Vous quittez la maison des Sparks pour vous rendre au bar que Jessie vous a recommandé lors de vos échanges. Vous espérez qu&#39;elle y sera là aussi, pour vous remonter le moral.

Quelques jours plus tard, vous rencontrez Kelsie pour discuter de ce désastreux déjeuner. Elle semble tellement déçue de vous, d&#39;avoir manqué de respect à tout le monde comme ça. Vous rétorquez que ses parents ont d&#39;abord été irrespectueux envers vous, vous faisant sentir comme une nuisance et vous ignorant pour la plupart du temps. Elle vous demande qui aurait pu être si important que vous ayez continué à leur envoyer des messages tout au long de la journée. Vous lui dites que c&#39;était juste un ami. Elle se demande à haute voix si votre amie Jessie avait vraiment plus besoin de vous qu&#39;elle pendant le déjeuner. Vous vous figez. Kelsie mentionne qu&#39;elle a vu son nom sur votre téléphone apparaître ce jour-là et que votre réaction vient de confirmer ses soupçons. Elle ne peut pas croire que vous l’aviez trompée comme ça. Vous essayez d&#39;expliquer que ce n&#39;était pas ce qu&#39;elle pensait et que ses commentaires à votre arrivée vous avaient vraiment affectée. Elle ne semble plus s&#39;en soucier ou essayer de comprendre votre point de vue. Elle ne fait pas confiance à un trompeur.

Vous êtes tous les deux amères face aux actions de l&#39;autre. Jessie s&#39;ennuie de toi après un certain temps, après avoir vu une autre belle personne entrer la boulangerie.

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Infidélité »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="254" name="END7_frf" tags="done END" position="4275,2392" size="100,100">&lt;&lt;set $ghosting to true&gt;&gt; Quelques heures plus tard, cette épreuve touche à sa fin. Vous avez réussi à passer la porte, vous avez rencontré ses parents et vous avez survécu le déjeuner, avec peut-être quelques soucis ici et là. Vous avez cependant des doutes sur le fait que Kelsie ait apprécié aujourd&#39;hui, car elle peut à peine vous regarder. Vous vous souvenez des longs silences pendant le déjeuner et vous vous demandez toujours si vous avez fait les bons choix jusqu&#39;à présent.

Ses parents évitent aussi votre regard, comme ils l’ont fait depuis le début du déjeuner et constatent à peine votre départ. Vous ne savez pas vraiment si vous avez apprécié leur compagnie non plus. Être ignoré la plupart du temps n&#39;était pas votre idée de plaisir.

Vous faites vos adieux en montant dans votre voiture. Vous avez le sentiment que vous quitteriez la maison des Sparks, apparemment pour la première et la dernière fois.

Dans quelques semaines, Kelsie commencera à vous donner des excuses pour ne pas pouvoir vous voir. Bientôt, elle arrête complètement de vous répondre. Vous continuez à jouer ce jour dans votre tête, essayant de trouver où vous vous êtes trompée. Vous ne semblez jamais vous remettre complètement de cette relation ratée. 

&lt;&lt;linkreplace &quot;Continuer&quot;&gt;&gt;[[Recommencer ? |TitleCard]]
	&lt;&lt;dialog &#39;&amp;ensp;&amp;emsp;Game Over&#39;&gt;&gt;\&lt;h3&gt;&lt;div style=&quot;text-align: center;&quot;&gt;//Vous avez trouvé la fin : &#39;&#39;« Ghosting »&#39;&#39;.//&lt;/div&gt;&lt;/h3&gt;Il y a 10 différentes fins à trouver dans ce jeu. Les trouverez-vous tous ?
Vous pouvez voir celles déjà découvertes dans l&#39;onglet //Fin// de la barre latérale.\
	&lt;&lt;/dialog&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $endingfrm to 1&gt;&gt;
</tw-passagedata><tw-passagedata pid="255" name="Credit" tags="" position="450,342" size="100,100"></tw-passagedata><tw-passagedata pid="256" name="Credit_en" tags="Updated" position="450,467" size="100,100">&lt;span style=&quot;font-family: var(--title); font-weight: bold;&quot;&gt;Meeting the Parents&lt;/span&gt; was created and built by manonamora on Twine (Sugarcube).

* &lt;i class=&quot;fab fa-tumblr&quot;&gt;&lt;/i&gt; [[@manonamora-if|https://manonamora-if.tumblr.com/]]
* &lt;i class=&quot;fab fa-itch-io&quot;&gt;&lt;/i&gt; [[@manonamora|https://manonamora.itch.io/]]
* &lt;i class=&quot;fas fa-coffee&quot;&gt;&lt;/i&gt; [[@manonamora|https://ko-fi.com/manonamora]]
&lt;hr&gt;
&lt;span style=&quot;font-family: var(--title); font-weight: bold;&quot;&gt;Meeting the Parents&lt;/span&gt; was made possible thanks to the resources below.

&lt;h3&gt;Macros:&lt;/h3&gt;
* [[Chapel|https://twinelab.net/custom-macros-for-sugarcube-2/demo/]]
* [[Cycy|https://github.com/cyrusfirheir/cycy-wrote-custom-macros/tree/master/live-update]]
* [[HiEv|https://qjzhvmqlzvoo5lqnrvuhmg-on.drv.tw/UInv/Sample_Code.html]]
* [[TMEdwards|https://gist.github.com/tmedwards]]

&lt;h3&gt;Assets:&lt;/h3&gt;
* [[Canva|https://www.canva.com/]]
* [[FontAwesome|https://fontawesome.com/]]
* [[GoogleFonts|https://fonts.google.com]]

&lt;h3&gt;Other:&lt;/h3&gt;
* [[Sugarcube 2 Documentation|https://www.motoslave.net/sugarcube/2/docs/]]
* [[Twinery.org|https://twinery.org/]]
* [[Intfiction.org|https://intfiction.org/c/authoring/twine]]
* [[Reddit r/twinegames|https://www.reddit.com/r/twinegames/]]
* [[Twine Discord|https://discordapp.com/invite/n5dJvPp]]

&lt;div style=&quot;text-align: center;&quot;&gt;&lt;&lt;link &quot;Return&quot;&gt;&gt;&lt;&lt;script&gt;&gt;Engine.backward()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="257" name="Credit_frf" tags="done" position="450,717" size="100,100">&lt;span style=&quot;font-family: var(--title); font-weight: bold;&quot;&gt;Meeting the Parents&lt;/span&gt; a été créé et construit par manonamora sur Twine (Sugarcube). 

* &lt;i class=&quot;fab fa-tumblr&quot;&gt;&lt;/i&gt; [[@manonamora-if|https://manonamora-if.tumblr.com/]]
* &lt;i class=&quot;fab fa-itch-io&quot;&gt;&lt;/i&gt; [[@manonamora|https://manonamora.itch.io/]]
* &lt;i class=&quot;fas fa-coffee&quot;&gt;&lt;/i&gt; [[@manonamora|https://ko-fi.com/manonamora]]
&lt;hr&gt;
&lt;span style=&quot;font-family: var(--title); font-weight: bold;&quot;&gt;Meeting the Parents&lt;/span&gt; a été rendu possible grâce aux ressources ci-dessous.
&lt;hr&gt;
&lt;h3&gt;Macros:&lt;/h3&gt;
* [[Chapel|https://twinelab.net/custom-macros-for-sugarcube-2/demo/]]
* [[Cycy|https://github.com/cyrusfirheir/cycy-wrote-custom-macros/tree/master/live-update]]
* [[HiEv|https://qjzhvmqlzvoo5lqnrvuhmg-on.drv.tw/UInv/Sample_Code.html]]
* [[TMEdwards|https://gist.github.com/tmedwards]]
&lt;hr&gt;
&lt;h3&gt;Assets:&lt;/h3&gt;
* [[Canva|https://www.canva.com/]]
* [[FontAwesome|https://fontawesome.com/]]
* [[GoogleFonts|https://fonts.google.com]]
&lt;hr&gt;
&lt;h3&gt;Autre:&lt;/h3&gt;
* [[Sugarcube 2 Documentation|https://www.motoslave.net/sugarcube/2/docs/]]
* [[Twinery.org|https://twinery.org/]]
* [[Intfiction.org|https://intfiction.org/c/authoring/twine]]
* [[Reddit r/twinegames|https://www.reddit.com/r/twinegames/]]
* [[Twine Discord|https://discordapp.com/invite/n5dJvPp]]

&lt;div style=&quot;text-align: center;&quot;&gt;&lt;&lt;link &quot;Return&quot;&gt;&gt;&lt;&lt;script&gt;&gt;Engine.backward()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="258" name="Credit_frm" tags="translated" position="450,592" size="100,100">&lt;span style=&quot;font-family: var(--title); font-weight: bold;&quot;&gt;Meeting the Parents&lt;/span&gt; a été créé et construit par manonamora sur Twine (Sugarcube). 

* &lt;i class=&quot;fab fa-tumblr&quot;&gt;&lt;/i&gt; [[@manonamora-if|https://manonamora-if.tumblr.com/]]
* &lt;i class=&quot;fab fa-itch-io&quot;&gt;&lt;/i&gt; [[@manonamora|https://manonamora.itch.io/]]
* &lt;i class=&quot;fas fa-coffee&quot;&gt;&lt;/i&gt; [[@manonamora|https://ko-fi.com/manonamora]]
&lt;hr&gt;
&lt;span style=&quot;font-family: var(--title); font-weight: bold;&quot;&gt;Meeting the Parents&lt;/span&gt; a été rendu possible grâce aux ressources ci-dessous.
&lt;hr&gt;
&lt;h3&gt;Macros:&lt;/h3&gt;
* [[Chapel|https://twinelab.net/custom-macros-for-sugarcube-2/demo/]]
* [[Cycy|https://github.com/cyrusfirheir/cycy-wrote-custom-macros/tree/master/live-update]]
* [[HiEv|https://qjzhvmqlzvoo5lqnrvuhmg-on.drv.tw/UInv/Sample_Code.html]]
* [[TMEdwards|https://gist.github.com/tmedwards]]
&lt;hr&gt;
&lt;h3&gt;Assets:&lt;/h3&gt;
* [[Canva|https://www.canva.com/]]
* [[FontAwesome|https://fontawesome.com/]]
* [[GoogleFonts|https://fonts.google.com]]
&lt;hr&gt;
&lt;h3&gt;Autre:&lt;/h3&gt;
* [[Sugarcube 2 Documentation|https://www.motoslave.net/sugarcube/2/docs/]]
* [[Twinery.org|https://twinery.org/]]
* [[Intfiction.org|https://intfiction.org/c/authoring/twine]]
* [[Reddit r/twinegames|https://www.reddit.com/r/twinegames/]]
* [[Twine Discord|https://discordapp.com/invite/n5dJvPp]]

&lt;div style=&quot;text-align: center;&quot;&gt;&lt;&lt;link &quot;Return&quot;&gt;&gt;&lt;&lt;script&gt;&gt;Engine.backward()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="259" name="Widget" tags="widget nobr" position="716,264" size="100,100">&lt;&lt;widget &quot;resetgame&quot;&gt;&gt;
	&lt;&lt;if def $name&gt;&gt;
		&lt;&lt;unset $name&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $try&gt;&gt;
		&lt;&lt;unset $try&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $memory&gt;&gt;
		&lt;&lt;unset $memory&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $handshake&gt;&gt;
		&lt;&lt;unset $handshake&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $dish&gt;&gt;
		&lt;&lt;unset $dish&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $later&gt;&gt;
		&lt;&lt;unset $later&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $happy&gt;&gt;
		&lt;&lt;unset $happy&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $outfit&gt;&gt;
		&lt;&lt;unset $outfit&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $time&gt;&gt;
		&lt;&lt;unset $time&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $present&gt;&gt;
		&lt;&lt;unset $present&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $total&gt;&gt;
		&lt;&lt;unset $total&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $shop&gt;&gt;
		&lt;&lt;unset $shop&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $store&gt;&gt;
		&lt;&lt;unset $store&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;if def $cheating&gt;&gt;
		&lt;&lt;unset $cheating&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="260" name="StoryInit" tags="" position="860,322" size="100,100">&lt;&lt;set $name to true&gt;&gt;</tw-passagedata><tw-passagedata pid="261" name="StoryInit_en" tags="" position="980,322" size="100,100">&lt;&lt;set $name to true&gt;&gt;</tw-passagedata></tw-storydata>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){(function(window,document,jQuery,undefined){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function mesg(where,error,isFatal,isUncaught){var mesg="Error",nice="A".concat(isFatal?" fatal":"n"," error has occurred.");nice+=isFatal?" Aborting.":" You may be able to continue, but some parts may not work properly.";var isObject=null!==error&&"object"===_typeof(error),what=(isObject&&"message"in error?String(error.message).replace(errorPrologRegExp,""):String(error)).trim()||"unknown error";null!=where&&(mesg+=" [".concat(where,"]")),mesg+=": ".concat(what,"."),isObject&&"stack"in error&&(mesg+="\n\nStack Trace:\n".concat(error.stack)),mesg&&(nice+="\n\n".concat(mesg)),isUncaught||console[isFatal?"error":"warn"](mesg),window.alert(nice)}var origOnError;return origOnError=window.onerror,window.onerror=function(what,source,lineNum,colNum,error){"complete"===document.readyState?mesg(null,null!=error?error:what,!1,!0):(mesg(null,null!=error?error:what,!0,!0),window.onerror=origOnError,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))},Object.freeze(Object.defineProperties({},{error:{value:function(where,error){mesg(where,error)}},fatal:{value:function(where,error){mesg(where,error,!0)}}}))}(),Patterns=(wsMap=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),wsRe=/^\s$/,missing="",wsMap.forEach((function(pat,char){wsRe.test(char)||(missing+=pat)})),space=missing?"[\\s".concat(missing,"]"):"\\s",spaceNoTerminator="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",notSpace="\\s"===space?"\\S":space.replace(/^\[/,"[^"),anyChar="(?:.|".concat("[\\n\\r\\u2028\\u2029]",")"),anyLetter="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",anyLetterStrict=anyLetter.replace("\\-",""),identifier="".concat("[$A-Z_a-z]").concat("[$0-9A-Z_a-z]","*"),variable="[$_]"+identifier,htmlTagName="[A-Za-z](?:".concat(cENChar="(?:[\\x2D.0-9A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])","*-").concat(cENChar,"*|[0-9A-Za-z]*)"),twStyle="(".concat(anyLetter,"+)\\(([^\\)\\|\\n]+)\\):"),cssStyle="".concat(spaceNoTerminator,"*(").concat(anyLetter,"+)").concat(spaceNoTerminator,"*:([^;\\|\\n]+);"),idOrClass="".concat(spaceNoTerminator,"*((?:").concat("[#.]").concat(anyLetter,"+").concat(spaceNoTerminator,"*)+);"),inlineCss="".concat(twStyle,"|").concat(cssStyle,"|").concat(idOrClass),Object.freeze({space:space,spaceNoTerminator:spaceNoTerminator,lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:notSpace,anyChar:anyChar,anyLetter:anyLetter,anyLetterStrict:anyLetterStrict,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:identifier,variableSigil:"[$_]",variable:variable,macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",htmlTagName:htmlTagName,cssIdOrClassSigil:"[#.]",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:inlineCss,url:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+"})),wsMap,wsRe,missing,cENChar,twStyle,cssStyle,idOrClass,space,spaceNoTerminator,notSpace,anyChar,anyLetter,anyLetterStrict,identifier,variable,htmlTagName,inlineCss;!function(){var startWSRe,endWSRe,_trimString=(startWSRe=new RegExp("^".concat(Patterns.space).concat(Patterns.space,"*")),endWSRe=new RegExp("".concat(Patterns.space).concat(Patterns.space,"*$")),function(str,where){var val=String(str);if(!val)return val;switch(where){case"start":return startWSRe.test(val)?val.replace(startWSRe,""):val;case"end":return endWSRe.test(val)?val.replace(endWSRe,""):val;default:throw new Error('_trimString called with incorrect where parameter value: "'.concat(where,'"'))}});function _createPadString(length,padding){var targetLength=Number.parseInt(length,10)||0;if(targetLength<1)return"";var padString=void 0===padding?"":String(padding);for(""===padString&&(padString=" ");padString.length<targetLength;){var curPadLength=padString.length,remainingLength=targetLength-curPadLength;padString+=curPadLength>remainingLength?padString.slice(0,remainingLength):padString}return padString.length>targetLength&&(padString=padString.slice(0,targetLength)),padString}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function flat(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var depth=0===arguments.length?1:Number(arguments[0])||0;return depth<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,(function(acc,cur){return cur instanceof Array?acc.push.apply(acc,_toConsumableArray(flat.call(cur,depth-1))):acc.push(cur),acc}),[])}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var length=this.length>>>0;if(0===length)return!1;var needle=arguments[0],i=Number(arguments[1])||0;for(i<0&&(i=Math.max(0,length+i));i<length;++i){var value=this[i];if(value===needle||value!=value&&needle!=needle)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(obj).map((function(key){return[key,obj[key]]}))}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(iter){return Array.from(iter).reduce((function(acc,pair){if(Object(pair)!==pair)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return pair[0]in acc?Object.defineProperty(acc,pair[0],{configurable:!0,enumerable:!0,writable:!0,value:pair[1]}):acc[pair[0]]=pair[1],acc}),{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(obj){if(null==obj)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var O=Object(obj);return Reflect.ownKeys(O).reduce((function(acc,key){var desc=Object.getOwnPropertyDescriptor(O,key);return void 0!==desc&&(key in acc?Object.defineProperty(acc,key,{configurable:!0,enumerable:!0,writable:!0,value:desc}):acc[key]=desc),acc}),{})}}),Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.values object parameter must be an object");return Object.keys(obj).map((function(key){return obj[key]}))}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:_createPadString(targetLength-baseLength,padding)+baseString}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:baseString+_createPadString(targetLength-baseLength,padding)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return _trimString(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return _trimString(this,"end")}})}(),function(){var _nativeMathRandom=Math.random,_regExpMetaCharsRe,_hasRegExpMetaCharsRe,_formatRegExp,_hasFormatRegExp;function _random(){var min,max;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:min=0,max=arguments[0];break;default:min=arguments[0],max=arguments[1]}if(min>max){var _ref=[max,min];min=_ref[0],max=_ref[1]}return Math.floor(_nativeMathRandom()*(max-min+1))+min}function _randomIndex(length,boundsArgs){var min,max;switch(boundsArgs.length){case 1:min=0,max=length-1;break;case 2:min=0,max=Math.trunc(boundsArgs[1]);break;default:min=Math.trunc(boundsArgs[1]),max=Math.trunc(boundsArgs[2])}return Number.isNaN(min)?min=0:!Number.isFinite(min)||min>=length?min=length-1:min<0&&(min=length+min)<0&&(min=0),Number.isNaN(max)?max=0:(!Number.isFinite(max)||max>=length||max<0&&(max=length+max)<0)&&(max=length-1),_random(min,max)}function _getCodePointStartAndEnd(str,pos){var code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};if(code<55296||code>57343)return{char:str.charAt(pos),start:pos,end:pos};if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)throw new Error("high surrogate without trailing low surrogate");var nextCode=str.charCodeAt(nextPos);if(nextCode<56320||nextCode>57343)throw new Error("high surrogate without trailing low surrogate");return{char:str.charAt(pos)+str.charAt(nextPos),start:pos,end:nextPos}}if(0===pos)throw new Error("low surrogate without leading high surrogate");var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);if(prevCode<55296||prevCode>56319)throw new Error("low surrogate without leading high surrogate");return{char:str.charAt(prevPos)+str.charAt(pos),start:prevPos,end:pos}}Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(array){if("object"!==_typeof(array)||null===array||!Object.prototype.hasOwnProperty.call(array,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var length=array.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments,1));return array[index]}}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var result=Array.from(this);if(0===arguments.length)return result;var items=Array.prototype.reduce.call(arguments,(function(prev,cur){return prev.concat(cur)}),[]),addSize=items.length;if(0===addSize)return result;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=items[i];-1===indexOf.call(result,value)&&push.call(result,value)}return result}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var indexOf=Array.prototype.indexOf,needle=arguments[0],pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,++pos;return count}}),Object.defineProperty(Array.prototype,"countWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.countWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.countWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return 0;for(var count=0,i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&++count;return count}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var needles=Array.prototype.concat.apply([],arguments),needlesLength=needles.length,indices=[],i=0;i<length;++i)for(var value=this[i],j=0;j<needlesLength;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){indices.push(i);break}}for(var result=[],_i=0,iend=indices.length;_i<iend;++_i)result[_i]=this[indices[_i]];for(var splice=Array.prototype.splice,_i2=indices.length-1;_i2>=0;--_i2)splice.call(this,indices[_i2],1);return result}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,cpyIndices=_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map((function(x){return x<0?Math.max(0,length+x):x}))).values()),delIndices=_toConsumableArray(cpyIndices).sort((function(a,b){return b-a})),result=[],i=0,iend=cpyIndices.length;i<iend;++i)result[i]=this[cpyIndices[i]];for(var _i3=0,_iend=delIndices.length;_i3<_iend;++_i3)splice.call(this,delIndices[_i3],1);return result}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,indices=[],result=[],i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&(result.push(this[i]),indices.push(i));for(var _i4=indices.length-1;_i4>=0;--_i4)splice.call(this,indices[_i4],1);return result}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!==this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(!Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var length=this.length>>>0;if(0!==length)return this[length-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return Array.prototype.splice.call(this,index,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var splice=Array.prototype.splice,result=[],max=length-1;do{result.push(splice.call(this,_random(0,max--),1)[0])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&push.call(this,value)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return this[index]}}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var picked=new Map,result=[],max=length-1;do{var i=void 0;do{i=_random(0,max)}while(picked.has(i));picked.set(i,!0),result.push(this[i])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var length=this.length>>>0;if(0===length)return this;for(var i=length-1;i>0;--i){var j=Math.floor(_nativeMathRandom()*(i+1));if(i!==j){var swap=this[i];this[i]=this[j],this[j]=swap}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,unshift=Array.prototype.unshift,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&unshift.call(this,value)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var slice=Array.prototype.slice,fn=this,bound=slice.call(arguments,0);return function(){for(var applied=[],argc=0,i=0;i<bound.length;++i)applied.push(bound[i]===undefined?arguments[argc++]:bound[i]);return fn.apply(this,applied.concat(slice.call(arguments,argc)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(num,min,max){var value=Number(num);return Number.isNaN(value)?NaN:value.clamp(min,max)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(num){return 1-(Math.cos(Number(num)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var min=Number(arguments[0]),max=Number(arguments[1]);if(min>max){var _ref2=[max,min];min=_ref2[0],max=_ref2[1]}return Math.min(Math.max(this,min),max)}}),RegExp.escape||(_regExpMetaCharsRe=/[\\^$*+?.()|[\]{}]/g,_hasRegExpMetaCharsRe=new RegExp(_regExpMetaCharsRe.source),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(str){var val=String(str);return val&&_hasRegExpMetaCharsRe.test(val)?val.replace(_regExpMetaCharsRe,"\\$&"):val}})),_formatRegExp=/{(\d+)(?:,([+-]?\d+))?}/g,_hasFormatRegExp=new RegExp(_formatRegExp.source),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(format){function padString(str,align,pad){if(!align)return str;var plen=Math.abs(align)-str.length;if(plen<1)return str;var padding=String(pad).repeat(plen);return align<0?str+padding:padding+str}if(arguments.length<2)return 0===arguments.length?"":format;var args=2===arguments.length&&Array.isArray(arguments[1])?_toConsumableArray(arguments[1]):Array.prototype.slice.call(arguments,1);return 0===args.length?format:_hasFormatRegExp.test(format)?(_formatRegExp.lastIndex=0,format.replace(_formatRegExp,(function(match,index,align){var retval=args[index];if(null==retval)return"";for(;"function"==typeof retval;)retval=retval();switch(_typeof(retval)){case"string":break;case"object":retval=JSON.stringify(retval);break;default:retval=String(retval)}return padString(retval,align?Number.parseInt(align,10):0," ")}))):format}}),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var needle=String(arguments[0]||"");if(""===needle)return 0;for(var indexOf=String.prototype.indexOf,step=needle.length,pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,pos+=step;return count}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var str=String(this);return _getCodePointStartAndEnd(str,str.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(startAt,delCount,replacement){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var length=this.length>>>0;if(0===length)return"";var start=Number(startAt);Number.isSafeInteger(start)?start<0&&(start+=length)<0&&(start=0):start=0,start>length&&(start=length);var count=Number(delCount);(!Number.isSafeInteger(count)||count<0)&&(count=0);var res=this.slice(0,start);return void 0!==replacement&&(res+=replacement),start+count<length&&(res+=this.slice(start+count)),res}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd3=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd3.char,end=_getCodePointStartAnd3.end;return-1===end?"":char.toLocaleUpperCase()+str.slice(end+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd4=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd4.char,end=_getCodePointStartAnd4.end;return-1===end?"":char.toUpperCase()+str.slice(end+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","(".concat(this.toString(),")")]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",_toConsumableArray(this)]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",_toConsumableArray(this)]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(code,data){if("string"!=typeof code)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[code,data]]}}),Object.defineProperty(JSON,"_real_stringify",{value:JSON.stringify}),Object.defineProperty(JSON,"stringify",{configurable:!0,writable:!0,value:function(_value,replacer,space){return JSON._real_stringify(_value,(function(key,val){var value=val;if("function"==typeof replacer)try{value=replacer(key,value)}catch(ex){}return void 0===value&&(value=["(revive:eval)","undefined"]),value}),space)}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,(function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(ex){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(ex){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(ex){}return value}))}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.flat.call(this,1/0)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var match,re=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),names=[];null!==(match=re.exec(this));)match[1]?names.push(match[1]):match[2]&&names.push(match[2]);return names}})}();var Browser=(userAgent=navigator.userAgent.toLowerCase(),winPhone=userAgent.includes("windows phone"),isMobile=Object.freeze({Android:!winPhone&&userAgent.includes("android"),BlackBerry:/blackberry|bb10/.test(userAgent),iOS:!winPhone&&/ip(?:hone|ad|od)/.test(userAgent),Opera:!winPhone&&("object"===_typeof(window.operamini)||userAgent.includes("opera mini")),Windows:winPhone||/iemobile|wpdesktop/.test(userAgent),any:function(){return isMobile.Android||isMobile.BlackBerry||isMobile.iOS||isMobile.Opera||isMobile.Windows}}),isGecko=!isMobile.Windows&&!/khtml|trident|edge/.test(userAgent)&&userAgent.includes("gecko"),isIE=!userAgent.includes("opera")&&/msie|trident/.test(userAgent),ieVersion=isIE?(ver=/(?:msie\s+|rv:)(\d+\.\d)/.exec(userAgent))?Number(ver[1]):0:null,isOpera=userAgent.includes("opera")||userAgent.includes(" opr/"),operaVersion=isOpera?function(){var ver=new RegExp("".concat(/khtml|chrome/.test(userAgent)?"opr":"version","\\/(\\d+\\.\\d+)")).exec(userAgent);return ver?Number(ver[1]):0}():null,isVivaldi=userAgent.includes("vivaldi"),Object.freeze({userAgent:userAgent,isMobile:isMobile,isGecko:isGecko,isIE:isIE,ieVersion:ieVersion,isOpera:isOpera,operaVersion:operaVersion,isVivaldi:isVivaldi})),ver,userAgent,winPhone,isMobile,isGecko,isIE,ieVersion,isOpera,operaVersion,isVivaldi,Has=(hasAudioElement=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(ex){}return!1}(),hasFile=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(ex){}return!1}(),hasGeolocation=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(ex){}return!1}(),hasMutationObserver=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(ex){}return!1}(),hasPerformance=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(ex){}return!1}(),hasTouch=function(){try{return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch||!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints}catch(ex){}return!1}(),hasTransitionEndEvent=function(){try{for(var teMap=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),teKeys=_toConsumableArray(teMap.keys()),el=document.createElement("div"),i=0;i<teKeys.length;++i)if(el.style[teKeys[i]]!==undefined)return teMap.get(teKeys[i])}catch(ex){}return!1}(),Object.freeze({audio:hasAudioElement,fileAPI:hasFile,geolocation:hasGeolocation,mutationObserver:hasMutationObserver,performance:hasPerformance,touch:hasTouch,transitionEndEvent:hasTransitionEndEvent})),hasAudioElement,hasFile,hasGeolocation,hasMutationObserver,hasPerformance,hasTouch,hasTransitionEndEvent,Visibility=(vendor=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find((function(vnd){return vnd.hiddenProperty in document})))}catch(ex){}return undefined}(),Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},state:{get:function(){return vendor&&document[vendor.stateProperty]||"visible"}},isEnabled:{value:function(){return Boolean(vendor)}},isHidden:{value:function(){return Boolean(vendor&&document[vendor.hiddenProperty])}},hiddenProperty:{value:vendor&&vendor.hiddenProperty},stateProperty:{value:vendor&&vendor.stateProperty},changeEvent:{value:vendor&&vendor.changeEvent}}))),vendor,Fullscreen=function(){var _hasPromise,vendor=function(){try{return Object.freeze([{isEnabled:"fullscreenEnabled",element:"fullscreenElement",requestFn:"requestFullscreen",exitFn:"exitFullscreen",changeEvent:"fullscreenchange",errorEvent:"fullscreenerror"},{isEnabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",requestFn:"webkitRequestFullscreen",exitFn:"webkitExitFullscreen",changeEvent:"webkitfullscreenchange",errorEvent:"webkitfullscreenerror"},{isEnabled:"mozFullScreenEnabled",element:"mozFullScreenElement",requestFn:"mozRequestFullScreen",exitFn:"mozCancelFullScreen",changeEvent:"mozfullscreenchange",errorEvent:"mozfullscreenerror"},{isEnabled:"msFullscreenEnabled",element:"msFullscreenElement",requestFn:"msRequestFullscreen",exitFn:"msExitFullscreen",changeEvent:"MSFullscreenChange",errorEvent:"MSFullscreenError"}].find((function(vnd){return vnd.isEnabled in document})))}catch(ex){}return undefined}(),_returnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,vendor)try{var value=document.exitFullscreen();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise});function _selectElement(requestedEl){var selectedEl=requestedEl||document.documentElement;return selectedEl===document.documentElement&&("msRequestFullscreen"===vendor.requestFn||Browser.isOpera&&Browser.operaVersion<15)&&(selectedEl=document.body),selectedEl}function isFullscreen(){return Boolean(vendor&&document[vendor.element])}function requestFullscreen(options,requestedEl){var _this=this;if(!vendor)return Promise.reject(new Error("fullscreen not supported"));var element=_selectElement(requestedEl);if("function"!=typeof element[vendor.requestFn])return Promise.reject(new Error("fullscreen not supported"));if(isFullscreen())return Promise.resolve();if(_returnsPromise())return element[vendor.requestFn](options);var namespace=".Fullscreen_requestFullscreen";return new Promise((function(resolve,reject){jQuery(element).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen request error")):resolve()})),element[vendor.requestFn](options)}))}function exitFullscreen(){var _this2=this;if(!vendor||"function"!=typeof document[vendor.exitFn])return Promise.reject(new TypeError("fullscreen not supported"));if(!isFullscreen())return Promise.reject(new TypeError("fullscreen mode not active"));if(_returnsPromise())return document[vendor.exitFn]();var namespace=".Fullscreen_exitFullscreen";return new Promise((function(resolve,reject){jQuery(document).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this2).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen exit error")):resolve()})),document[vendor.exitFn]()}))}return Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},element:{get:function(){return vendor?document[vendor.element]:null}},isEnabled:{value:function(){return Boolean(vendor&&document[vendor.isEnabled])}},isFullscreen:{value:isFullscreen},request:{value:requestFullscreen},exit:{value:exitFullscreen},toggle:{value:function(options,requestedEl){return isFullscreen()?exitFullscreen():requestFullscreen(options,requestedEl)}},onChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.changeEvent,handlerFn)}}},offChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.changeEvent,handlerFn):$(element).off(vendor.changeEvent)}}},onError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.errorEvent,handlerFn)}}},offError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.errorEvent,handlerFn):$(element).off(vendor.errorEvent)}}}}))}(),_ref3=Object.freeze(Object.defineProperties({},{clone:{value:function clone(orig){return"object"!==_typeof(orig)||null===orig?orig:orig instanceof String?String(orig):orig instanceof Number?Number(orig):orig instanceof Boolean?Boolean(orig):"function"==typeof orig.clone?orig.clone(!0):orig.nodeType&&"function"==typeof orig.cloneNode?orig.cloneNode(!0):(orig instanceof Array?copy=new Array(orig.length):orig instanceof Date?copy=new Date(orig.getTime()):orig instanceof Map?(copy=new Map,orig.forEach((function(val,key){return copy.set(key,clone(val))}))):orig instanceof RegExp?copy=new RegExp(orig):orig instanceof Set?(copy=new Set,orig.forEach((function(val){return copy.add(clone(val))}))):copy=Object.create(Object.getPrototypeOf(orig)),Object.keys(orig).forEach((function(name){return copy[name]=clone(orig[name])})),copy);var copy}},convertBreaks:{value:function(source){for(var node,output=document.createDocumentFragment(),para=document.createElement("p");null!==(node=source.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":if(null!==node.nextSibling&&node.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===node.nextSibling.nodeName.toUpperCase()){source.removeChild(node.nextSibling),source.removeChild(node),output.appendChild(para),para=document.createElement("p");continue}if(!para.hasChildNodes()){source.removeChild(node);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":para.hasChildNodes()&&(output.appendChild(para),para=document.createElement("p")),output.appendChild(node);continue}para.appendChild(node)}para.hasChildNodes()&&output.appendChild(para),source.appendChild(output)}},safeActiveElement:{value:function(){try{return document.activeElement||null}catch(ex){return null}}},setDisplayTitle:{value:function(title){if("string"!=typeof title)throw new TypeError("story display title must be a string (received: ".concat(Util.getType(title),")"));var render=document.createDocumentFragment();new Wikifier(render,title);var text=function(source){for(var node,copy=source.cloneNode(!0),frag=document.createDocumentFragment();null!==(node=copy.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":case"DIV":case"P":frag.appendChild(document.createTextNode(" "))}frag.appendChild(node)}return frag.textContent}(render).trim();document.title=Config.passages.displayTitles&&""!==State.passage&&State.passage!==Config.passages.start?"".concat(State.passage," | ").concat(text):text;var storyTitle=document.getElementById("story-title");null!==storyTitle&&jQuery(storyTitle).empty().append(render)}},setPageElement:{value:function(idOrElement,titles,defaultText){var el="object"===_typeof(idOrElement)?idOrElement:document.getElementById(idOrElement);if(null==el)return null;var ids=Array.isArray(titles)?titles:[titles];jQuery(el).empty();for(var i=0,iend=ids.length;i<iend;++i)if(Story.has(ids[i]))return new Wikifier(el,Story.get(ids[i]).processText().trim()),el;if(null!=defaultText){var text=String(defaultText).trim();""!==text&&new Wikifier(el,text)}return el}},throwError:{value:function(place,message,source){var $wrapper=jQuery(document.createElement("div")),$toggle=jQuery(document.createElement("button")),$source=jQuery(document.createElement("pre")),mesg="".concat(L10n.get("errorTitle"),": ").concat(message||"unknown error");return $toggle.addClass("error-toggle").ariaClick({label:L10n.get("errorToggle")},(function(){$toggle.hasClass("enabled")?($toggle.removeClass("enabled"),$source.attr({"aria-hidden":!0,hidden:"hidden"})):($toggle.addClass("enabled"),$source.removeAttr("aria-hidden hidden"))})).appendTo($wrapper),jQuery(document.createElement("span")).addClass("error").text(mesg).appendTo($wrapper),jQuery(document.createElement("code")).text(source).appendTo($source),$source.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo($wrapper),$wrapper.addClass("error-view").appendTo(place),console.warn("".concat(mesg,"\n\t").concat(source.replace(/\n/g,"\n\t"))),!1}},stringFrom:{value:function stringFrom(value){switch(_typeof(value)){case"function":return"[function]";case"number":if(Number.isNaN(value))return"[number NaN]";break;case"object":if(null===value)return"[null]";if(value instanceof Array)return value.map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Set)return Array.from(value).map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Map){var result=Array.from(value).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],val=_ref5[1];return"".concat(stringFrom(key)," → ").concat(stringFrom(val))}));return"{ ".concat(result.join(", ")," }")}if(value instanceof Date)return value.toLocaleString();if(value instanceof Element){if(value===document.documentElement||value===document.head||value===document.body)throw new Error("illegal operation; attempting to convert the <html>, <head>, or <body> tags to string is not allowed");return value.outerHTML}return value instanceof Node?value.textContent:"function"==typeof value.toString?value.toString():Object.prototype.toString.call(value);case"symbol":var desc=void 0!==value.description?' "'.concat(value.description,'"'):"";return"[symbol".concat(desc,"]");case"undefined":return"[undefined]"}return String(value)}}})),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setDisplayTitle=_ref3.setDisplayTitle,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,stringFrom=_ref3.stringFrom;!function(){function onKeypressFn(ev){13!==ev.which&&32!==ev.which||(ev.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function onClickFnWrapper(fn){return function(){var $this=jQuery(this);$this.ariaIsDisabled()||($this.is("[aria-pressed]")&&$this.attr("aria-pressed","true"===$this.attr("aria-pressed")?"false":"true"),fn.apply(this,arguments))}}function oneClickFnWrapper(fn){return onClickFnWrapper((function(){jQuery(this).off(".aria-clickable").removeAttr("role tabindex aria-controls aria-pressed").filter("button").prop("disabled",!0),fn.apply(this,arguments)}))}jQuery.fn.extend({ariaClick:function(options,handler){if(0===this.length||0===arguments.length)return this;var opts=options,fn=handler;return null==fn&&(fn=opts,opts=undefined),"string"!=typeof(opts=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,role:undefined,controls:undefined,pressed:undefined,label:undefined},opts)).namespace?opts.namespace="":"."!==opts.namespace[0]&&(opts.namespace=".".concat(opts.namespace)),"boolean"==typeof opts.pressed&&(opts.pressed=opts.pressed?"true":"false"),this.filter("button").prop("type","button"),null!=opts.role?this.attr("role",opts.role):this.not("[role]").filter("a,[data-passage]").attr("role","link").end().not("a").not("[data-passage]").attr("role","button").end().end().end(),this.attr("tabindex",0),null!=opts.controls&&this.attr("aria-controls",opts.controls),null!=opts.pressed&&this.attr("aria-pressed",opts.pressed),null!=opts.label&&this.attr({"aria-label":opts.label,title:opts.label}),this.not("button").on("keypress.aria-clickable".concat(opts.namespace),opts.selector,onKeypressFn),this.on("click.aria-clickable".concat(opts.namespace),opts.selector,opts.data,opts.one?oneClickFnWrapper(fn):onClickFnWrapper(fn)),this},ariaDisabled:function(disable){if(0===this.length||0===arguments.length)return this;var $nonDisableable=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),$disableable=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return disable?($nonDisableable.each((function(){this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true")})),$disableable.each((function(){this.disabled=!0,this.setAttribute("aria-disabled","true")}))):($nonDisableable.each((function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")})),$disableable.each((function(){this.disabled=!1,this.removeAttribute("aria-disabled")}))),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),jQuery.extend({wikiWithOptions:function(options){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];if(0!==sources.length){var frag=document.createDocumentFragment();sources.forEach((function(content){return new Wikifier(frag,content,options)}));var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "))}},wiki:function(){for(var _len2=arguments.length,sources=new Array(_len2),_key2=0;_key2<_len2;_key2++)sources[_key2]=arguments[_key2];this.wikiWithOptions.apply(this,[undefined].concat(sources))}}),jQuery.fn.extend({wikiWithOptions:function(options){for(var _len3=arguments.length,sources=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)sources[_key3-1]=arguments[_key3];if(0===this.length||0===sources.length)return this;var frag=document.createDocumentFragment();return sources.forEach((function(content){return new Wikifier(frag,content,options)})),this.append(frag),this},wiki:function(){for(var _len4=arguments.length,sources=new Array(_len4),_key4=0;_key4<_len4;_key4++)sources[_key4]=arguments[_key4];return this.wikiWithOptions.apply(this,[undefined].concat(sources))}});var Util=function(){var toString,utilGetType="[object Object]"===(toString=Object.prototype.toString).call(new Map)?function(O){if(null===O)return"null";if(O instanceof Map)return"Map";if(O instanceof Set)return"Set";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType}:function(O){if(null===O)return"null";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType};function utilToEnum(obj){var pEnum=Object.create(null);if(obj instanceof Array)obj.forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Set)Array.from(obj).forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Map)obj.forEach((function(val,key){return pEnum[String(key)]=val}));else{if("object"!==_typeof(obj)||null===obj||Object.getPrototypeOf(obj)!==Object.prototype)throw new TypeError("Util.toEnum obj parameter must be an Array, Map, Set, or generic object");Object.assign(pEnum,obj)}return Object.freeze(pEnum)}function utilToStringTag(obj){return Object.prototype.toString.call(obj).slice(8,-1)}var _illegalSlugCharsRe=/[\x00-\x20!-/:-@[-^`{-\x9f]+/g,_isInvalidSlugRe=/^-*$/;var _illegalFilenameCharsRE=/[\x00-\x1f"#$%&'*+,/:;<=>?\\^`|\x7f-\x9f]+/g;var _markupCharsRe=/[!"#$&'*\-/<=>?@[\\\]^_`{|}~]/g,_hasMarkupCharsRe=new RegExp(_markupCharsRe.source),_markupCharsMap=utilToEnum({"!":"&#33;",'"':"&quot;","#":"&#35;",$:"&#36;","&":"&amp;","'":"&#39;","*":"&#42;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","?":"&#63;","@":"&#64;","[":"&#91;","\\":"&#92;","]":"&#93;","^":"&#94;",_:"&#95;","`":"&#96;","{":"&#123;","|":"&#124;","}":"&#125;","~":"&#126;"});var _htmlCharsRe=/[&<>"'`]/g,_hasHtmlCharsRe=new RegExp(_htmlCharsRe.source),_htmlCharsMap=utilToEnum({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"});function utilEscape(str){if(null==str)return"";var val=String(str);return val&&_hasHtmlCharsRe.test(val)?val.replace(_htmlCharsRe,(function(ch){return _htmlCharsMap[ch]})):val}var _escapedHtmlRe=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,_hasEscapedHtmlRe=new RegExp(_escapedHtmlRe.source,"i"),_escapedHtmlMap=utilToEnum({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"});function utilUnescape(str){if(null==str)return"";var val=String(str);return val&&_hasEscapedHtmlRe.test(val)?val.replace(_escapedHtmlRe,(function(entity){return _escapedHtmlMap[entity.toLowerCase()]})):val}var _nowSource=Has.performance?performance:Date;var _cssTimeRe=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/;var utilScrubEventKey=function(){var separatorKey,decimalKey;if("undefined"!=typeof Intl&&"function"==typeof Intl.NumberFormat){var match=(new Intl.NumberFormat).format(111111.5).match(/(\D*)\d+(\D*)/);match&&(separatorKey=match[1],decimalKey=match[2])}return separatorKey||decimalKey||(separatorKey=",",decimalKey="."),function(key){switch(key){case"Scroll":return"ScrollLock";case"Spacebar":return" ";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Del":return"Delete";case"Crsel":return"CrSel";case"Exsel":return"ExSel";case"Esc":return"Escape";case"Apps":return"ContextMenu";case"Nonconvert":return"NonConvert";case"MediaNextTrack":return"MediaTrackNext";case"MediaPreviousTrack":return"MediaTrackPrevious";case"VolumeUp":return"AudioVolumeUp";case"VolumeDown":return"AudioVolumeDown";case"VolumeMute":return"AudioVolumeMute";case"Zoom":return"ZoomToggle";case"SelectMedia":case"MediaSelect":return"LaunchMediaPlayer";case"Add":return"+";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-";case"Decimal":return decimalKey;case"Separator":return separatorKey}return key}}(),utilHasMediaQuery="function"!=typeof window.matchMedia?function(){return!1}:function(mediaQuery){return window.matchMedia(mediaQuery).matches};return Object.freeze(Object.defineProperties({},{getType:{value:utilGetType},isBoolean:{value:function(obj){return"boolean"==typeof obj||"string"==typeof obj&&("true"===obj||"false"===obj)}},isIterable:{value:function(obj){return null!=obj&&"function"==typeof obj[Symbol.iterator]}},isNumeric:{value:function(obj){var num;switch(_typeof(obj)){case"number":num=obj;break;case"string":num=Number(obj);break;default:return!1}return!Number.isNaN(num)&&Number.isFinite(num)}},sameValueZero:{value:function(a,b){return a===b||a!=a&&b!=b}},toEnum:{value:utilToEnum},toStringTag:{value:utilToStringTag},slugify:{value:function(str){var base=String(str).trim(),_legacy=base.replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase();return _isInvalidSlugRe.test(_legacy)?base.replace(_illegalSlugCharsRe,"").replace(/[_\s\u2013\u2014-]+/g,"-"):_legacy}},sanitizeFilename:{value:function(str){return String(str).trim().replace(_illegalFilenameCharsRE,"")}},escapeMarkup:{value:function(str){if(null==str)return"";var val=String(str);return val&&_hasMarkupCharsRe.test(val)?val.replace(_markupCharsRe,(function(ch){return _markupCharsMap[ch]})):val}},escape:{value:utilEscape},unescape:{value:utilUnescape},charAndPosAt:{value:function(text,position){var str=String(text),pos=Math.trunc(position),code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};var retval={char:str.charAt(pos),start:pos,end:pos};if(code<55296||code>57343)return retval;if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)return retval;var nextCode=str.charCodeAt(nextPos);return nextCode<56320||nextCode>57343||(retval.char=retval.char+str.charAt(nextPos),retval.end=nextPos),retval}if(0===pos)return retval;var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);return prevCode<55296||prevCode>56319||(retval.char=str.charAt(prevPos)+retval.char,retval.start=prevPos),retval}},now:{value:function(){return _nowSource.now()}},fromCssTime:{value:function(cssTime){var match=_cssTimeRe.exec(String(cssTime));if(null===match)throw new SyntaxError('invalid time value syntax: "'.concat(cssTime,'"'));var msec=Number(match[1]);if(1===match[2].length&&(msec*=1e3),Number.isNaN(msec)||!Number.isFinite(msec))throw new RangeError('invalid time value: "'.concat(cssTime,'"'));return msec}},toCssTime:{value:function(msec){if("number"!=typeof msec||Number.isNaN(msec)||!Number.isFinite(msec)){var what;switch(_typeof(msec)){case"string":what='"'.concat(msec,'"');break;case"number":what=String(msec);break;default:what=utilToStringTag(msec)}throw new Error("invalid milliseconds: ".concat(what))}return"".concat(msec,"ms")}},fromCssProperty:{value:function(cssName){if(!cssName.includes("-"))switch(cssName){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return cssName}return("-ms-"===cssName.slice(0,4)?cssName.slice(1):cssName).split("-").map((function(part,i){return 0===i?part:part.toUpperFirst()})).join("")}},parseUrl:{value:function(url){var el=document.createElement("a"),queryObj=Object.create(null);el.href=url,el.search&&el.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach((function(query){var _query$split2=_slicedToArray(query.split("="),2),key=_query$split2[0],value=_query$split2[1];queryObj[key]=value}));var pathname=el.host&&"/"!==el.pathname[0]?"/".concat(el.pathname):el.pathname;return{href:el.href,protocol:el.protocol,host:el.host,hostname:el.hostname,port:el.port,path:"".concat(pathname).concat(el.search),pathname:pathname,query:el.search,search:el.search,queries:queryObj,searches:queryObj,hash:el.hash}}},newExceptionFrom:{value:function(original,exceptionType,override){if("object"!==_typeof(original)||null===original)throw new Error("Util.newExceptionFrom original parameter must be an object");if("function"!=typeof exceptionType)throw new Error("Util.newExceptionFrom exceptionType parameter must be an error type constructor");var ex=new exceptionType(original.message);void 0!==original.name&&(ex.name=original.name),void 0!==original.code&&(ex.code=original.code),void 0!==original.columnNumber&&(ex.columnNumber=original.columnNumber),void 0!==original.description&&(ex.description=original.description),void 0!==original.fileName&&(ex.fileName=original.fileName),void 0!==original.lineNumber&&(ex.lineNumber=original.lineNumber),void 0!==original.number&&(ex.number=original.number),void 0!==original.stack&&(ex.stack=original.stack);var overrideType=_typeof(override);if("undefined"!==overrideType)if("object"===overrideType&&null!==override)Object.assign(ex,override);else{if("string"!==overrideType)throw new Error("Util.newExceptionFrom override parameter must be an object or string");ex.message=override}return ex}},scrubEventKey:{value:utilScrubEventKey},hasMediaQuery:{value:utilHasMediaQuery},random:{value:Math.random},entityEncode:{value:utilEscape},entityDecode:{value:utilUnescape},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleStore=(_adapters=[],_initialized=null,Object.freeze(Object.defineProperties({},{adapters:{value:_adapters},create:{value:function(storageId,persistent){if(_initialized)return _initialized.create(storageId,persistent);for(var i=0;i<_adapters.length;++i)if(_adapters[i].init(storageId,persistent))return(_initialized=_adapters[i]).create(storageId,persistent);throw new Error("no valid storage adapters found")}}}))),_adapters,_initialized,_ok,_WebStorageAdapter;SimpleStore.adapters.push((_ok=!1,_WebStorageAdapter=function(){function _WebStorageAdapter(storageId,persistent){_classCallCheck(this,_WebStorageAdapter);var prefix="".concat(storageId,"."),engine=null,name=null;persistent?(engine=window.localStorage,name="localStorage"):(engine=window.sessionStorage,name="sessionStorage"),Object.defineProperties(this,{_engine:{value:engine},_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:name},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_WebStorageAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){for(var keys=[],i=0;i<this._engine.length;++i){var key=this._engine.key(i);this._prefixRe.test(key)&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&this._engine.hasOwnProperty(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=this._engine.getItem(this._prefix+key);return null==value?null:_WebStorageAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{this._engine.setItem(this._prefix+key,_WebStorageAdapter._serialize(value))}catch(ex){if(/quota.?(?:exceeded|reached)/i.test(ex.name+ex.message))throw Util.newExceptionFrom(ex,Error,"".concat(this.name," quota exceeded"));throw ex}return!0}},{key:"delete",value:function(key){return!("string"!=typeof key||!key||(this._engine.removeItem(this._prefix+key),0))}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_serialize",value:function(obj){return LZString.compressToUTF16(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromUTF16(str))}}]),_WebStorageAdapter}(),Object.freeze(Object.defineProperties({},{init:{value:function(){function hasWebStorage(storeId){try{var store=window[storeId],tid="_sc_".concat(String(Date.now()));store.setItem(tid,tid);var result=store.getItem(tid)===tid;return store.removeItem(tid),result}catch(ex){}return!1}return _ok=hasWebStorage("localStorage")&&hasWebStorage("sessionStorage")}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _WebStorageAdapter(storageId,persistent)}}})))),SimpleStore.adapters.push(function(){var _MAX_EXPIRY="Tue, 19 Jan 2038 03:14:07 GMT",_MIN_EXPIRY="Thu, 01 Jan 1970 00:00:00 GMT",_ok=!1,_CookieAdapter=function(){function _CookieAdapter(storageId,persistent){_classCallCheck(this,_CookieAdapter);var prefix="".concat(storageId).concat(persistent?"!":"*",".");Object.defineProperties(this,{_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:"cookie"},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_CookieAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var cookies=document.cookie.split(/;\s*/),keys=[],i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(this._prefixRe.test(key))""!==decodeURIComponent(kvPair[1])&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&null!==_CookieAdapter._getCookie(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=_CookieAdapter._getCookie(this._prefix+key);return null===value?null:_CookieAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,_CookieAdapter._serialize(value),this.persistent?"Tue, 19 Jan 2038 03:14:07 GMT":undefined),!this.has(key))throw new Error("unknown validation error during set")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"delete",value:function(key){if("string"!=typeof key||!key||!this.has(key))return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,undefined,_MIN_EXPIRY),this.has(key))throw new Error("unknown validation error during delete")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_getCookie",value:function(prefixedKey){if(!prefixedKey||""===document.cookie)return null;for(var cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("=");if(prefixedKey===decodeURIComponent(kvPair[0]))return decodeURIComponent(kvPair[1])||null}return null}},{key:"_setCookie",value:function(prefixedKey,value,expiry){if(prefixedKey){var payload="".concat(encodeURIComponent(prefixedKey),"=");null!=value&&(payload+=encodeURIComponent(value)),null!=expiry&&(payload+="; expires=".concat(expiry)),payload+="; path=/",document.cookie=payload}}},{key:"_serialize",value:function(obj){return LZString.compressToBase64(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromBase64(str))}}]),_CookieAdapter}();return Object.freeze(Object.defineProperties({},{init:{value:function(storageId){try{var tid="_sc_".concat(String(Date.now()));_CookieAdapter._setCookie(tid,_CookieAdapter._serialize(tid),undefined),_ok=_CookieAdapter._deserialize(_CookieAdapter._getCookie(tid))===tid,_CookieAdapter._setCookie(tid,undefined,_MIN_EXPIRY)}catch(ex){_ok=!1}return _ok&&function(storageId){if(""===document.cookie)return;for(var oldPrefix="".concat(storageId,"."),oldPrefixRe=new RegExp("^".concat(RegExp.escape(oldPrefix))),persistPrefix="".concat(storageId,"!."),sessionPrefix="".concat(storageId,"*."),sessionTestRe=/\.(?:state|rcWarn)$/,cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(oldPrefixRe.test(key)){var value=decodeURIComponent(kvPair[1]);""!==value&&function(){var persist=!sessionTestRe.test(key);_CookieAdapter._setCookie(key,undefined,_MIN_EXPIRY),_CookieAdapter._setCookie(key.replace(oldPrefixRe,(function(){return persist?persistPrefix:sessionPrefix})),value,persist?_MAX_EXPIRY:undefined)}()}}}(storageId),_ok}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _CookieAdapter(storageId,persistent)}}}))}());var DebugView=function(){function DebugView(parent,type,name,title){_classCallCheck(this,DebugView),Object.defineProperties(this,{parent:{value:parent},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:title,"aria-label":title,"data-type":null!=type?type:"","data-name":null!=name?name:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(DebugView,[{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(type){this.view.setAttribute("data-type",null!=type?type:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(name){this.view.setAttribute("data-name",null!=name?name:"")}},{key:"title",get:function(){return this.view.title},set:function(title){this.view.title=title}},{key:"append",value:function(el){return jQuery(this.view).append(el),this}},{key:"modes",value:function(options){if(null==options){var current={};return this.view.className.splitOrEmpty(/\s+/).forEach((function(name){"debug"!==name&&(current[name]=!0)})),current}if("object"===_typeof(options))return Object.keys(options).forEach((function(name){this[options[name]?"addClass":"removeClass"](name)}),jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var $view=jQuery(this.view);this.view.hasChildNodes()&&$view.contents().appendTo(this.parent),$view.remove(),jQuery(this.break).remove()}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?DebugView.disable():DebugView.enable()}}]),DebugView}(),NodeTyper=function(){var NodeTyper=function(){function NodeTyper(config){if(_classCallCheck(this,NodeTyper),"object"!==_typeof(config)||null===config)throw new Error("config parameter must be an object (received: ".concat(Util.getType(config),")"));if(!(config.hasOwnProperty("targetNode")&&config.targetNode instanceof Node))throw new Error('config parameter object "targetNode" property must be a node');Object.defineProperties(this,{node:{value:config.targetNode},childNodes:{value:[]},nodeValue:{writable:!0,value:""},appendTo:{writable:!0,value:config.parentNode||null},classNames:{writable:!0,value:config.classNames||null},finished:{writable:!0,value:!1}});var childNode,node=this.node;for(node.nodeValue&&(this.nodeValue=node.nodeValue,node.nodeValue="");null!==(childNode=node.firstChild);)this.childNodes.push(new NodeTyper({targetNode:childNode,parentNode:node,classNames:this.classNames})),node.removeChild(childNode)}return _createClass(NodeTyper,[{key:"finish",value:function(){for(;this.type(!0););return!1}},{key:"type",value:function(flush){if(this.finished)return!1;if(this.appendTo){if(this.appendTo.appendChild(this.node),this.appendTo=null,this.node.nodeType!==Node.ELEMENT_NODE&&this.node.nodeType!==Node.TEXT_NODE||"none"===jQuery(this.node.parentNode).css("display"))return this.finish();this.node.parentNode&&this.classNames&&jQuery(this.node.parentNode).addClass(this.classNames)}if(this.nodeValue){if(flush)this.node.nodeValue+=this.nodeValue,this.nodeValue="";else{var _Util$charAndPosAt=Util.charAndPosAt(this.nodeValue,0),char=_Util$charAndPosAt.char,start=_Util$charAndPosAt.start,end=_Util$charAndPosAt.end;this.node.nodeValue+=char,this.nodeValue=this.nodeValue.slice(1+end-start)}return!0}this.classNames&&(jQuery(this.node.parentNode).removeClass(this.classNames),this.classNames=null);for(var childNodes=this.childNodes;childNodes.length>0;){if(childNodes[0].type())return!0;childNodes.shift()}return this.finished=!0,!1}}]),NodeTyper}();return NodeTyper}(),PRNGWrapper=function(){function PRNGWrapper(seed,useEntropy){_classCallCheck(this,PRNGWrapper),Object.defineProperties(this,new Math.seedrandom(seed,useEntropy,(function(prng,seed){return{_prng:{value:prng},seed:{writable:!0,value:seed},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}})))}return _createClass(PRNGWrapper,null,[{key:"marshal",value:function(prng){if(!prng||!prng.hasOwnProperty("seed")||!prng.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:prng.seed,pull:prng.pull}}},{key:"unmarshal",value:function(prngObj){if(!prngObj||!prngObj.hasOwnProperty("seed")||!prngObj.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var prng=new PRNGWrapper(prngObj.seed,!1),i=prngObj.pull;i>0;--i)prng.random();return prng}}]),PRNGWrapper}(),StyleWrapper=(_imageMarkupRe=new RegExp(Patterns.cssImage,"g"),_hasImageMarkupRe=new RegExp(Patterns.cssImage),function(){function StyleWrapper(style){if(_classCallCheck(this,StyleWrapper),null==style)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:style}})}return _createClass(StyleWrapper,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(rawCss){this.clear(),this.add(rawCss)}},{key:"add",value:function(rawCss){var css=rawCss;_hasImageMarkupRe.test(css)&&(_imageMarkupRe.lastIndex=0,css=css.replace(_imageMarkupRe,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text.trim())}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),this.style.styleSheet?this.style.styleSheet.cssText+=css:this.style.appendChild(document.createTextNode(css))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),StyleWrapper}()),_imageMarkupRe,_hasImageMarkupRe,Diff=(Op=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3}),Object.freeze(Object.defineProperties({},{Op:{value:Op},diff:{value:function diff(orig,dest){for(var aOpRef,objToString=Object.prototype.toString,origIsArray=orig instanceof Array,keys=[].concat(Object.keys(orig),Object.keys(dest)).sort().filter((function(val,i,arr){return 0===i||arr[i-1]!==val})),diffed={},keyIsAOpRef=function(key){return key===aOpRef},i=0,klen=keys.length;i<klen;++i){var key=keys[i],origP=orig[key],destP=dest[key];if(orig.hasOwnProperty(key))if(dest.hasOwnProperty(key)){if(origP===destP)continue;if(_typeof(origP)===_typeof(destP))if("function"==typeof origP)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,destP]);else if("object"!==_typeof(origP)||null===origP)diffed[key]=[Op.Copy,destP];else{var origPType=objToString.call(origP);if(origPType===objToString.call(destP))if(origP instanceof Date)Number(origP)!==Number(destP)&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Map)diffed[key]=[Op.Copy,clone(destP)];else if(origP instanceof RegExp)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Set)diffed[key]=[Op.Copy,clone(destP)];else if("[object Object]"!==origPType)diffed[key]=[Op.Copy,clone(destP)];else{var recurse=diff(origP,destP);null!==recurse&&(diffed[key]=recurse)}else diffed[key]=[Op.Copy,clone(destP)]}else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}else if(origIsArray&&Util.isNumeric(key)){var nKey=Number(key);if(!aOpRef){aOpRef="";do{aOpRef+="~"}while(keys.some(keyIsAOpRef));diffed[aOpRef]=[Op.SpliceArray,nKey,nKey]}nKey<diffed[aOpRef][1]&&(diffed[aOpRef][1]=nKey),nKey>diffed[aOpRef][2]&&(diffed[aOpRef][2]=nKey)}else diffed[key]=Op.Delete;else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}return Object.keys(diffed).length>0?diffed:null}},patch:{value:function patch(orig,diffed){for(var keys=Object.keys(diffed||{}),patched=clone(orig),i=0,klen=keys.length;i<klen;++i){var key=keys[i],diffedP=diffed[key];if(diffedP===Op.Delete)delete patched[key];else if(diffedP instanceof Array)switch(diffedP[0]){case Op.SpliceArray:patched.splice(diffedP[1],diffedP[2]-diffedP[1]+1);break;case Op.Copy:patched[key]=clone(diffedP[1]);break;case Op.CopyDate:patched[key]=new Date(diffedP[1])}else patched[key]=patch(patched[key],diffedP)}return patched}}}))),Op,L10n=(_patternRe=/\{\w+\}/g,_hasPatternRe=new RegExp(_patternRe.source),Object.freeze(Object.defineProperties({},{init:{value:function(){strings&&Object.keys(strings).length>0&&Object.keys(l10nStrings).forEach((function(id){try{var value;switch(id){case"identity":value=strings.identity;break;case"aborting":value=strings.aborting;break;case"cancel":value=strings.cancel;break;case"close":value=strings.close;break;case"ok":value=strings.ok;break;case"errorTitle":value=strings.errors.title;break;case"errorNonexistentPassage":value=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":value=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":value=strings.errors.saveIdMismatch;break;case"warningDegraded":value=strings.warnings.degraded;break;case"debugViewTitle":value=strings.debugView.title;break;case"debugViewToggle":value=strings.debugView.toggle;break;case"uiBarToggle":value=strings.uiBar.toggle;break;case"uiBarBackward":value=strings.uiBar.backward;break;case"uiBarForward":value=strings.uiBar.forward;break;case"uiBarJumpto":value=strings.uiBar.jumpto;break;case"jumptoTitle":value=strings.jumpto.title;break;case"jumptoTurn":value=strings.jumpto.turn;break;case"jumptoUnavailable":value=strings.jumpto.unavailable;break;case"savesTitle":value=strings.saves.title;break;case"savesDisallowed":value=strings.saves.disallowed;break;case"savesIncapable":value=strings.saves.incapable;break;case"savesLabelAuto":value=strings.saves.labelAuto;break;case"savesLabelDelete":value=strings.saves.labelDelete;break;case"savesLabelExport":value=strings.saves.labelExport;break;case"savesLabelImport":value=strings.saves.labelImport;break;case"savesLabelLoad":value=strings.saves.labelLoad;break;case"savesLabelClear":value=strings.saves.labelClear;break;case"savesLabelSave":value=strings.saves.labelSave;break;case"savesLabelSlot":value=strings.saves.labelSlot;break;case"savesUnavailable":value=strings.saves.unavailable;break;case"savesUnknownDate":value=strings.saves.unknownDate;break;case"settingsTitle":value=strings.settings.title;break;case"settingsOff":value=strings.settings.off;break;case"settingsOn":value=strings.settings.on;break;case"settingsReset":value=strings.settings.reset;break;case"restartTitle":value=strings.restart.title;break;case"restartPrompt":value=strings.restart.prompt;break;case"shareTitle":value=strings.share.title;break;case"alertTitle":break;case"autoloadTitle":value=strings.autoload.title;break;case"autoloadCancel":value=strings.autoload.cancel;break;case"autoloadOk":value=strings.autoload.ok;break;case"autoloadPrompt":value=strings.autoload.prompt;break;case"macroBackText":value=strings.macros.back.text;break;case"macroReturnText":value=strings.macros.return.text}value&&(l10nStrings[id]=value.replace(/%\w+%/g,(function(pat){return"{".concat(pat.slice(1,-1),"}")})))}catch(ex){}}))}},get:{value:function(ids,overrides){if(!ids)return"";var selectedId,id=((Array.isArray(ids)?ids:[ids]).some((function(id){return!!l10nStrings.hasOwnProperty(id)&&(selectedId=id,!0)})),selectedId);if(!id)return"";for(var processed=l10nStrings[id],iteration=0;_hasPatternRe.test(processed);){if(++iteration>50)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");_patternRe.lastIndex=0,processed=processed.replace(_patternRe,(function(pat){var subId=pat.slice(1,-1);return overrides&&overrides.hasOwnProperty(subId)?overrides[subId]:l10nStrings.hasOwnProperty(subId)?l10nStrings[subId]:void 0}))}return processed}}}))),_patternRe,_hasPatternRe,strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorToggle:"Toggle the error view",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveDiskLoadFailed:"failed to load save file from disk",errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugBarToggle:"Toggle the debug bar",debugBarNoWatches:"— no watches set —",debugBarAddWatch:"Add watch",debugBarDeleteWatch:"Delete watch",debugBarWatchAll:"Watch all",debugBarWatchNone:"Delete all",debugBarLabelAdd:"Add",debugBarLabelWatch:"Watch",debugBarLabelTurn:"Turn",debugBarLabelViews:"Views",debugBarViewsToggle:"Toggle the debug views",debugBarWatchToggle:"Toggle the watch panel",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",alertTitle:"Alert",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=(_debug=!1,_addVisitedLinkClass=!1,_cleanupWikifierOutput=!1,_loadDelay=0,_audioPauseOnFadeToZero=!0,_audioPreloadMetadata=!0,_historyControls=!0,_historyMaxStates=40,_macrosIfAssignmentError=!0,_macrosMaxLoopIterations=1e3,_macrosTypeSkipKey=" ",_macrosTypeVisitedPassages=!0,_passagesDisplayTitles=!1,_passagesNobr=!1,_savesId="untitled-story",_savesSlots=8,_savesTryDiskOnMobile=!0,_uiStowBarInitially=800,_uiUpdateStoryElements=!0,_errHistoryModeDeprecated="Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code",Object.freeze({get debug(){return _debug},set debug(value){_debug=Boolean(value)},get addVisitedLinkClass(){return _addVisitedLinkClass},set addVisitedLinkClass(value){_addVisitedLinkClass=Boolean(value)},get cleanupWikifierOutput(){return _cleanupWikifierOutput},set cleanupWikifierOutput(value){_cleanupWikifierOutput=Boolean(value)},get loadDelay(){return _loadDelay},set loadDelay(value){if(!Number.isSafeInteger(value)||value<0)throw new RangeError("Config.loadDelay must be a non-negative integer");_loadDelay=value},audio:Object.freeze({get pauseOnFadeToZero(){return _audioPauseOnFadeToZero},set pauseOnFadeToZero(value){_audioPauseOnFadeToZero=Boolean(value)},get preloadMetadata(){return _audioPreloadMetadata},set preloadMetadata(value){_audioPreloadMetadata=Boolean(value)}}),history:Object.freeze({get controls(){return _historyControls},set controls(value){var controls=Boolean(value);if(1===_historyMaxStates&&controls)throw new Error("Config.history.controls must be false when Config.history.maxStates is 1");_historyControls=controls},get maxStates(){return _historyMaxStates},set maxStates(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.history.maxStates must be a positive integer");_historyMaxStates=value,_historyControls&&1===value&&(_historyControls=!1)},get mode(){throw new Error(_errHistoryModeDeprecated)},set mode(_){throw new Error(_errHistoryModeDeprecated)},get tracking(){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")},set tracking(_){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")}}),macros:Object.freeze({get ifAssignmentError(){return _macrosIfAssignmentError},set ifAssignmentError(value){_macrosIfAssignmentError=Boolean(value)},get maxLoopIterations(){return _macrosMaxLoopIterations},set maxLoopIterations(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.macros.maxLoopIterations must be a positive integer");_macrosMaxLoopIterations=value},get typeSkipKey(){return _macrosTypeSkipKey},set typeSkipKey(value){_macrosTypeSkipKey=String(value)},get typeVisitedPassages(){return _macrosTypeVisitedPassages},set typeVisitedPassages(value){_macrosTypeVisitedPassages=Boolean(value)}}),navigation:Object.freeze({get override(){return _navigationOverride},set override(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_navigationOverride=value}}),passages:Object.freeze({get descriptions(){return _passagesDescriptions},set descriptions(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"Object"!==valueType&&"function"!==valueType)throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: ".concat(valueType,")"))}_passagesDescriptions=value},get displayTitles(){return _passagesDisplayTitles},set displayTitles(value){_passagesDisplayTitles=Boolean(value)},get nobr(){return _passagesNobr},set nobr(value){_passagesNobr=Boolean(value)},get onProcess(){return _passagesOnProcess},set onProcess(value){if(null!=value){var valueType=Util.getType(value);if("function"!==valueType)throw new TypeError("Config.passages.onProcess must be a function or null/undefined (received: ".concat(valueType,")"))}_passagesOnProcess=value},get start(){return _passagesStart},set start(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType)throw new TypeError("Config.passages.start must be a string or null/undefined (received: ".concat(valueType,")"))}_passagesStart=value},get transitionOut(){return _passagesTransitionOut},set transitionOut(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: ".concat(valueType,")"))}_passagesTransitionOut=value}}),saves:Object.freeze({get autoload(){return _savesAutoload},set autoload(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"string"!==valueType&&"function"!==valueType)throw new TypeError("Config.saves.autoload must be a boolean, string, function, or null/undefined (received: ".concat(valueType,")"))}_savesAutoload=value},get autosave(){return _savesAutosave},set autosave(value){if(null!=value){var valueType=Util.getType(value);if("string"===valueType)return void(_savesAutosave=[value]);if("boolean"!==valueType&&("Array"!==valueType||!value.every((function(item){return"string"==typeof item})))&&"function"!==valueType)throw new TypeError("Config.saves.autosave must be a boolean, Array<string>, function, or null/undefined (received: ".concat(valueType).concat("Array"===valueType?"<any>":"",")"))}_savesAutosave=value},get id(){return _savesId},set id(value){if("string"!=typeof value||""===value)throw new TypeError("Config.saves.id must be a non-empty string (received: ".concat(Util.getType(value),")"));_savesId=value},get isAllowed(){return _savesIsAllowed},set isAllowed(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_savesIsAllowed=value},get slots(){return _savesSlots},set slots(value){if(!Number.isSafeInteger(value)||value<0)throw new TypeError("Config.saves.slots must be a non-negative integer (received: ".concat(Util.getType(value),")"));_savesSlots=value},get tryDiskOnMobile(){return _savesTryDiskOnMobile},set tryDiskOnMobile(value){_savesTryDiskOnMobile=Boolean(value)},get version(){return _savesVersion},set version(value){_savesVersion=value},get onLoad(){throw new Error("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead")},set onLoad(value){console.warn("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead"),Save.onLoad.add(value)},get onSave(){throw new Error("Config.saves.onSave has been deprecated, use the Save.onSave API instead")},set onSave(value){console.warn("Config.saves.onSave has been deprecated, use the Save.onSave API instead"),Save.onSave.add(value)}}),ui:Object.freeze({get stowBarInitially(){return _uiStowBarInitially},set stowBarInitially(value){var valueType=Util.getType(value);if("boolean"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.ui.stowBarInitially must be a boolean or non-negative integer (received: ".concat(valueType,")"));_uiStowBarInitially=value},get updateStoryElements(){return _uiUpdateStoryElements},set updateStoryElements(value){_uiUpdateStoryElements=Boolean(value)}})})),_navigationOverride,_passagesDescriptions,_passagesStart,_passagesOnProcess,_passagesTransitionOut,_savesAutoload,_savesAutosave,_savesIsAllowed,_savesVersion,_debug,_addVisitedLinkClass,_cleanupWikifierOutput,_loadDelay,_audioPauseOnFadeToZero,_audioPreloadMetadata,_historyControls,_historyMaxStates,_macrosIfAssignmentError,_macrosMaxLoopIterations,_macrosTypeSkipKey,_macrosTypeVisitedPassages,_passagesDisplayTitles,_passagesNobr,_savesId,_savesSlots,_savesTryDiskOnMobile,_uiStowBarInitially,_uiUpdateStoryElements,_errHistoryModeDeprecated,SimpleAudio=function(){var _hasPromise,_gestureEventNames=Object.freeze(["click","contextmenu","dblclick","keyup","mouseup","pointerup","touchend"]),_specialIds=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]),_formatSpecRe=/^([\w-]+)\s*\|\s*(\S.*)$/,_badIdRe=/[:\s]/,_tracks=new Map,_groups=new Map,_lists=new Map,_subscribers=new Map,_masterRate=1,_masterVolume=1,_masterMute=!1,_masterMuteOnHidden=!1,_playReturnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,Has.audio)try{var audio=document.createElement("audio");audio.muted=!0;var value=audio.play();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise}),AudioTrack=function(){function AudioTrack(obj){if(_classCallCheck(this,AudioTrack),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioTrack))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioTrack,[{key:"_create",value:function(sourceList){var dataUriRe=/^data:\s*audio\/(?:x-)?([^;,]+)\s*[;,]/i,extRe=/\.([^./\\]+)$/,formats=AudioTrack.formats,usedSources=[],audio=document.createElement("audio");audio.preload="none",sourceList.forEach((function(src){var srcUri=null;switch(_typeof(src)){case"string":var match;if("data:"===src.slice(0,5)){if(null===(match=dataUriRe.exec(src)))throw new Error("source data URI missing media type")}else if(null===(match=extRe.exec(Util.parseUrl(src).pathname)))throw new Error("source URL missing file extension");formats[match[1]]&&(srcUri=src);break;case"object":if(null===src)throw new Error("source object cannot be null");if(!src.hasOwnProperty("src"))throw new Error('source object missing required "src" property');if(!src.hasOwnProperty("format"))throw new Error('source object missing required "format" property');formats[src.format]&&(srcUri=src.src);break;default:throw new Error("invalid source value (type: ".concat(_typeof(src),")"))}if(null!==srcUri){var source=document.createElement("source");source.src=srcUri,audio.appendChild(source),usedSources.push(srcUri)}})),audio.hasChildNodes()&&Config.audio.preloadMetadata&&(audio.preload="metadata"),this._finalize(audio,usedSources,clone(sourceList))}},{key:"_copy",value:function(obj){this._finalize(obj.audio.cloneNode(!0),clone(obj.sources),clone(obj.originals))}},{key:"_finalize",value:function(audio,sources,originals){var _this3=this;Object.defineProperties(this,{audio:{configurable:!0,value:audio},sources:{value:Object.freeze(sources)},originals:{value:Object.freeze(originals)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",(function(){return _this3._error=!1})).on("error.AudioTrack",(function(){return _this3._error=!0})).find("source:last-of-type").on("error.AudioTrack",(function(){return _this3._trigger("error")})),function(id,callback){if("function"!=typeof callback)throw new Error("callback parameter must be a function");_subscribers.set(id,callback)}(this,(function(mesg){if(_this3.audio)switch(mesg){case"loadwithscreen":if(_this3.hasSource()){var lockId=LoadScreen.lock();_this3.one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",(function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(lockId)})).load()}break;case"load":_this3.load();break;case"mute":_this3._updateAudioMute();break;case"rate":_this3._updateAudioRate();break;case"stop":_this3.stop();break;case"volume":_this3._updateAudioVolume();break;case"unload":_this3.unload()}else unsubscribe(_this3)})),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(eventName){jQuery(this.audio).triggerHandler(eventName)}},{key:"_destroy",value:function(){unsubscribe(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new AudioTrack(this)}},{key:"load",value:function(){var _this4=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach((function(srcUri){var source=document.createElement("source");source.src=srcUri,_this4.audio.appendChild(source)}))}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var audio=this.audio;for(audio.preload="none";audio.hasChildNodes();)audio.removeChild(audio.firstChild);audio.load()}},{key:"play",value:function(){var _this5=this;if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));"auto"!==this.audio.preload&&(this.audio.preload="auto");var namespace=".AudioTrack_play";return _playReturnsPromise()?this.audio.play():new Promise((function(resolve,reject){_this5.isPlaying()?resolve():(jQuery(_this5.audio).off(namespace).one("error".concat(namespace," playing").concat(namespace," timeupdate").concat(namespace),(function(ev){jQuery(_this5).off(namespace),"error"===ev.type?reject(new Error("unknown audio play error")):resolve()})),_this5.audio.play())}))}},{key:"playWhenAllowed",value:function(){var _this6=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioTrack_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioTrack_playWhenAllowed"),_this6.audio.play()}))}))}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(duration,toVol,fromVol){var _this7=this;if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var from=Math.clamp(null==fromVol?this.volume():fromVol,0,1),to=Math.clamp(toVol,0,1);return from!==to?(this.volume(from),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",(function(){var min,max;from<to?(min=from,max=to):(min=to,max=from);var time=Math.max(duration,1),delta=(to-from)/(time/.025);_this7._trigger(":fading"),_this7._faderId=setInterval((function(){_this7.isPlaying()?(_this7.volume(Math.clamp(_this7.volume()+delta,min,max)),Config.audio.pauseOnFadeToZero&&0===_this7.volume()&&_this7.pause(),_this7.volume()===to&&(_this7.fadeStop(),_this7._trigger(":faded"))):_this7.fadeStop()}),25)})),this.play()):void 0}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(_loop){return null==_loop?this.audio.loop:(this.audio.loop=!!_loop,this)}},{key:"mute",value:function(_mute){return null==_mute?this._mute:(this._mute=!!_mute,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||_masterMute}},{key:"rate",value:function(_rate){if(null==_rate)return this._rate;if("number"!=typeof _rate)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*_masterRate,.2,5)}},{key:"time",value:function(_time){var _this8=this;if(null==_time)return this.audio.currentTime;if("number"!=typeof _time)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=_time:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",(function(){return _this8.audio.currentTime=_time})),this}},{key:"volume",value:function(_volume){if(null==_volume)return this._volume;if("number"!=typeof _volume)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*_masterVolume,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return jQuery.fn.on.apply(jQuery(this.audio),args),this}},{key:"one",value:function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return jQuery.fn.one.apply(jQuery(this.audio),args),this}},{key:"off",value:function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return jQuery.fn.off.apply(jQuery(this.audio),args),this}}]),AudioTrack}();Object.defineProperties(AudioTrack,{formats:{value:function(){var audio=document.createElement("audio"),types=new Map;function canPlay(mimeType){return types.has(mimeType)||types.set(mimeType,""!==audio.canPlayType(mimeType).replace(/^no$/i,"")),types.get(mimeType)}return Object.assign(Object.create(null),{aac:canPlay("audio/aac"),caf:canPlay("audio/x-caf")||canPlay("audio/caf"),flac:canPlay("audio/x-flac")||canPlay("audio/flac"),mp3:canPlay('audio/mpeg; codecs="mp3"')||canPlay("audio/mpeg")||canPlay("audio/mp3")||canPlay("audio/mpa"),mpeg:canPlay("audio/mpeg"),m4a:canPlay("audio/x-m4a")||canPlay("audio/m4a")||canPlay("audio/aac"),mp4:canPlay("audio/x-mp4")||canPlay("audio/mp4")||canPlay("audio/aac"),ogg:canPlay("audio/ogg"),oga:canPlay("audio/ogg"),opus:canPlay('audio/ogg; codecs="opus"')||canPlay("audio/opus"),wav:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),wave:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),weba:canPlay("audio/webm"),webm:canPlay("audio/webm")})}()}});var AudioList=function(){function AudioList(obj){if(_classCallCheck(this,AudioList),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioList))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioList,[{key:"_create",value:function(trackList){var _this9=this;this._finalize(trackList.map((function(trackObj){if("object"!==_typeof(trackObj))throw new Error("tracks parameter array members must be objects");var own,rate,track,volume;if(trackObj instanceof AudioTrack)own=!0,rate=trackObj.rate(),track=trackObj.clone(),volume=trackObj.volume();else{if(!trackObj.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(trackObj.track instanceof AudioTrack))throw new Error('track object\'s "track" property must be an AudioTrack object');own=trackObj.hasOwnProperty("own")&&trackObj.own,rate=trackObj.hasOwnProperty("rate")?trackObj.rate:trackObj.track.rate(),track=trackObj.track,volume=trackObj.hasOwnProperty("volume")?trackObj.volume:trackObj.track.volume()}return track.stop(),track.loop(!1),track.mute(!1),track.rate(rate),track.volume(volume),track.on("ended.AudioList",(function(){return _this9._onEnd()})),{own:own,track:track,volume:volume,rate:rate}})))}},{key:"_copy",value:function(obj){this._finalize(clone(obj.tracks))}},{key:"_finalize",value:function(tracks){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(tracks)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter((function(trackObj){return trackObj.own})).forEach((function(trackObj){return trackObj.track._destroy()})),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach((function(trackObj){return trackObj.track.load()}))}},{key:"unload",value:function(){this.stop(),this.tracks.forEach((function(trackObj){return trackObj.track.unload()}))}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var _this10=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioList_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioList_playWhenAllowed"),_this10.play()}))}))}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(duration,toVol,fromVol){if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var adjFromVol,adjToVol=Math.clamp(toVol,0,1)*this.current.volume;return null!=fromVol&&(adjFromVol=Math.clamp(fromVol,0,1)*this.current.volume),this._volume=toVol,this.current.track.fade(duration,adjToVol,adjFromVol)}}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(_loop2){return null==_loop2?this._loop:(this._loop=!!_loop2,this)}},{key:"mute",value:function(_mute2){return null==_mute2?this._mute:(this._mute=!!_mute2,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(_rate2){if(null==_rate2)return this._rate;if("number"!=typeof _rate2)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate2,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(_shuffle){var _this11=this;if(null==_shuffle)return this._shuffle;if(this._shuffle=!!_shuffle,this.queue.length>0&&(this._fillQueue(),!this._shuffle&&null!==this.current&&this.queue.length>1)){var _this$queue,firstIdx=this.queue.findIndex((function(trackObj){return trackObj===_this11.current}));if(-1!==firstIdx)(_this$queue=this.queue).push.apply(_this$queue,_toConsumableArray(this.queue.splice(0,firstIdx+1)))}return this}},{key:"volume",value:function(_volume2){if(null==_volume2)return this._volume;if("number"!=typeof _volume2)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume2,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(arguments.length>0)throw new Error("duration takes no parameters");return this.tracks.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0)}},{key:"remaining",value:function(){if(arguments.length>0)throw new Error("remaining takes no parameters");var remainingTime=this.queue.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0);return null!==this.current&&(remainingTime+=this.current.track.remaining()),remainingTime}},{key:"time",value:function(){if(arguments.length>0)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){var nextTrack;for(null!==this.current&&(this.current.track.stop(),this.current=null);nextTrack=this.queue.shift();)if(!nextTrack.track.isUnavailable()){this.current=nextTrack;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var _this$queue2;this._drainQueue(),(_this$queue2=this.queue).push.apply(_this$queue2,_toConsumableArray(this.tracks.filter((function(trackObj){return!trackObj.track.isUnavailable()})))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}]),AudioList}(),AudioRunner=function(){function AudioRunner(list){if(_classCallCheck(this,AudioRunner),!(list instanceof Set||list instanceof AudioRunner))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(list instanceof AudioRunner?list.trackIds:list)}})}return _createClass(AudioRunner,[{key:"load",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.load)}},{key:"unload",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.unload)}},{key:"play",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.play)}},{key:"playWhenAllowed",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.playWhenAllowed)}},{key:"pause",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.pause)}},{key:"stop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.stop)}},{key:"fade",value:function(duration,toVol,fromVol){if(null==duration||null==toVol)throw new Error("fade requires parameters");AudioRunner._run(this.trackIds,AudioTrack.prototype.fade,duration,toVol,fromVol)}},{key:"fadeIn",value:function(duration,fromVol){if(null==duration)throw new Error("fadeIn requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeIn,duration,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){if(null==duration)throw new Error("fadeOut requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeOut,duration,fromVol)}},{key:"fadeStop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeStop)}},{key:"loop",value:function(_loop3){if(null==_loop3)throw new Error("loop requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.loop,_loop3),this}},{key:"mute",value:function(_mute3){if(null==_mute3)throw new Error("mute requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.mute,_mute3),this}},{key:"rate",value:function(_rate3){if(null==_rate3)throw new Error("rate requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.rate,_rate3),this}},{key:"time",value:function(_time2){if(null==_time2)throw new Error("time requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.time,_time2),this}},{key:"volume",value:function(_volume3){if(null==_volume3)throw new Error("volume requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.volume,_volume3),this}},{key:"on",value:function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.on].concat(args)),this}},{key:"one",value:function(){for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.one].concat(args)),this}},{key:"off",value:function(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.off].concat(args)),this}}],[{key:"_run",value:function(ids,fn){for(var _len11=arguments.length,args=new Array(_len11>2?_len11-2:0),_key11=2;_key11<_len11;_key11++)args[_key11-2]=arguments[_key11];ids.forEach((function(id){var track=_tracks.get(id);track&&fn.apply(track,args)}))}}]),AudioRunner}();var _runnerParseSelector=function(){var notWsRe=/\S/g,parenRe=/[()]/g;function processNegation(str,startPos){var match;if(notWsRe.lastIndex=startPos,null===(match=notWsRe.exec(str))||"("!==match[0])throw new Error('invalid ":not()" syntax: missing parentheticals');parenRe.lastIndex=notWsRe.lastIndex;for(var start=notWsRe.lastIndex,result={str:"",nextMatch:-1},depth=1;null!==(match=parenRe.exec(str));)if("("===match[0]?++depth:--depth,depth<1){result.nextMatch=parenRe.lastIndex,result.str=str.slice(start,result.nextMatch-1);break}return result}return function parseSelector(idArg){for(var match,ids=[],idRe=/:?[^\s:()]+/g;null!==(match=idRe.exec(idArg));){var id=match[0];if(":not"===id){if(0===ids.length)throw new Error('invalid negation: no group ID preceded ":not()"');var parent=ids[ids.length-1];if(":"!==parent.id[0])throw new Error('invalid negation of track "'.concat(parent.id,'": only groups may be negated with ":not()"'));var negation=processNegation(idArg,idRe.lastIndex);if(-1===negation.nextMatch)throw new Error('unknown error parsing ":not()"');idRe.lastIndex=negation.nextMatch,parent.not=parseSelector(negation.str)}else ids.push({id:id})}return ids}}();function masterMute(mute){if(null==mute)return _masterMute;publish("mute",_masterMute=!!mute)}function unsubscribe(id){_subscribers.delete(id)}function publish(mesg,data){_subscribers.forEach((function(fn){return fn(mesg,data)}))}function _newTrack(sources){return new AudioTrack(sources.map((function(source){if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);if(passage.tags.includes("Twine.audio"))return passage.text.trim()}var match=_formatSpecRe.exec(source);return null===match?source:{format:match[1],src:match[2]}})))}return Object.freeze(Object.defineProperties({},{tracks:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("track ID"),arguments.length<2&&errors.push("sources"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='track ID "'.concat(id,'"');if(_badIdRe.test(id))throw new Error("invalid ".concat(what,": track IDs must not contain colons or whitespace"));var track,sources=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{track=_newTrack(sources)}catch(ex){throw new Error("".concat(what,": error during track initialization: ").concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("".concat(what,": no supported audio sources found"));_tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.set(id,track)}},delete:{value:function(id){return _tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.delete(id)}},clear:{value:function(){_tracks.forEach((function(track){return track._destroy()})),_tracks.clear()}},has:{value:function(id){return _tracks.has(id)}},get:{value:function(id){return _tracks.get(id)||null}}}))},groups:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("group ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='group ID "'.concat(id,'"');if(":"!==id[0]||_badIdRe.test(id.slice(1)))throw new Error("invalid ".concat(what,": group IDs must start with a colon and must not contain colons or whitespace"));if(_specialIds.includes(id))throw new Error("cannot clobber special ".concat(what));var group,trackIds=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{group=new Set(trackIds.map((function(trackId){if(!_tracks.has(trackId))throw new Error('track "'.concat(trackId,'" does not exist'));return trackId})))}catch(ex){throw new Error("".concat(what,": error during group initialization: ").concat(ex.message))}_groups.set(id,Object.freeze(Array.from(group)))}},delete:{value:function(id){return _groups.delete(id)}},clear:{value:function(){_groups.clear()}},has:{value:function(id){return _groups.has(id)}},get:{value:function(id){return _groups.get(id)||null}}}))},lists:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("list ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='list ID "'.concat(id,'"');if(_badIdRe.test(id))return this.error("invalid ".concat(what,": list IDs must not contain colons or whitespace"));var list,descriptors=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{list=new AudioList(descriptors.map((function(desc){if(null===desc)throw new Error("track descriptor must be a string or object (type: null)");switch(_typeof(desc)){case"string":desc={id:desc};break;case"object":if(!desc.hasOwnProperty("id")&&!desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(desc.hasOwnProperty("id")&&desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: ".concat(_typeof(desc),")"))}var own,track,volume;if(desc.hasOwnProperty("id")){if("string"!=typeof desc.id)throw new Error('"id" property must be a string');if(!_tracks.has(desc.id))throw new Error('track "'.concat(desc.id,'" does not exist'));track=_tracks.get(desc.id)}else if(desc.hasOwnProperty("sources")){if(!Array.isArray(desc.sources)||0===desc.sources.length)throw new Error('"sources" property must be a non-empty array');if(desc.hasOwnProperty("own"))throw new Error('"own" property is not allowed with the "sources" property');try{track=_newTrack(desc.sources),own=!0}catch(ex){throw new Error("error during track initialization: ".concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("no supported audio sources found")}if(desc.hasOwnProperty("own")){if("boolean"!=typeof desc.own)throw new Error('"own" property must be a boolean');(own=desc.own)&&(track=track.clone())}if(desc.hasOwnProperty("volume")){if("number"!=typeof desc.volume||Number.isNaN(desc.volume)||!Number.isFinite(desc.volume)||desc.volume<0)throw new Error('"volume" property must be a non-negative finite number');volume=desc.volume}return{own:null!=own&&own,track:track,volume:null!=volume?volume:track.volume()}})))}catch(ex){throw new Error("".concat(what,": error during playlist initialization: ").concat(ex.message))}_lists.has(id)&&_lists.get(id)._destroy(),_lists.set(id,list)}},delete:{value:function(id){return _lists.has(id)&&_lists.get(id)._destroy(),_lists.delete(id)}},clear:{value:function(){_lists.forEach((function(list){return list._destroy()})),_lists.clear()}},has:{value:function(id){return _lists.has(id)}},get:{value:function(id){return _lists.get(id)||null}}}))},select:{value:function(){if(0===arguments.length)throw new Error("no track selector specified");var selector=String(arguments[0]).trim(),trackIds=new Set;try{var renderIds=function renderIds(idObj){var ids,id=idObj.id;switch(id){case":all":ids=allIds;break;case":looped":ids=allIds.filter((function(id){return _tracks.get(id).loop()}));break;case":muted":ids=allIds.filter((function(id){return _tracks.get(id).mute()}));break;case":paused":ids=allIds.filter((function(id){return _tracks.get(id).isPaused()}));break;case":playing":ids=allIds.filter((function(id){return _tracks.get(id).isPlaying()}));break;default:ids=":"===id[0]?_groups.get(id):[id]}if(idObj.hasOwnProperty("not")){var negated=idObj.not.map((function(idObj){return renderIds(idObj)})).flat(1/0);ids=ids.filter((function(id){return!negated.includes(id)}))}return ids},allIds=Array.from(_tracks.keys());_runnerParseSelector(selector).forEach((function(idObj){return renderIds(idObj).forEach((function(id){if(!_tracks.has(id))throw new Error('track "'.concat(id,'" does not exist'));trackIds.add(id)}))}))}catch(ex){throw new Error("error during runner initialization: ".concat(ex.message))}return new AudioRunner(trackIds)}},load:{value:function(){publish("load")}},loadWithScreen:{value:function(){publish("loadwithscreen")}},mute:{value:masterMute},muteOnHidden:{value:function(mute){if(!Visibility.isEnabled())return!1;if(null==mute)return _masterMuteOnHidden;var namespace=".SimpleAudio_masterMuteOnHidden";if(_masterMuteOnHidden=!!mute){var visibilityChange="".concat(Visibility.changeEvent).concat(namespace);jQuery(document).off(namespace).on(visibilityChange,(function(){return masterMute(Visibility.isHidden())})),Visibility.isHidden()&&masterMute(!0)}else jQuery(document).off(namespace)}},rate:{value:function(rate){if(null==rate)return _masterRate;if("number"!=typeof rate||Number.isNaN(rate)||!Number.isFinite(rate))throw new Error("rate must be a finite number");publish("rate",_masterRate=Math.clamp(rate,.2,5))}},stop:{value:function(){publish("stop")}},unload:{value:function(){publish("unload")}},volume:{value:function(volume){if(null==volume)return _masterVolume;if("number"!=typeof volume||Number.isNaN(volume)||!Number.isFinite(volume))throw new Error("volume must be a finite number");publish("volume",_masterVolume=Math.clamp(volume,0,1))}}}))}(),State=function(){var _history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null,_tempVariables={};function stateMarshal(noDelta){var stateObj={index:_activeIndex};return noDelta?stateObj.history=clone(_history):stateObj.delta=historyDeltaEncode(_history),_expired.length>0&&(stateObj.expired=_toConsumableArray(_expired)),null!==_prng&&(stateObj.seed=_prng.seed),stateObj}function stateUnmarshal(stateObj,noDelta){if(null==stateObj)throw new Error("state object is null or undefined");if(!stateObj.hasOwnProperty(noDelta?"history":"delta")||0===stateObj[noDelta?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!stateObj.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==_prng&&!stateObj.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===_prng&&stateObj.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");_history=noDelta?clone(stateObj.history):historyDeltaDecode(stateObj.delta),_activeIndex=stateObj.index,_expired=stateObj.hasOwnProperty("expired")?_toConsumableArray(stateObj.expired):[],stateObj.hasOwnProperty("seed")&&(_prng.seed=stateObj.seed),momentActivate(_activeIndex)}function momentCreate(title,variables){return{title:null==title?"":String(title),variables:null==variables?{}:clone(variables)}}function momentActivate(moment){if(null==moment)throw new Error("moment activation attempted with null or undefined");switch(_typeof(moment)){case"object":_active=clone(moment);break;case"number":if(historyIsEmpty())throw new Error("moment activation attempted with index on empty history");if(moment<0||moment>=historySize())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, ".concat(historySize()-1,"], got ").concat(moment));_active=clone(_history[moment]);break;default:throw new TypeError('moment activation attempted with a "'.concat(_typeof(moment),'"; must be an object or valid history stack index'))}return null!==_prng&&(_prng=PRNGWrapper.unmarshal({seed:_prng.seed,pull:_active.pull})),session.set("state",stateMarshal()),jQuery.event.trigger(":historyupdate"),_active}function historyLength(){return _activeIndex+1}function historySize(){return _history.length}function historyIsEmpty(){return 0===_history.length}function historyTop(){return _history.length>0?_history[_history.length-1]:null}function historyGoTo(index){return!(null==index||index<0||index>=historySize()||index===_activeIndex)&&(momentActivate(_activeIndex=index),!0)}function historyDeltaEncode(historyArr){if(!Array.isArray(historyArr))return null;if(0===historyArr.length)return[];for(var delta=[historyArr[0]],i=1,iend=historyArr.length;i<iend;++i)delta.push(Diff.diff(historyArr[i-1],historyArr[i]));return delta}function historyDeltaDecode(delta){if(!Array.isArray(delta))return null;if(0===delta.length)return[];for(var historyArr=[clone(delta[0])],i=1,iend=delta.length;i<iend;++i)historyArr.push(Diff.patch(historyArr[i-1],delta[i]));return historyArr}function prngInit(seed,useEntropy){var scriptSection;if(!historyIsEmpty())throw scriptSection="the Story JavaScript",new Error("State.prng.init must be called during initialization, within either ".concat(scriptSection," or the StoryInit special passage"));_prng=new PRNGWrapper(seed,useEntropy),_active.pull=_prng.pull}function metadataDelete(key){if("string"!=typeof key)throw new TypeError("State.metadata.delete key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");store&&store.hasOwnProperty(key)&&(1===Object.keys(store).length?storage.delete("metadata"):(delete store[key],storage.set("metadata",store)))}return Object.freeze(Object.defineProperties({},{reset:{value:function(){session.delete("state"),_history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null===_prng?null:new PRNGWrapper(_prng.seed,!1)}},restore:{value:function(){if(session.has("state")){var stateObj=session.get("state");return null!=stateObj&&(stateUnmarshal(stateObj),!0)}return!1}},marshalForSave:{value:function(){return stateMarshal(!0)}},unmarshalForSave:{value:function(stateObj){return stateUnmarshal(stateObj,!0)}},expired:{get:function(){return _expired}},turns:{get:function(){return _expired.length+historyLength()}},passages:{get:function(){return _expired.concat(_history.slice(0,historyLength()).map((function(moment){return moment.title})))}},hasPlayed:{value:function(title){return null!=title&&""!==title&&(!!_expired.includes(title)||!!_history.slice(0,historyLength()).some((function(moment){return moment.title===title})))}},active:{get:function(){return _active}},activeIndex:{get:function(){return _activeIndex}},passage:{get:function(){return _active.title}},variables:{get:function(){return _active.variables}},history:{get:function(){return _history}},length:{get:historyLength},size:{get:historySize},isEmpty:{value:historyIsEmpty},current:{get:function(){return _history.length>0?_history[_activeIndex]:null}},top:{get:historyTop},bottom:{get:function(){return _history.length>0?_history[0]:null}},index:{value:function(index){return historyIsEmpty()||index<0||index>_activeIndex?null:_history[index]}},peek:{value:function(offset){if(historyIsEmpty())return null;var lengthOffset=1+(offset?Math.abs(offset):0);return lengthOffset>historyLength()?null:_history[historyLength()-lengthOffset]}},has:{value:function(title){if(historyIsEmpty()||null==title||""===title)return!1;for(var i=_activeIndex;i>=0;--i)if(_history[i].title===title)return!0;return!1}},create:{value:function(title){for(0,historyLength()<historySize()&&_history.splice(historyLength(),historySize()-historyLength()),_history.push(momentCreate(title,_active.variables)),_prng&&(historyTop().pull=_prng.pull);historySize()>Config.history.maxStates;)_expired.push(_history.shift().title);return momentActivate(_activeIndex=historySize()-1),historyLength()}},goTo:{value:historyGoTo},go:{value:function(offset){return null!=offset&&0!==offset&&historyGoTo(_activeIndex+offset)}},deltaEncode:{value:historyDeltaEncode},deltaDecode:{value:historyDeltaDecode},prng:{value:Object.freeze(Object.defineProperties({},{init:{value:prngInit},isEnabled:{value:function(){return null!==_prng}},pull:{get:function(){return _prng?_prng.pull:NaN}},seed:{get:function(){return _prng?_prng.seed:null}}}))},random:{value:function(){return _prng?_prng.random():Math.random()}},clearTemporary:{value:function(){TempVariables=_tempVariables={}}},temporary:{get:function(){return _tempVariables}},getVar:{value:function(varExpression){try{return Scripting.evalTwineScript(varExpression)}catch(ex){}}},setVar:{value:function(varExpression,value){try{return Scripting.evalTwineScript("".concat(varExpression," = evalTwineScript$Data$"),null,value),!0}catch(ex){}return!1}},metadata:{value:Object.freeze(Object.defineProperties({},{clear:{value:function(){storage.delete("metadata")}},delete:{value:metadataDelete},entries:{value:function(){var store=storage.get("metadata");return store&&Object.entries(store)}},get:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.get key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)?store[key]:undefined}},has:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.has key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)}},keys:{value:function(){var store=storage.get("metadata");return store&&Object.keys(store)}},set:{value:function(key,value){if("string"!=typeof key)throw new TypeError("State.metadata.set key parameter must be a string (received: ".concat(_typeof(key),")"));if(void 0===value)metadataDelete(key);else{var store=storage.get("metadata")||{};store[key]=value,storage.set("metadata",store)}}},size:{get:function(){var store=storage.get("metadata");return store?Object.keys(store).length:0}}}))},initPRNG:{value:prngInit},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Scripting=function(){function addAccessibleClickHandler(targets,selector,handler,one,namespace){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var fn,opts;if("function"==typeof selector?(fn=selector,opts={namespace:one,one:!!handler}):(fn=handler,opts={namespace:namespace,one:!!one,selector:selector}),"function"!=typeof fn)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(targets).ariaClick(opts,fn)}function insertElement(place,type,id,classNames,text,title){var $el=jQuery(document.createElement(type));return id&&$el.attr("id",id),classNames&&$el.addClass(classNames),title&&$el.attr("title",title),text&&$el.text(text),place&&$el.appendTo(place),$el[0]}function insertText(place,text){jQuery(place).append(document.createTextNode(text))}function removeChildren(node){jQuery(node).empty()}function removeElement(node){jQuery(node).remove()}function fade(el,options){var current,intervalId,direction="in"===options.fade?1:-1,proxy=el.cloneNode(!0);function setOpacity(el,opacity){el.style.zoom=1,el.style.filter="alpha(opacity=".concat(Math.floor(100*opacity),")"),el.style.opacity=opacity}el.parentNode.replaceChild(proxy,el),"in"===options.fade?(current=0,proxy.style.visibility="visible"):current=1,setOpacity(proxy,current),intervalId=window.setInterval((function(){current+=.05*direction,setOpacity(proxy,Math.easeInOut(current)),(1===direction&&current>=1||-1===direction&&current<=0)&&(el.style.visibility="in"===options.fade?"visible":"hidden",proxy.parentNode.replaceChild(el,proxy),proxy=null,window.clearInterval(intervalId),options.onComplete&&options.onComplete())}),25)}function scrollWindowTo(el,incrementBy){var increment=null!=incrementBy?Number(incrementBy):.1;Number.isNaN(increment)||!Number.isFinite(increment)||increment<0?increment=.1:increment>1&&(increment=1);var intervalId,start=window.scrollY?window.scrollY:document.body.scrollTop,end=function(el){var posTop=function(el){var curtop=0;for(;el.offsetParent;)curtop+=el.offsetTop,el=el.offsetParent;return curtop}(el),posBottom=posTop+el.offsetHeight,winTop=window.scrollY?window.scrollY:document.body.scrollTop,winHeight=window.innerHeight?window.innerHeight:document.body.clientHeight,winBottom=winTop+winHeight;return posTop>=winTop&&posBottom>winBottom&&el.offsetHeight<winHeight?posTop-(winHeight-el.offsetHeight)+20:posTop}(el),distance=Math.abs(start-end),direction=start>end?-1:1,progress=0;intervalId=window.setInterval((function(){progress+=increment,window.scroll(0,start+direction*(distance*Math.easeInOut(progress))),progress>=1&&window.clearInterval(intervalId)}),25)}function toStringOrDefault(value){return stringFrom(value)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(key){if("string"!=typeof key)throw new TypeError("forget key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.delete(key)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,i=0,iend=needles.length;i<iend;++i)if(!played.includes(needles[i]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,uBound=played.length-1,turns=State.turns,i=0,iend=needles.length;i<iend&&turns>-1;++i){var lastIndex=played.lastIndexOf(needles[i]);turns=Math.min(turns,-1===lastIndex?-1:uBound-lastIndex)}return turns}function memorize(key,value){if("string"!=typeof key)throw new TypeError("memorize key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.set(key,value)}function passage(){return State.passage}function previous(){var passages=State.passages;if(arguments.length>0){var offset=Number(arguments[0]);if(!Number.isSafeInteger(offset)||offset<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return passages.length>offset?passages[passages.length-1-offset]:""}for(var i=passages.length-2;i>=0;--i)if(passages[i]!==State.passage)return passages[i];return""}function random(){var min,max;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:min=0,max=Math.trunc(arguments[0]);break;default:min=Math.trunc(arguments[0]),max=Math.trunc(arguments[1])}if(!Number.isInteger(min))throw new Error("random min parameter must be an integer");if(!Number.isInteger(max))throw new Error("random max parameter must be an integer");if(min>max){var _ref6=[max,min];min=_ref6[0],max=_ref6[1]}return Math.floor(State.random()*(max-min+1))+min}function randomFloat(){var min,max;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:min=0,max=Number(arguments[0]);break;default:min=Number(arguments[0]),max=Number(arguments[1])}if(Number.isNaN(min)||!Number.isFinite(min))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(max)||!Number.isFinite(max))throw new Error("randomFloat max parameter must be a number");if(min>max){var _ref7=[max,min];min=_ref7[0],max=_ref7[1]}return State.random()*(max-min)+min}function recall(key,defaultValue){if("string"!=typeof key)throw new TypeError("recall key parameter must be a string (received: ".concat(Util.getType(key),")"));return State.metadata.has(key)?State.metadata.get(key):defaultValue}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var passages=Array.prototype.concat.apply([],arguments),tags=[],i=0,iend=passages.length;i<iend;++i)tags=tags.concat(Story.get(passages[i]).tags);return tags}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),played=State.passages,count=State.turns,i=0,iend=needles.length;i<iend&&count>0;++i)count=Math.min(count,played.count(needles[i]));return count}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],arguments),nLength=needles.length,played=State.passages,seen=new Map,count=0,i=0,iend=played.length;i<iend;++i){var title=played[i];if(seen.has(title))seen.get(title)&&++count;else{var _tags2=Story.get(title).tags;if(_tags2.length>0){for(var found=0,j=0;j<nLength;++j)_tags2.includes(needles[j])&&++found;found===nLength?(++count,seen.set(title,!0)):seen.set(title,!1)}}}return count}var _ref8=function(){function slugifyUrl(url){return Util.parseUrl(url).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function addScript(url){return new Promise((function(resolve,reject){jQuery(document.createElement("script")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importScripts failed to load the script "'.concat(url,'".')))})).appendTo(document.head).attr({id:"script-imported-".concat(slugifyUrl(url)),type:"text/javascript",src:url})}))}function addStyle(url){return new Promise((function(resolve,reject){jQuery(document.createElement("link")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importStyles failed to load the stylesheet "'.concat(url,'".')))})).appendTo(document.head).attr({id:"style-imported-".concat(slugifyUrl(url)),rel:"stylesheet",href:url})}))}function sequence(callbacks){return callbacks.reduce((function(seq,fn){return seq.then(fn)}),Promise.resolve())}return{importScripts:function(){for(var _len12=arguments.length,urls=new Array(_len12),_key12=0;_key12<_len12;_key12++)urls[_key12]=arguments[_key12];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addScript(url)}}))):addScript(oneOrSeries)})))},importStyles:function(){for(var _len13=arguments.length,urls=new Array(_len13),_key13=0;_key13<_len13;_key13++)urls[_key13]=arguments[_key13];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addStyle(url)}}))):addStyle(oneOrSeries)})))}}}(),importScripts=_ref8.importScripts,importStyles=_ref8.importStyles,parse=function(){var tokenTable=Util.toEnum({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),parseRe=new RegExp(["(?:\"\"|''|``)",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(`(?:\\\\.|[^`\\\\])+`)","(?:[=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),notSpaceRe=/\S/,varTest=new RegExp("^".concat(Patterns.variable)),withColonTestRe=/^\s*:/,withNotTestRe=/^\s+not\b/;function parse(rawCodeString){if(0!==parseRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var match,code=rawCodeString;null!==(match=parseRe.exec(code));)if(match[1]){var rawTemplate=match[1],parsedTemplate=parseTemplate(rawTemplate);parsedTemplate!==rawTemplate&&(code=code.splice(match.index,rawTemplate.length,parsedTemplate),parseRe.lastIndex+=parsedTemplate.length-rawTemplate.length)}else if(match[2]){var token=match[2];if("$"===token||"_"===token)continue;if(varTest.test(token))token=token[0];else if("is"===token){var start=parseRe.lastIndex,ahead=code.slice(start);withNotTestRe.test(ahead)&&(code=code.splice(start,ahead.search(notSpaceRe)),token="isnot")}else{var _ahead=code.slice(parseRe.lastIndex);if(withColonTestRe.test(_ahead))continue}tokenTable[token]&&(code=code.splice(match.index,token.length,tokenTable[token]),parseRe.lastIndex+=tokenTable[token].length-token.length)}return code}var templateGroupStartRe=/\$\{/g,templateGroupParseRe=new RegExp(["(?:\"\"|'')",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(\\{)","(\\})"].join("|"),"g");function parseTemplate(rawTemplateLiteral){if(0!==templateGroupStartRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start of template literal");for(var startMatch,template=rawTemplateLiteral;null!==(startMatch=templateGroupStartRe.exec(template));){var startIdx=startMatch.index+2,endIdx=startIdx,depth=1,endMatch=void 0;for(templateGroupParseRe.lastIndex=startIdx;null!==(endMatch=templateGroupParseRe.exec(template));)if(endMatch[1]?++depth:endMatch[2]&&--depth,0===depth){endIdx=endMatch.index;break}if(endIdx>startIdx){var parseIndex=parseRe.lastIndex,rawGroup=template.slice(startIdx,endIdx);parseRe.lastIndex=0;var parsedGroup=parse(rawGroup);parseRe.lastIndex=parseIndex,template=template.splice(startIdx,rawGroup.length,parsedGroup),templateGroupStartRe.lastIndex+=parsedGroup.length-rawGroup.length}}return template}return parse}();function evalJavaScript(code,output,data){return function(code,output,evalJavaScript$Data$){return eval(code)}.call(output?{output:output}:null,String(code),output,data)}function evalTwineScript(code,output,data){return function(code,output,evalTwineScript$Data$){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output,data)}return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),_ref9=function(){var Lexer=function(){function Lexer(source,initialState){if(_classCallCheck(this,Lexer),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:source},initial:{value:initialState},state:{writable:!0,value:initialState},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}return _createClass(Lexer,[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(num){this.pos-=num||1}},{key:"forward",value:function(num){this.pos+=num||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(valid){var ch=this.next();return-1!==ch&&(!!valid.includes(ch)||(this.backup(),!1))}},{key:"acceptRe",value:function(validRe){var ch=this.next();return-1!==ch&&(!!validRe.test(ch)||(this.backup(),!1))}},{key:"acceptRun",value:function(valid){for(;;){var ch=this.next();if(-1===ch)return;if(!valid.includes(ch))break}this.backup()}},{key:"acceptRunRe",value:function(validRe){for(;;){var ch=this.next();if(-1===ch)return;if(!validRe.test(ch))break}this.backup()}},{key:"emit",value:function(type){this.items.push({type:type,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(type,message){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:type,message:message,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(names){var obj=names.reduce((function(obj,name,i){return obj[name]=i,obj}),{});return Object.freeze(Object.assign(Object.create(null),obj))}}]),Lexer}();return{EOF:-1,Lexer:Lexer}}(),EOF=_ref9.EOF,Lexer=_ref9.Lexer,Wikifier=function(){var _optionsStack,lookaheadRe,idOrClassRe,_callDepth=0,Wikifier=function(){function Wikifier(destination,source,options){_classCallCheck(this,Wikifier),Wikifier.Parser.Profile.isEmpty()&&Wikifier.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(source)},options:{writable:!0,value:Object.assign({profile:"all"},options)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==destination?this.output=document.createDocumentFragment():destination.jquery?this.output=destination[0]:this.output=destination;try{++_callDepth,this.subWikify(this.output),1===_callDepth&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--_callDepth}}return _createClass(Wikifier,[{key:"subWikify",value:function(output,terminator,options){var newOptions,oldOptions,oldOutput=this.output;this.output=output,Wikifier.Option.length>0&&(newOptions=Object.assign(newOptions||{},Wikifier.Option.options)),null!==options&&"object"===_typeof(options)&&(newOptions=Object.assign(newOptions||{},options)),newOptions&&(oldOptions=this.options,this.options=Object.assign({},this.options,newOptions));var terminatorMatch,parserMatch,parsersProfile=Wikifier.Parser.Profile.get(this.options.profile),terminatorRegExp=terminator?new RegExp("(?:".concat(terminator,")"),this.options.ignoreTerminatorCase?"gim":"gm"):null;do{if(parsersProfile.parserRegExp.lastIndex=this.nextMatch,terminatorRegExp&&(terminatorRegExp.lastIndex=this.nextMatch),parserMatch=parsersProfile.parserRegExp.exec(this.source),(terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null)&&(!parserMatch||terminatorMatch.index<=parserMatch.index))return terminatorMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,terminatorMatch.index),this.matchStart=terminatorMatch.index,this.matchLength=terminatorMatch[0].length,this.matchText=terminatorMatch[0],this.nextMatch=terminatorRegExp.lastIndex,this.output=oldOutput,void(oldOptions&&(this.options=oldOptions));if(parserMatch){parserMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,parserMatch.index),this.matchStart=parserMatch.index,this.matchLength=parserMatch[0].length,this.matchText=parserMatch[0],this.nextMatch=parsersProfile.parserRegExp.lastIndex;for(var matchingParser=void 0,i=1,iend=parserMatch.length;i<iend;++i)if(parserMatch[i]){matchingParser=i-1;break}if(parsersProfile.parsers[matchingParser].handler(this),null!=TempState.break)break}}while(terminatorMatch||parserMatch);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=oldOutput,oldOptions&&(this.options=oldOptions)}},{key:"outputText",value:function(destination,startPos,endPos){jQuery(destination).append(document.createTextNode(this.source.substring(startPos,endPos)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"wikifyEval",value:function(text){var output=document.createDocumentFragment();new Wikifier(output,text);var errors=output.querySelector(".error");if(null!==errors)throw new Error(errors.textContent.replace(errorPrologRegExp,""));return output}},{key:"createInternalLink",value:function(destination,passage,text,callback){var $link=jQuery(document.createElement("a"));return null!=passage&&($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken"),$link.ariaClick({one:!0},(function(){"function"==typeof callback&&callback(),Engine.play(passage)}))),text&&$link.append(document.createTextNode(text)),destination&&$link.appendTo(destination),$link[0]}},{key:"createExternalLink",value:function(destination,url,text){var $link=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(text).appendTo(destination);return null!=url&&$link.attr({href:url,tabindex:0}),$link[0]}},{key:"isExternalLink",value:function(link){return!Story.has(link)&&(new RegExp("^".concat(Patterns.url),"gim").test(link)||/[/.?#]/.test(link))}}]),Wikifier}();return Object.defineProperty(Wikifier,"Option",{value:(_optionsStack=[],Object.freeze(Object.defineProperties({},{length:{get:function(){return _optionsStack.length}},options:{get:function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(_optionsStack)))}},clear:{value:function(){_optionsStack=[]}},get:{value:function(idx){return _optionsStack[idx]}},pop:{value:function(){return _optionsStack.pop()}},push:{value:function(options){if("object"!==_typeof(options)||null===options)throw new TypeError("Wikifier.Option.push options parameter must be an object (received: ".concat(Util.getType(options),")"));return _optionsStack.push(options)}}})))}),Object.defineProperty(Wikifier,"Parser",{value:function(){var _profiles,_parsers=[];function parsersHas(name){return!!_parsers.find((function(parser){return parser.name===name}))}return Object.freeze(Object.defineProperties({},{parsers:{get:function(){return _parsers}},add:{value:function(parser){if("object"!==_typeof(parser))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!parser.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof parser.name)throw new Error('parser object "name" property must be a string');if(!parser.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof parser.match)throw new Error('parser object "match" property must be a string');if(!parser.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof parser.handler)throw new Error('parser object "handler" property must be a function');if(parser.hasOwnProperty("profiles")&&!Array.isArray(parser.profiles))throw new Error('parser object "profiles" property must be an array');if(parsersHas(parser.name))throw new Error('cannot clobber existing parser "'.concat(parser.name,'"'));_parsers.push(parser)}},delete:{value:function(name){var parser=_parsers.find((function(parser){return parser.name===name}));parser&&_parsers.delete(parser)}},isEmpty:{value:function(){return 0===_parsers.length}},has:{value:parsersHas},get:{value:function(name){return _parsers.find((function(parser){return parser.name===name}))||null}},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:function(){return _profiles}},compile:{value:function(){var all=_parsers,core=all.filter((function(parser){return!Array.isArray(parser.profiles)||parser.profiles.includes("core")}));return _profiles=Object.freeze({all:{parsers:all,parserRegExp:new RegExp(all.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")},core:{parsers:core,parserRegExp:new RegExp(core.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")}})}},isEmpty:{value:function(){return"object"!==_typeof(_profiles)||0===Object.keys(_profiles).length}},has:{value:function(profile){return"object"===_typeof(_profiles)&&_profiles.hasOwnProperty(profile)}},get:{value:function(profile){if("object"!==_typeof(_profiles)||!_profiles.hasOwnProperty(profile))throw new Error('nonexistent parser profile "'.concat(profile,'"'));return _profiles[profile]}}}))}}))}()}),Object.defineProperties(Wikifier,{helpers:{value:{}},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(Wikifier.helpers,{inlineCss:{value:(lookaheadRe=new RegExp(Patterns.inlineCss,"gm"),idOrClassRe=new RegExp("(".concat(Patterns.cssIdOrClassSigil,")(").concat(Patterns.anyLetter,"+)"),"g"),function(w){var matched,css={classes:[],id:"",styles:{}};do{lookaheadRe.lastIndex=w.nextMatch;var match=lookaheadRe.exec(w.source);if(matched=match&&match.index===w.nextMatch){if(match[1])css.styles[Util.fromCssProperty(match[1])]=match[2].trim();else if(match[3])css.styles[Util.fromCssProperty(match[3])]=match[4].trim();else if(match[5]){var subMatch=void 0;for(idOrClassRe.lastIndex=0;null!==(subMatch=idOrClassRe.exec(match[5]));)"."===subMatch[1]?css.classes.push(subMatch[2]):css.id=subMatch[2]}w.nextMatch=lookaheadRe.lastIndex}}while(matched);return css})},evalText:{value:function(text){var result;try{switch(_typeof(result=Scripting.evalTwineScript(text))){case"string":""===result.trim()&&(result=text);break;case"number":result=String(result);break;default:result=text}}catch(ex){result=text}return result}},evalPassageId:{value:function(passage){return null==passage||Story.has(passage)?passage:Wikifier.helpers.evalText(passage)}},hasBlockContext:{value:function(nodes){for(var hasGCS="function"==typeof window.getComputedStyle,i=nodes.length-1;i>=0;--i){var node=nodes[i];switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.nodeName.toUpperCase();if("BR"===tagName)return!0;var styles=hasGCS?window.getComputedStyle(node,null):node.currentStyle;if(styles&&styles.display){if("none"===styles.display)continue;return"block"===styles.display}switch(tagName){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){var macroParser=null;function getMacroContextShadowView(){for(var macro=macroParser||function(){if(!macroParser&&!(macroParser=Wikifier.Parser.get("macro")))throw new Error('cannot find "macro" parser');return macroParser}(),view=new Set,context=macro.context;null!==context;context=context.parent)context._shadows&&context._shadows.forEach((function(name){return view.add(name)}));return _toConsumableArray(view)}return function(code){var shadowStore={};return getMacroContextShadowView().forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]})),function(){var shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null;try{return shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),Scripting.evalJavaScript(code)}finally{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}}()},parseSquareBracketedMarkup:{value:function(){var Item=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),Delim=Lexer.enumFromNames(["None","LTR","RTL"]);function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexLeftMeta(lexer){if(!lexer.accept("["))return lexer.error(Item.Error,"malformed square-bracketed markup");if(lexer.accept("["))lexer.data.isLink=!0,lexer.emit(Item.LinkMeta);else{if(lexer.accept("<>"),!(lexer.accept("Ii")&&lexer.accept("Mm")&&lexer.accept("Gg")&&lexer.accept("[")))return lexer.error(Item.Error,"malformed square-bracketed markup");lexer.data.isLink=!1,lexer.emit(Item.ImageMeta)}return lexer.depth=2,lexCoreComponents}function lexCoreComponents(lexer){for(var what=lexer.data.isLink?"link":"image",delim=Delim.None;;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup"));break;case"|":delim===Delim.None&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(),lexer.emit(Item.DelimLTR));break;case"-":delim===Delim.None&&">"===lexer.peek()&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(2),lexer.emit(Item.DelimLTR));break;case"<":delim===Delim.None&&"-"===lexer.peek()&&(delim=Delim.RTL,lexer.backup(),lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.DelimRTL));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.InnerMeta),lexer.data.isLink?lexSetter:lexImageLink;case"]":return--lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexImageLink(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup link component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.InnerMeta),lexSetter;case"]":return--lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexSetter(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup setter component"));break;case"'":if(slurpQuote(lexer,"'")===EOF)return lexer.error(Item.Error,"unterminated single quoted string in ".concat(what," markup setter component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)return"]"!==lexer.peek()?lexer.error(Item.Error,"malformed ".concat(what," markup")):(--lexer.depth,lexer.backup(),lexer.emit(Item.Setter),lexer.forward(2),lexer.emit(Item.RightMeta),null)}}return function(w){var lexer=new Lexer(w.source,lexLeftMeta);lexer.start=lexer.pos=w.matchStart;var markup={},items=lexer.run(),last=items.last();return last&&last.type===Item.Error?markup.error=last.message:items.forEach((function(item){var text=item.text.trim();switch(item.type){case Item.ImageMeta:markup.isImage=!0,"<"===text[1]?markup.align="left":">"===text[1]&&(markup.align="right");break;case Item.LinkMeta:markup.isLink=!0;break;case Item.Link:"~"===text[0]?(markup.forceInternal=!0,markup.link=text.slice(1)):markup.link=text;break;case Item.Setter:markup.setter=text;break;case Item.Source:markup.source=text;break;case Item.Text:markup.text=text}})),markup.pos=lexer.pos,markup}}()}}),Wikifier}();!function(){function _verbatimTagHandler(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(match[1]).appendTo(w.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("blockquote")).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,i,destStack=[w.output],curLevel=0,newLevel=w.matchLength;do{if(newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement("blockquote")).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();curLevel=newLevel,w.subWikify(destStack[destStack.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(destStack[destStack.length-1]),this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);(matched=match&&match.index===w.nextMatch)&&(newLevel=match[0].length,w.nextMatch+=match[0].length)}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?".concat(Patterns.macroName,")(?:\\s*)((?:(?:/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/)|(?://.*\\n)|(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>"),"gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(w){var matchStart=this.lookahead.lastIndex=w.matchStart;if(this.parseTag(w)){var macro,nextMatch=w.nextMatch,name=this.working.name,rawArgs=this.working.arguments;try{if(!(macro=Macro.get(name))){if(Macro.tags.has(name)){var tags=Macro.tags.get(name);return throwError(w.output,"child tag <<".concat(name,">> was found outside of a call to its parent macro").concat(1===tags.length?"":"s"," <<").concat(tags.join(">>, <<"),">>"),w.source.slice(matchStart,w.nextMatch))}return throwError(w.output,"macro <<".concat(name,">> does not exist"),w.source.slice(matchStart,w.nextMatch))}var payload=null;if(void 0!==macro.tags&&!(payload=this.parseBody(w,macro)))return w.nextMatch=nextMatch,throwError(w.output,"cannot find a closing tag for macro <<".concat(name,">>"),"".concat(w.source.slice(matchStart,w.nextMatch),"…"));if("function"!=typeof macro.handler)return throwError(w.output,"macro <<".concat(name,">> handler function ").concat(void 0===macro.handler?"does not exist":"is not a function"),w.source.slice(matchStart,w.nextMatch));var args=payload?payload[0].args:this.createArgs(rawArgs,this.skipArgs(macro,macro.name));if(void 0!==macro._MACRO_API){this.context=new MacroContext({macro:macro,name:name,args:args,payload:payload,source:w.source.slice(matchStart,w.nextMatch),parent:this.context,parser:w});try{macro.handler.call(this.context)}finally{this.context=this.context.parent}}else{var prevRawArgs=w._rawArgs;w._rawArgs=rawArgs;try{macro.handler(w.output,name,args,w,payload)}finally{w._rawArgs=prevRawArgs}}}catch(ex){return throwError(w.output,"cannot execute ".concat(macro&&macro.isWidget?"widget":"macro"," <<").concat(name,">>: ").concat(ex.message),w.source.slice(matchStart,w.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else w.outputText(w.output,w.matchStart,w.nextMatch)},parseTag:function(w){var match=this.lookahead.exec(w.source);return!(!match||match.index!==w.matchStart||!match[1])&&(w.nextMatch=this.lookahead.lastIndex,this.working.source=w.source.slice(match.index,this.lookahead.lastIndex),this.working.name=match[1],this.working.arguments=match[2],this.working.index=match.index,!0)},parseBody:function(w,macro){for(var openTag=this.working.name,closeTag="/".concat(openTag),closeAlt="end".concat(openTag),bodyTags=!!Array.isArray(macro.tags)&&macro.tags,payload=[],end=-1,opened=1,curSource=this.working.source,curTag=this.working.name,curArgument=this.working.arguments,contentStart=w.nextMatch;-1!==(w.matchStart=w.source.indexOf(this.match,w.nextMatch));)if(this.parseTag(w)){var tagSource=this.working.source,tagName=this.working.name,tagArgs=this.working.arguments,tagBegin=this.working.index,tagEnd=w.nextMatch,hasArgs=""!==tagArgs.trim();switch(tagName){case openTag:++opened;break;case closeAlt:case closeTag:if(hasArgs)throw w.nextMatch=tagBegin+2+tagName.length,new Error('malformed closing tag: "'.concat(tagSource,'"'));--opened;break;default:if(hasArgs&&(tagName.startsWith("/")||tagName.startsWith("end"))){this.lookahead.lastIndex=w.nextMatch=tagBegin+2+tagName.length;continue}if(1===opened&&bodyTags)for(var i=0,iend=bodyTags.length;i<iend;++i)tagName===bodyTags[i]&&(payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),curSource=tagSource,curTag=tagName,curArgument=tagArgs,contentStart=tagEnd)}if(0===opened){payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),end=tagEnd;break}}else this.lookahead.lastIndex=w.nextMatch=w.matchStart+this.match.length;return-1!==end?(w.nextMatch=end,payload):null},createArgs:function(rawArgsString,skipArgs){var args=skipArgs?[]:this.parseArgs(rawArgsString);return Object.defineProperties(args,{raw:{value:rawArgsString},full:{value:Scripting.parse(rawArgsString)}}),args},skipArgs:function(macro,tagName){if(void 0!==macro.skipArgs){var sa=macro.skipArgs;return"boolean"==typeof sa&&sa||Array.isArray(sa)&&sa.includes(tagName)}return void 0!==macro.skipArg0&&(macro.skipArg0&&macro.name===tagName)},parseArgs:function(){var Item=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),spaceRe=new RegExp(Patterns.space),notSpaceRe=new RegExp(Patterns.notSpace),varTest=new RegExp("^".concat(Patterns.variable));function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexSpace(lexer){var offset=lexer.source.slice(lexer.pos).search(notSpaceRe);if(offset===EOF)return null;switch(0!==offset&&(lexer.pos+=offset,lexer.ignore()),lexer.next()){case"`":return lexExpression;case'"':return lexDoubleQuote;case"'":return lexSingleQuote;case"[":return lexSquareBracket;default:return lexBareword}}function lexExpression(lexer){return slurpQuote(lexer,"`")===EOF?lexer.error(Item.Error,"unterminated backquote expression"):(lexer.emit(Item.Expression),lexSpace)}function lexDoubleQuote(lexer){return slurpQuote(lexer,'"')===EOF?lexer.error(Item.Error,"unterminated double quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSingleQuote(lexer){return slurpQuote(lexer,"'")===EOF?lexer.error(Item.Error,"unterminated single quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSquareBracket(lexer){var what;if(lexer.accept("<>IiMmGg")?(what="image",lexer.acceptRun("<>IiMmGg")):what="link",!lexer.accept("["))return lexer.error(Item.Error,"malformed ".concat(what," markup"));lexer.depth=2;loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case"[":++lexer.depth;break;case"]":if(--lexer.depth,lexer.depth<0)return lexer.error(Item.Error,"unexpected right square bracket ']'");if(1===lexer.depth){if("]"===lexer.next()){--lexer.depth;break loop}lexer.backup()}}return lexer.emit(Item.SquareBracket),lexSpace}function lexBareword(lexer){var offset=lexer.source.slice(lexer.pos).search(spaceRe);return lexer.pos=offset===EOF?lexer.source.length:lexer.pos+offset,lexer.emit(Item.Bareword),offset===EOF?null:lexSpace}return function(rawArgsString){var lexer=new Lexer(rawArgsString,lexSpace),args=[];return lexer.run().forEach((function(item){var arg=item.text;switch(item.type){case Item.Error:throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(item.message));case Item.Bareword:if(varTest.test(arg))arg=State.getVar(arg);else if(/^(?:settings|setup)[.[]/.test(arg))try{arg=Scripting.evalTwineScript(arg)}catch(ex){throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(ex.message))}else if("null"===arg)arg=null;else if("undefined"===arg)arg=undefined;else if("true"===arg)arg=!0;else if("false"===arg)arg=!1;else if("NaN"===arg)arg=NaN;else{var argAsNum=Number(arg);Number.isNaN(argAsNum)||(arg=argAsNum)}break;case Item.Expression:if(""===(arg=arg.slice(1,-1).trim()))arg=undefined;else try{arg=Scripting.evalTwineScript("(".concat(arg,")"))}catch(ex){throw new Error('unable to parse macro argument expression "'.concat(arg,'": ').concat(ex.message))}break;case Item.String:try{arg=Scripting.evalJavaScript(arg)}catch(ex){throw new Error('unable to parse macro argument string "'.concat(arg,'": ').concat(ex.message))}break;case Item.SquareBracket:var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:arg,matchStart:0});if(markup.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(markup.error));if(markup.pos<arg.length)throw new Error('unable to parse macro argument "'.concat(arg,'": unexpected character(s) "').concat(arg.slice(markup.pos),'" (pos: ').concat(markup.pos,")"));markup.isLink?((arg={isLink:!0}).count=markup.hasOwnProperty("text")?2:1,arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):arg.link,arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null):markup.isImage&&(arg=function(source){var imgObj={source:source,isImage:!0};if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(imgObj.source=passage.text,imgObj.passage=passage.title)}return imgObj}(Wikifier.helpers.evalPassageId(markup.source)),markup.hasOwnProperty("align")&&(arg.align=markup.align),markup.hasOwnProperty("text")&&(arg.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("link")&&(arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link)),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null)}args.push(arg)})),args}}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{w.nextMatch=markup.pos;var link=Wikifier.helpers.evalPassageId(markup.link),text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):link,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,output=(Config.debug?new DebugView(w.output,"link-markup","[[link]]",w.source.slice(w.matchStart,w.nextMatch)):w).output;markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(output,link,text,setFn):Wikifier.createExternalLink(output,link,text)}}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(w){w.outputText(Wikifier.createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{var debugView;w.nextMatch=markup.pos,Config.debug&&(debugView=new DebugView(w.output,"image-markup",markup.hasOwnProperty("link")?"[img[][link]]":"[img[]]",w.source.slice(w.matchStart,w.nextMatch))).modes({block:!0});var source,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,el=(Config.debug?debugView:w).output;if(markup.hasOwnProperty("link")){var link=Wikifier.helpers.evalPassageId(markup.link);(el=markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(el,link,null,setFn):Wikifier.createExternalLink(el,link)).classList.add("link-image")}if(el=jQuery(document.createElement("img")).appendTo(el).get(0),"data:"!==(source=Wikifier.helpers.evalPassageId(markup.source)).slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(el.setAttribute("data-passage",passage.title),source=passage.text.trim())}el.src=source,markup.hasOwnProperty("text")&&(el.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("align")&&(el.align=markup.align)}}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){var pre=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(match[1]).appendTo(pre),pre.appendTo(w.output),w.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(w){switch(w.matchText){case"''":w.subWikify(jQuery(document.createElement("strong")).appendTo(w.output).get(0),"''");break;case"//":w.subWikify(jQuery(document.createElement("em")).appendTo(w.output).get(0),"//");break;case"__":w.subWikify(jQuery(document.createElement("u")).appendTo(w.output).get(0),"__");break;case"^^":w.subWikify(jQuery(document.createElement("sup")).appendTo(w.output).get(0),"\\^\\^");break;case"~~":w.subWikify(jQuery(document.createElement("sub")).appendTo(w.output).get(0),"~~");break;case"==":w.subWikify(jQuery(document.createElement("s")).appendTo(w.output).get(0),"==");break;case"{{{":var lookahead=/\{\{\{((?:.|\n)*?)\}\}\}/gm;lookahead.lastIndex=w.matchStart;var match=lookahead.exec(w.source);match&&match.index===w.matchStart&&(jQuery(document.createElement("code")).text(match[1]).appendTo(w.output),w.nextMatch=lookahead.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(w){var css=Wikifier.helpers.inlineCss(w);this.blockRe.lastIndex=w.nextMatch;var blockMatch=this.blockRe.exec(w.source),blockLevel=blockMatch&&blockMatch.index===w.nextMatch,$el=jQuery(document.createElement(blockLevel?"div":"span")).appendTo(w.output);0===css.classes.length&&""===css.id&&0===Object.keys(css.styles).length?$el.addClass("marked"):(css.classes.forEach((function(className){return $el.addClass(className)})),""!==css.id&&$el.attr("id",css.id),$el.css(css.styles)),blockLevel?(w.nextMatch+=blockMatch[0].length,w.subWikify($el[0],"\\n?".concat(this.terminator))):w.subWikify($el[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(match[1]||match[2]).appendTo(w.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(w){jQuery(document.createElement("hr")).appendTo(w.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(w){jQuery(document.createTextNode("—")).appendTo(w.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(w){jQuery(document.createTextNode("$")).appendTo(w.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:"".concat(Patterns.variable,"(?:(?:\\.").concat(Patterns.identifier,")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\[").concat(Patterns.variable,"\\]))*"),handler:function(w){var result=State.getVar(w.matchText);null==result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"variable",w.matchText,w.matchText):w).output,stringFrom(result))}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?".concat(Patterns.templateName),handler:function(w){var name=w.matchText.slice(1),template=Template.get(name),result=null;switch(template instanceof Array&&(template=template.random()),_typeof(template)){case"function":try{result=stringFrom(template.call({name:name}))}catch(ex){return throwError(w.output,"cannot execute function template ?".concat(name,": ").concat(ex.message),w.source.slice(w.matchStart,w.nextMatch))}break;case"string":result=template}null===result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"template",w.matchText,w.matchText):w).output,result)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("h".concat(w.matchLength))).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,table=jQuery(document.createElement("table")).appendTo(w.output).get(0),prevColumns=[],curRowType=null,$rowContainer=null,rowCount=0;w.nextMatch=w.matchStart;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var nextRowType=match[2];"k"===nextRowType?(table.className=match[1],w.nextMatch+=match[0].length+1):(nextRowType!==curRowType&&(curRowType=nextRowType,$rowContainer=jQuery(document.createElement(this.rowTypes[nextRowType])).appendTo(table)),"c"===curRowType?($rowContainer.css("caption-side",0===rowCount?"top":"bottom"),w.nextMatch+=1,w.subWikify($rowContainer[0],this.rowTerminator)):this.rowHandler(w,jQuery(document.createElement("tr")).appendTo($rowContainer).get(0),prevColumns),++rowCount)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))},rowHandler:function(w,rowEl,prevColumns){var matched,_this12=this,cellRe=new RegExp(this.cellPattern,"gm"),col=0,curColCount=1;do{cellRe.lastIndex=w.nextMatch;var cellMatch=cellRe.exec(w.source);if(matched=cellMatch&&cellMatch.index===w.nextMatch){if("~"===cellMatch[1]){var last=prevColumns[col];last&&(++last.rowCount,last.$element.attr("rowspan",last.rowCount).css("vertical-align","middle")),w.nextMatch=cellMatch.index+cellMatch[0].length-1}else if(">"===cellMatch[1])++curColCount,w.nextMatch=cellMatch.index+cellMatch[0].length-1;else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}!function(){++w.nextMatch;for(var css=Wikifier.helpers.inlineCss(w),spaceLeft=!1,spaceRight=!1,$cell=void 0;" "===w.source.substr(w.nextMatch,1);)spaceLeft=!0,++w.nextMatch;"!"===w.source.substr(w.nextMatch,1)?($cell=jQuery(document.createElement("th")).appendTo(rowEl),++w.nextMatch):$cell=jQuery(document.createElement("td")).appendTo(rowEl),prevColumns[col]={rowCount:1,$element:$cell},curColCount>1&&($cell.attr("colspan",curColCount),curColCount=1),w.subWikify($cell[0],_this12.cellTerminator)," "===w.matchText.substr(w.matchText.length-2,1)&&(spaceRight=!0),css.classes.forEach((function(className){return $cell.addClass(className)})),""!==css.id&&$cell.attr("id",css.id),spaceLeft&&spaceRight?css.styles["text-align"]="center":spaceLeft?css.styles["text-align"]="right":spaceRight&&(css.styles["text-align"]="left"),$cell.css(css.styles),w.nextMatch=w.nextMatch-1}()}++col}}while(matched)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){w.nextMatch=w.matchStart;var matched,i,destStack=[w.output],curType=null,curLevel=0;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var newType=match[2]?"ol":"ul",newLevel=match[0].length;if(w.nextMatch+=match[0].length,newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();else newLevel===curLevel&&newType!==curType&&(destStack.pop(),destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0)));curLevel=newLevel,curType=newType,w.subWikify(jQuery(document.createElement("li")).appendTo(destStack[destStack.length-1]).get(0),this.terminator)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\".concat(Patterns.spaceNoTerminator,"*\\n|\\n").concat(Patterns.spaceNoTerminator,"*\\\\|\\n?\\\\").concat(Patterns.spaceNoTerminator,"*$|^").concat(Patterns.spaceNoTerminator,"*\\\\\\n?"),handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(w){w.options.nobr||jQuery(document.createElement("br")).appendTo(w.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(w){jQuery(document.createDocumentFragment()).append(w.matchText).appendTo(w.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){w.nextMatch=this.lookahead.lastIndex;var css=match[2];this.hasImageMarkup.test(css)&&(this.imageMarkup.lastIndex=0,css=css.replace(this.imageMarkup,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text)}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),jQuery(document.createDocumentFragment()).append(match[1]+css+match[3]).appendTo(w.output)}}}),Wikifier.Parser.add({name:"svgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/<(\/?)[Ss][Vv][Gg][^>]*>/gm,namespace:"http://www.w3.org/2000/svg",handler:function(w){var _this13=this;this.lookahead.lastIndex=w.nextMatch;for(var match,depth=1;depth>0&&null!==(match=this.lookahead.exec(w.source));)depth+="/"===match[1]?-1:1;if(0===depth){w.nextMatch=this.lookahead.lastIndex;var svgTag=w.source.slice(w.matchStart,this.lookahead.lastIndex),$frag=jQuery(document.createDocumentFragment()).append(svgTag);$frag.find("a[data-passage],image[data-passage]").each((function(_,el){var tagName=el.tagName.toLowerCase();try{_this13.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"svg|<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}el.hasAttribute("data-passage")&&_this13.processDataAttributes(el,tagName)})),$frag.appendTo(w.output)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref10){var name=_ref10.name,value=_ref10.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if("image"===tagName)"data:"!==passage.slice(0,5)&&Story.has(passage)&&(passage=Story.get(passage)).tags.includes("Twine.image")&&el.setAttribute("href",passage.text.trim());else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<".concat(Patterns.htmlTagName,"(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>"),tagRe:new RegExp("^<(".concat(Patterns.htmlTagName,")")),mediaTags:["audio","img","source","track","video"],nobrTags:["audio","colgroup","datalist","dl","figure","meter","ol","optgroup","picture","progress","ruby","select","table","tbody","tfoot","thead","tr","ul","video"],voidTags:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(w){var tagMatch=this.tagRe.exec(w.matchText),tag=tagMatch&&tagMatch[1],tagName=tag&&tag.toLowerCase();if(tagName){var terminator,terminatorMatch,isVoid=this.voidTags.includes(tagName)||w.matchText.endsWith("/>"),isNobr=this.nobrTags.includes(tagName);if(!isVoid){terminator="<\\/".concat(tagName,"\\s*>");var terminatorRe=new RegExp(terminator,"gim");terminatorRe.lastIndex=w.matchStart,terminatorMatch=terminatorRe.exec(w.source)}if(!isVoid&&!terminatorMatch)return throwError(w.output,"cannot find a closing tag for HTML <".concat(tag,">"),"".concat(w.matchText,"…"));var debugView,output=w.output,el=document.createElement(w.output.tagName);for(el.innerHTML=w.matchText;el.firstChild;)el=el.firstChild;try{this.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}if(el.hasAttribute("data-passage")&&(this.processDataAttributes(el,tagName),Config.debug&&((debugView=new DebugView(w.output,"html-".concat(tagName),tagName,w.matchText)).modes({block:"img"===tagName,nonvoid:terminatorMatch}),output=debugView.output)),terminatorMatch){try{Wikifier.Option.push({nobr:isNobr}),w.subWikify(el,terminator,{ignoreTerminatorCase:!0})}finally{Wikifier.Option.pop()}debugView&&jQuery(el).find(".debug.block").length>0&&debugView.modes({block:!0})}output.appendChild("track"===tagName?el.cloneNode(!0):el)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref11){var name=_ref11.name,value=_ref11.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if(this.mediaTags.includes(tagName)){if("data:"!==passage.slice(0,5)&&Story.has(passage)){var parentName,twineTag;switch(passage=Story.get(passage),tagName){case"audio":case"video":twineTag="Twine.".concat(tagName);break;case"img":twineTag="Twine.image";break;case"track":twineTag="Twine.vtt";break;case"source":var $parent=$(el).closest("audio,picture,video");$parent.length&&(parentName=$parent.get(0).tagName.toLowerCase(),twineTag="Twine.".concat("picture"===parentName?"image":parentName))}passage.tags.includes(twineTag)&&(el["picture"===parentName?"srcset":"src"]=passage.text.trim())}}else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}})}();var Template=(_templates=new Map,_validNameRe=new RegExp("^(?:".concat(Patterns.templateName,")$")),_validType=function(template){var templateType=_typeof(template);return"function"===templateType||"string"===templateType},Object.freeze(Object.defineProperties({},{add:{value:function(name,template){if(!(_validType(template)||template instanceof Array&&template.length>0&&template.every(_validType)))throw new TypeError("invalid template type (".concat(name,"); templates must be: functions, strings, or an array of either"));(name instanceof Array?name:[name]).forEach((function(name){if(!_validNameRe.test(name))throw new Error('invalid template name "'.concat(name,'"'));if(_templates.has(name))throw new Error("cannot clobber existing template ?".concat(name));_templates.set(name,template)}))}},delete:{value:function(name){(name instanceof Array?name:[name]).forEach((function(name){return _templates.delete(name)}))}},get:{value:function(name){return _templates.has(name)?_templates.get(name):null}},has:{value:function(name){return _templates.has(name)}},size:{get:function(){return _templates.size}}}))),_templates,_validNameRe,_validType,Macro=function(){var _macros={},_tags={},_validNameRe=new RegExp("^(?:".concat(Patterns.macroName,")$"));function macrosHas(name){return _macros.hasOwnProperty(name)}function tagsRegister(parent,bodyTags){if(!parent)throw new Error("no parent specified");for(var endTags=["/".concat(parent),"end".concat(parent)],allTags=[].concat(endTags,Array.isArray(bodyTags)?bodyTags:[]),i=0;i<allTags.length;++i){var tag=allTags[i];if(macrosHas(tag))throw new Error("cannot register tag for an existing macro");tagsHas(tag)?_tags[tag].includes(parent)||(_tags[tag].push(parent),_tags[tag].sort()):_tags[tag]=[parent]}}function tagsUnregister(parent){if(!parent)throw new Error("no parent specified");Object.keys(_tags).forEach((function(tag){var i=_tags[tag].indexOf(parent);-1!==i&&(1===_tags[tag].length?delete _tags[tag]:_tags[tag].splice(i,1))}))}function tagsHas(name){return _tags.hasOwnProperty(name)}return Object.freeze(Object.defineProperties({},{add:{value:function macrosAdd(name,def){if(Array.isArray(name))name.forEach((function(name){return macrosAdd(name,def)}));else{if(!_validNameRe.test(name))throw new Error('invalid macro name "'.concat(name,'"'));if(macrosHas(name))throw new Error("cannot clobber existing macro <<".concat(name,">>"));if(tagsHas(name))throw new Error("cannot clobber child tag <<".concat(name,">> of parent macro").concat(1===_tags[name].length?"":"s"," <<").concat(_tags[name].join(">>, <<"),">>"));try{if("object"===_typeof(def))_macros[name]=Object.assign(Object.create(null),def,{_MACRO_API:!0});else{if(!macrosHas(def))throw new Error("cannot create alias of nonexistent macro <<".concat(def,">>"));_macros[name]=Object.create(_macros[def],{_ALIAS_OF:{enumerable:!0,value:def}})}Object.defineProperty(_macros,name,{writable:!1})}catch(ex){throw"TypeError"===ex.name?new Error("cannot clobber protected macro <<".concat(name,">>")):new Error("unknown error when attempting to add macro <<".concat(name,">>: [").concat(ex.name,"] ").concat(ex.message))}if(void 0!==_macros[name].tags)if(null==_macros[name].tags)tagsRegister(name);else{if(!Array.isArray(_macros[name].tags))throw new Error('bad value for "tags" property of macro <<'.concat(name,">>"));tagsRegister(name,_macros[name].tags)}}}},delete:{value:function macrosDelete(name){if(Array.isArray(name))name.forEach((function(name){return macrosDelete(name)}));else if(macrosHas(name)){void 0!==_macros[name].tags&&tagsUnregister(name);try{Object.defineProperty(_macros,name,{writable:!0}),delete _macros[name]}catch(ex){throw new Error("unknown error removing macro <<".concat(name,">>: ").concat(ex.message))}}else if(tagsHas(name))throw new Error("cannot remove child tag <<".concat(name,">> of parent macro <<").concat(_tags[name],">>"))}},isEmpty:{value:function(){return 0===Object.keys(_macros).length}},has:{value:macrosHas},get:{value:function(name){var macro=null;return macrosHas(name)&&"function"==typeof _macros[name].handler?macro=_macros[name]:macros.hasOwnProperty(name)&&"function"==typeof macros[name].handler&&(macro=macros[name]),macro}},init:{value:function(){var handler=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(_macros).forEach((function(name){"function"==typeof _macros[name][handler]&&_macros[name][handler](name)})),Object.keys(macros).forEach((function(name){"function"==typeof macros[name][handler]&&macros[name][handler](name)}))}},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:tagsRegister},unregister:{value:tagsUnregister},has:{value:tagsHas},get:{value:function(name){return tagsHas(name)?_tags[name]:null}}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){var MacroContext=function(){function MacroContext(contextData){_classCallCheck(this,MacroContext);var context=Object.assign({parent:null,macro:null,name:"",displayName:"",args:null,payload:null,parser:null,source:""},contextData);if(null===context.macro||""===context.name||null===context.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:context.macro},name:{value:void 0===context.macro._ALIAS_OF?context.name:context.macro._ALIAS_OF},displayName:{value:context.name},args:{value:context.args},payload:{value:context.payload},source:{value:context.source},parent:{value:context.parent},parser:{value:context.parser},_output:{value:context.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(MacroContext,[{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return _toConsumableArray(this._shadows)}},{key:"shadowView",get:function(){var view=new Set;return this.contextSelectAll((function(ctx){return ctx._shadows})).forEach((function(ctx){return ctx._shadows.forEach((function(name){return view.add(name)}))})),_toConsumableArray(view)}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}},{key:"contextHas",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return!0;return!1}},{key:"contextSelect",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return context;return null}},{key:"contextSelectAll",value:function(filter){for(var result=[],context=this;null!==(context=context.parent);)filter(context)&&result.push(context);return result}},{key:"addShadow",value:function(){var _this14=this;this._shadows||(this._shadows=new Set);for(var varRe=new RegExp("^".concat(Patterns.variable,"$")),_len14=arguments.length,names=new Array(_len14),_key14=0;_key14<_len14;_key14++)names[_key14]=arguments[_key14];names.flat(1/0).forEach((function(name){if("string"!=typeof name)throw new TypeError("variable name must be a string; type: ".concat(_typeof(name)));if(!varRe.test(name))throw new Error('invalid variable name "'.concat(name,'"'));_this14._shadows.add(name)}))}},{key:"createShadowWrapper",value:function(callback,doneCallback,startCallback){var shadowStore,shadowContext=this;return"function"==typeof callback&&(shadowStore={},this.shadowView.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]}))),function(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];if("function"==typeof startCallback&&startCallback.apply(this,args),"function"==typeof callback){var contextCache,shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null,macroParser=Wikifier.Parser.get("macro");try{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),contextCache=macroParser.context,macroParser.context=shadowContext,callback.apply(this,args)}finally{contextCache!==undefined&&(macroParser.context=contextCache),shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}"function"==typeof doneCallback&&doneCallback.apply(this,args)}}},{key:"createDebugView",value:function(name,title){return this._debugView=new DebugView(this._output,"macro",name||this.displayName,title||this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(message,source){return throwError(this._output,"<<".concat(this.displayName,">>: ").concat(message),source||this.source)}}]),MacroContext}();return MacroContext}();!function(){if(Macro.add("capture",{skipArgs:!0,tags:null,tsVarRe:new RegExp("(".concat(Patterns.variable,")"),"g"),handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var valueCache={};try{for(var match,tsVarRe=this.self.tsVarRe;null!==(match=tsVarRe.exec(this.args.raw));){var varName=match[1],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),this.addShadow(varName)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,jsVarRe:new RegExp("State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var match,jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var store=State[match[1]],name=match[2];store.hasOwnProperty(name)&&delete store[name]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}for(var match,remember=storage.get("remember")||{},jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];remember[name]=State.variables[name]}if(!storage.set("remember",remember))return this.error("unknown error, cannot remember: ".concat(this.args.raw));Config.debug&&this.debugView.modes({hidden:!0})},init:function(){var remember=storage.get("remember");remember&&Object.keys(remember).forEach((function(name){return State.variables[name]=remember[name]}))}}),Macro.add("forget",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var match,remember=storage.get("remember"),jsVarRe=this.self.jsVarRe,needStore=!1;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];State.variables.hasOwnProperty(name)&&delete State.variables[name],remember&&remember.hasOwnProperty(name)&&(needStore=!0,delete remember[name])}if(needStore)if(0===Object.keys(remember).length){if(!storage.delete("remember"))return this.error("unknown error, cannot update remember store")}else if(!storage.set("remember",remember))return this.error("unknown error, cannot update remember store");Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var output=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,output)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.createDebugView(),output.hasChildNodes()&&this.output.appendChild(output)}}),Macro.add("include",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?(Config.debug&&this.debugView.modes({block:!0}),passage=Story.get(passage),void(this.args[1]?jQuery(document.createElement(this.args[1])).addClass("".concat(passage.domId," macro-").concat(this.name)).attr("data-passage",passage.title).appendTo(this.output):jQuery(this.output)).wiki(passage.processText())):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var result=stringFrom(Scripting.evalJavaScript(this.args.full));null!==result&&new Wikifier(this.output,"-"===this.name?Util.escape(result):result)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var frag=document.createDocumentFragment();if(new Wikifier(frag,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({block:!0,hidden:!0}),this.output.appendChild(frag);else{var errList=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent}));if(errList.length>0)return this.error("error".concat(1===errList.length?"":"s"," within contents (").concat(errList.join("; "),")"))}}}),Macro.add("type",{isAsync:!0,tags:null,typeId:0,handler:function(){if(0===this.args.length)return this.error("no speed specified");var cursor,speed=Util.fromCssTime(this.args[0]);if(speed<0)return this.error("speed time value must be non-negative (received: ".concat(this.args[0],")"));for(var elClass="",elId="",elTag="div",skipKey=Config.macros.typeSkipKey,start=400,options=this.args.slice(1);options.length>0;){var option=options.shift();switch(option){case"class":if(0===options.length)return this.error("class option missing required class name(s)");if(""===(elClass=options.shift()))throw new Error('class option class name(s) must be non-empty (received: "")');break;case"element":if(0===options.length)return this.error("element option missing required element tag name");if(""===(elTag=options.shift()))throw new Error('element option tag name must be non-empty (received: "")');break;case"id":if(0===options.length)return this.error("id option missing required ID");if(""===(elId=options.shift()))throw new Error('id option ID must be non-empty (received: "")');break;case"keep":cursor="keep";break;case"none":cursor="none";break;case"skipkey":if(0===options.length)return this.error("skipkey option missing required key value");if(""===(skipKey=options.shift()))throw new Error('skipkey option key value must be non-empty (received: "")');break;case"start":if(0===options.length)return this.error("start option missing required time value");var value=options.shift();if((start=Util.fromCssTime(value))<0)throw new Error("start option time value must be non-negative (received: ".concat(value,")"));break;default:return this.error("unknown option: ".concat(option))}}var contents=this.payload[0].contents;if(""!==contents.trim()){Config.debug&&this.debugView.modes({block:!0});var className="macro-".concat(this.name),namespace=".".concat(className),$target=jQuery(document.createElement(elTag)).addClass("".concat(className," ").concat(className,"-target")).appendTo(this.output);TempState.macroTypeQueue||(TempState.macroTypeQueue=[],$(document).off(namespace).one(":passageinit".concat(namespace),(function(){return $(document).off(namespace)})));var startTyping=0===TempState.macroTypeQueue.length,selfId=++this.self.typeId;TempState.macroTypeQueue.push({id:selfId,handler:function(){var $wrapper=jQuery(document.createElement(elTag)).addClass(className);elId&&$wrapper.attr("id",elId),elClass&&$wrapper.addClass(elClass),new Wikifier($wrapper,contents);var passage=State.passage,turn=State.turns;if(!Config.macros.typeVisitedPassages&&State.passages.slice(0,-1).some((function(title){return title===passage}))||$wrapper.find(".error").length>0)return $target.replaceWith($wrapper),TempState.macroTypeQueue.shift(),void(TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().handler());var typer=new NodeTyper({targetNode:$wrapper.get(0),classNames:"none"===cursor?null:"".concat(className,"-cursor")});$target.replaceWith($wrapper);var keydownAndNS="keydown".concat(namespace),typingStopAndNS="".concat(":typingstop").concat(namespace);$(document).off(keydownAndNS).on(keydownAndNS,(function(ev){Util.scrubEventKey(ev.key)!==skipKey||ev.target!==document.body&&ev.target!==document.documentElement||(ev.preventDefault(),$(document).off(keydownAndNS),typer.finish())})).one(typingStopAndNS,(function(){TempState.macroTypeQueue&&(0===TempState.macroTypeQueue.length?jQuery.event.trigger(":typingcomplete"):TempState.macroTypeQueue.first().handler())}));var typeNode=function(){var typeNodeMember=function(typeIntervalId){State.passage===passage&&State.turns===turn&&typer.type()||(typeIntervalId&&clearInterval(typeIntervalId),TempState.macroTypeQueue&&TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().id===selfId&&TempState.macroTypeQueue.shift(),$wrapper.trigger(":typingstop"),$wrapper.addClass("".concat(className,"-done")),"keep"===cursor&&$wrapper.addClass("".concat(className,"-cursor")))};$wrapper.trigger(":typingstart"),typeNodeMember();var typeNodeMemberId=setInterval((function(){return typeNodeMember(typeNodeMemberId)}),speed)};start?setTimeout(typeNode,start):typeNode()}}),startTyping&&(Engine.isPlaying()?$(document).one(":passageend".concat(namespace),(function(){return TempState.macroTypeQueue.first().handler()})):TempState.macroTypeQueue.first().handler())}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],elseifWsRe:/^\s*if\b/i,ifAssignRe:/[^!=&^|<>*/%+-]=[^=>]/,handler:function(){var i;try{var len=this.payload.length,elseifWsRe=this.self.elseifWsRe,ifAssignRe=this.self.ifAssignRe;for(i=0;i<len;++i)if("else"===this.payload[i].name){if(this.payload[i].args.raw.length>0)return elseifWsRe.test(this.payload[i].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'.concat(i>0?" (#"+i+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<else>> must be the final clause")}else{if(0===this.payload[i].args.full.length)return this.error("no conditional expression specified for <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""));if(Config.macros.ifAssignmentError&&ifAssignRe.test(this.payload[i].args.full))return this.error("assignment operator found within <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""," (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: ").concat(this.payload[i].args.raw))}var evalJavaScript=Scripting.evalJavaScript,success=!1;for(i=0;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"else"===this.payload[i].name||evalJavaScript(this.payload[i].args.full)){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!success,invalid:!success})}}catch(ex){return this.error("bad conditional expression in <<".concat(0===i?"if":"elseif",">> clause").concat(i>0?" (#"+i+")":"",": ").concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var i,result,len=this.payload.length;if(1===len)return this.error("no cases specified");for(i=1;i<len;++i)if("default"===this.payload[i].name){if(this.payload[i].args.length>0)return this.error("<<default>> does not accept values, invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<default>> must be the final case")}else if(0===this.payload[i].args.length)return this.error("no value(s) specified for <<".concat(this.payload[i].name,">> (#").concat(i,")"));try{result=Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}var debugView=this.debugView,success=!1;for(Config.debug&&debugView.modes({nonvoid:!1,hidden:!0}),i=1;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"default"===this.payload[i].name||this.payload[i].args.some((function(val){return val===result}))){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});debugView.modes({nonvoid:!1,hidden:!0,invalid:!success}),this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0,invalid:!success})}}}),Macro.add("for",{skipArgs:!0,tags:null,hasRangeRe:new RegExp("^\\S".concat(Patterns.anyChar,"*?\\s+range\\s+\\S").concat(Patterns.anyChar,"*?$")),rangeRe:new RegExp("^(?:State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")\\s*,\\s*)?State\\.(variables|temporary)\\.(").concat(Patterns.identifier,")\\s+range\\s+(\\S").concat(Patterns.anyChar,"*?)$")),threePartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,forInRe:/^\S+\s+in\s+\S+/i,forOfRe:/^\S+\s+of\s+\S+/i,handler:function(){var argsStr=this.args.full.trim(),payload=this.payload[0].contents.replace(/\n$/,"");if(0===argsStr.length)this.self.handleFor.call(this,payload,null,!0,null);else if(this.self.hasRangeRe.test(argsStr)){var parts=argsStr.match(this.self.rangeRe);if(null===parts)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self.handleForRange.call(this,payload,{type:parts[1],name:parts[2]},{type:parts[3],name:parts[4]},parts[5])}else{var init,condition,post;if(-1===argsStr.indexOf(";")){if(this.self.forInRe.test(argsStr))return this.error("invalid syntax, for…in is not supported; see: for…range");if(this.self.forOfRe.test(argsStr))return this.error("invalid syntax, for…of is not supported; see: for…range");condition=argsStr}else{var _parts=argsStr.match(this.self.threePartRe);if(null===_parts)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");init=_parts[1],condition=_parts[2].trim(),post=_parts[3],0===condition.length&&(condition=!0)}this.self.handleFor.call(this,payload,init,condition,post)}},handleFor:function(payload,init,condition,post){var evalJavaScript=Scripting.evalJavaScript,first=!0,safety=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,init)try{evalJavaScript(init)}catch(ex){return this.error("bad init expression: ".concat("object"===_typeof(ex)?ex.message:ex))}for(;evalJavaScript(condition);){if(--safety<0)return this.error("exceeded configured maximum loop iterations (".concat(Config.macros.maxLoopIterations,")"));if(new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(post)try{evalJavaScript(post)}catch(ex){return this.error("bad post expression: ".concat("object"===_typeof(ex)?ex.message:ex))}}}catch(ex){return this.error("bad conditional expression: ".concat("object"===_typeof(ex)?ex.message:ex))}finally{TempState.break=null}},handleForRange:function(payload,indexVar,valueVar,rangeExp){var rangeList,first=!0;try{rangeList=this.self.toRangeList(rangeExp)}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var i=0;i<rangeList.length;++i)if(indexVar.name&&(State[indexVar.type][indexVar.name]=rangeList[i][0]),State[valueVar.type][valueVar.name]=rangeList[i][1],new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(ex){return this.error("object"===_typeof(ex)?ex.message:ex)}finally{TempState.break=null}},toRangeList:function(rangeExp){var value,list,evalJavaScript=Scripting.evalJavaScript;try{value=evalJavaScript("{"===rangeExp[0]?"(".concat(rangeExp,")"):rangeExp)}catch(ex){if("object"!==_typeof(ex))throw new Error("bad range expression: ".concat(ex));throw ex.message="bad range expression: ".concat(ex.message),ex}switch(_typeof(value)){case"string":list=[];for(var i=0;i<value.length;){var obj=Util.charAndPosAt(value,i);list.push([i,obj.char]),i=1+obj.end}break;case"object":if(Array.isArray(value))list=value.map((function(val,i){return[i,val]}));else if(value instanceof Set)list=_toConsumableArray(value).map((function(val,i){return[i,val]}));else if(value instanceof Map)list=_toConsumableArray(value.entries());else{if("Object"!==Util.toStringTag(value))throw new Error("unsupported range expression type: ".concat(Util.toStringTag(value)));list=Object.keys(value).map((function(key){return[key,value[key]]}))}break;default:throw new Error("unsupported range expression type: ".concat(_typeof(value)))}return list}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextHas((function(ctx){return"for"===ctx.name})))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var _this15=this;if(0===this.args.length)return this.error("no ".concat("button"===this.name?"button":"link"," text specified"));var passage,$link=jQuery(document.createElement("button"===this.name?"button":"a"));if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var $image=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo($link);$link.addClass("link-image"),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link}else $link.append(document.createTextNode(this.args[0].text)),passage=this.args[0].link;else $link.wikiWithOptions({profile:"core"},this.args[0]),passage=this.args.length>1?this.args[1]:undefined;null!=passage?($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken")):$link.addClass("link-internal"),$link.addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:null!=passage?"link":"button",one:null!=passage},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(_this15.payload[0].contents.trim())}:null,null!=passage?function(){return Engine.play(passage)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("unchecked value"),this.args.length<3&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),uncheckValue=this.args[1],checkValue=this.args[2],el=document.createElement("input");switch(jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:"checkbox",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.checked?checkValue:uncheckValue)}))).appendTo(this.output),this.args[3]){case"autocheck":State.getVar(varName)===checkValue?el.checked=!0:State.setVar(varName,uncheckValue);break;case"checked":el.checked=!0,State.setVar(varName,checkValue);break;default:State.setVar(varName,uncheckValue)}}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var _this16=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),len=this.payload.length;if(1===len)return this.error("no options specified");for(var config={autoselect:!1,once:!1},i=1;i<this.args.length;++i){var arg=this.args[i];switch(arg){case"once":config.once=!0;break;case"autoselect":config.autoselect=!0;break;default:return this.error("unknown argument: ".concat(arg))}}for(var options=[],tagCount={option:0,optionsfrom:0},selectedIdx=-1,_i5=1;_i5<len;++_i5){var payload=this.payload[_i5];if("option"===payload.name){if(++tagCount.option,0===payload.args.length)return this.error("no arguments specified for <<".concat(payload.name,">> (#").concat(tagCount.option,")"));var option={label:String(payload.args[0])},isSelected=!1;switch(payload.args.length){case 1:option.value=payload.args[0];break;case 2:"selected"===payload.args[1]?(option.value=payload.args[0],isSelected=!0):option.value=payload.args[1];break;default:option.value=payload.args[1],"selected"===payload.args[2]&&(isSelected=!0)}if(options.push(option),isSelected){if(config.autoselect)return this.error("cannot specify both the autoselect and selected keywords");if(-1!==selectedIdx)return this.error("multiple selected keywords specified for <<".concat(payload.name,">> (#").concat(selectedIdx+1," & #").concat(tagCount.option,")"));selectedIdx=options.length-1}}else{var _ret=function(){if(++tagCount.optionsfrom,0===payload.args.full.length)return{v:_this16.error("no expression specified for <<".concat(payload.name,">> (#").concat(tagCount.optionsfrom,")"))};var result=void 0;try{var exp=payload.args.full;result=Scripting.evalJavaScript("{"===exp[0]?"(".concat(exp,")"):exp)}catch(ex){return{v:_this16.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}if("object"!==_typeof(result)||null===result)return{v:_this16.error("expression must yield a supported collection or generic object (type: ".concat(null===result?"null":_typeof(result),")"))};if(result instanceof Array||result instanceof Set)result.forEach((function(val){return options.push({label:String(val),value:val})}));else if(result instanceof Map)result.forEach((function(val,key){return options.push({label:String(key),value:val})}));else{var oType=Util.toStringTag(result);if("Object"!==oType)return{v:_this16.error("expression must yield a supported collection or generic object (object type: ".concat(oType,")"))};Object.keys(result).forEach((function(key){return options.push({label:key,value:result[key]})}))}}();if("object"===_typeof(_ret))return _ret.v}}if(-1===selectedIdx)if(config.autoselect){var sameValueZero=Util.sameValueZero,curValue=State.getVar(varName),curValueIdx=options.findIndex((function(opt){return sameValueZero(opt.value,curValue)}));selectedIdx=-1===curValueIdx?0:curValueIdx}else selectedIdx=0;if("cycle"===this.name){var lastIdx=options.length-1;if(config.once&&selectedIdx===lastIdx)jQuery(this.output).wikiWithOptions({profile:"core"},options[selectedIdx].label);else{var cycleIdx=selectedIdx;jQuery(document.createElement("a")).wikiWithOptions({profile:"core"},options[selectedIdx].label).attr("id","".concat(this.name,"-").concat(varId)).addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:"button"},this.createShadowWrapper((function(){var $this=$(this);cycleIdx=(cycleIdx+1)%options.length,State.setVar(varName,options[cycleIdx].value),$this.empty().wikiWithOptions({profile:"core"},options[cycleIdx].label),config.once&&cycleIdx===lastIdx&&$this.off().contents().unwrap()}))).appendTo(this.output)}}else{var $select=jQuery(document.createElement("select"));options.forEach((function(opt,i){jQuery(document.createElement("option")).val(i).text(opt.label).appendTo($select)})),$select.attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),tabindex:0}).addClass("macro-".concat(this.name)).val(selectedIdx).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,options[Number(this.value)].value)}))).appendTo(this.output)}State.setVar(varName,options[selectedIdx].value)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this17=this;if(0===this.args.length)return this.error("no link text specified");var $link=jQuery(document.createElement("a")),$insert=jQuery(document.createElement("span")),transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]);$link.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-".concat(this.name)).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper((function(){if("linkreplace"===_this17.name?$link.remove():$link.wrap('<span class="macro-'.concat(_this17.name,'"></span>')).replaceWith((function(){return $link.html()})),""!==_this17.payload[0].contents){var frag=document.createDocumentFragment();new Wikifier(frag,_this17.payload[0].contents),$insert.append(frag)}transition&&setTimeout((function(){return $insert.removeClass("macro-".concat(_this17.name,"-in"))}),Engine.minDomActionDelay)}))).appendTo(this.output),$insert.addClass("macro-".concat(this.name,"-insert")),transition&&$insert.addClass("macro-".concat(this.name,"-in")),"linkprepend"===this.name?$insert.insertBefore($link):$insert.insertAfter($link)}}),Macro.add(["numberbox","textbox"],{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var asNumber="numberbox"===this.name,defaultValue=asNumber?Number(this.args[1]):this.args[1];if(asNumber&&Number.isNaN(defaultValue))return this.error('default value "'.concat(this.args[1],'" is neither a number nor can it be parsed into a number'));var passage,varId=Util.slugify(varName),el=document.createElement("input"),autofocus=!1;this.args.length>3?(passage=this.args[2],autofocus="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?autofocus=!0:passage=this.args[2]),"object"===_typeof(passage)&&(passage=passage.link),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:asNumber?"number":"text",inputmode:asNumber?"decimal":"text",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,asNumber?Number(this.value):this.value)}))).on("keypress.macros",this.createShadowWrapper((function(ev){13===ev.which&&(ev.preventDefault(),State.setVar(varName,asNumber?Number(this.value):this.value),null!=passage&&Engine.play(passage))}))).appendTo(this.output),asNumber&&(el.step="any"),State.setVar(varName,defaultValue),el.value=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),checkValue=this.args[1],el=document.createElement("input");switch(TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(varId)||(TempState[this.name][varId]=0),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId,"-").concat(TempState[this.name][varId]++),name:"".concat(this.name,"-").concat(varId),type:"radio",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){this.checked&&State.setVar(varName,checkValue)}))).appendTo(this.output),this.args[2]){case"autocheck":State.getVar(varName)===checkValue&&(el.checked=!0);break;case"checked":el.checked=!0,State.setVar(varName,checkValue)}}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var varId=Util.slugify(varName),defaultValue=this.args[1],autofocus="autofocus"===this.args[2],el=document.createElement("textarea");jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),rows:4,tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.value)}))).appendTo(this.output),State.setVar(varName,defaultValue),el.textContent=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var $list=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),i=0;i<this.args.length;++i){var passage=void 0,text=void 0,$image=void 0,setFn=void 0;if("object"===_typeof(this.args[i])?this.args[i].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[i].source),this.args[i].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[i].passage),this.args[i].hasOwnProperty("title")&&$image.attr("title",this.args[i].title),this.args[i].hasOwnProperty("align")&&$image.attr("align",this.args[i].align),passage=this.args[i].link,setFn=this.args[i].setFn):(text=this.args[i].text,passage=this.args[i].link,setFn=this.args[i].setFn):text=passage=this.args[i],!(State.variables.hasOwnProperty("#actions")&&State.variables["#actions"].hasOwnProperty(passage)&&State.variables["#actions"][passage])){var $link=jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo($list),passage,null,function(passage,fn){return function(){State.variables.hasOwnProperty("#actions")||(State.variables["#actions"]={}),State.variables["#actions"][passage]=!0,"function"==typeof fn&&fn()}}(passage,setFn))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text));$image&&$link.addClass("link-image")}}}}),Macro.add(["back","return"],{handler:function(){if(this.args.length>1)return this.error("too many arguments specified, check the documentation for details");var passage,text,$image,$link,momentIndex=-1;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(passage=this.args[0].link)):(1===this.args[0].count||(text=this.args[0].text),passage=this.args[0].link):1===this.args.length&&(text=this.args[0])),null==passage){for(var i=State.length-2;i>=0;--i)if(State.history[i].title!==State.passage){momentIndex=i,passage=State.history[i].title;break}if(null==passage&&"return"===this.name)for(var _i6=State.expired.length-1;_i6>=0;--_i6)if(State.expired[_i6]!==State.passage){passage=State.expired[_i6];break}}else{if(!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));if("back"===this.name){for(var _i7=State.length-2;_i7>=0;--_i7)if(State.history[_i7].title===passage){momentIndex=_i7;break}if(-1===momentIndex)return this.error('cannot find passage "'.concat(passage,'" in the current story history'))}}if(null==passage)return this.error("cannot find passage");"back"!==this.name||-1!==momentIndex?($link=jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(passage)}:function(){return Engine.goTo(momentIndex)}),$image&&$link.addClass("link-image")):$link=jQuery(document.createElement("span")).addClass("link-disabled"),$link.addClass("macro-".concat(this.name)).append($image||document.createTextNode(text||L10n.get("macro".concat(this.name.toUpperFirst(),"Text")))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var passage,text,$image,setFn,$link,choiceId=State.passage;if(1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link,setFn=this.args[0].setFn):(text=this.args[0].text,passage=this.args[0].link,setFn=this.args[0].setFn):text=passage=this.args[0]:(passage=this.args[0],text=this.args[1]),State.variables.hasOwnProperty("#choice")&&State.variables["#choice"].hasOwnProperty(choiceId)&&State.variables["#choice"][choiceId])return $link=jQuery(document.createElement("span")).addClass("link-disabled macro-".concat(this.name)).attr("tabindex",-1).append($image||document.createTextNode(text)).appendTo(this.output),void($image&&$link.addClass("link-image"));$link=jQuery(Wikifier.createInternalLink(this.output,passage,null,(function(){State.variables.hasOwnProperty("#choice")||(State.variables["#choice"]={}),State.variables["#choice"][choiceId]=!0,"function"==typeof setFn&&setFn()}))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text)),$image&&$link.addClass("link-image")}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("selector"),this.args.length<2&&errors.push("class names"),this.error("no ".concat(errors.join(" or ")," specified"))}var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));switch(this.name){case"addclass":$targets.addClass(this.args[1].trim());break;case"toggleclass":$targets.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));this.args.length>1?$targets.removeClass(this.args[1].trim()):$targets.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));jQuery(this.output).append($targets.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this18=this;if(0===this.args.length)return this.error("no selector specified");var $insert,$targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));if(""!==this.payload[0].contents)switch(this.args.length>1&&this.self.t8nRe.test(this.args[1])?(($insert=jQuery(document.createElement("span"))).addClass("macro-".concat(this.name,"-insert macro-").concat(this.name,"-in")),setTimeout((function(){return $insert.removeClass("macro-".concat(_this18.name,"-in"))}),Engine.minDomActionDelay)):$insert=jQuery(document.createDocumentFragment()),$insert.wiki(this.payload[0].contents),this.name){case"replace":$targets.empty();case"append":$targets.append($insert);break;case"prepend":$targets.prepend($insert)}else"replace"===this.name&&$targets.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));$targets.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Has.audio){var errorOnePlaybackAction=function(cur,prev){return'only one playback action allowed per invocation, "'.concat(cur,'" cannot be combined with "').concat(prev,'"')};Macro.add("audio",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track and/or group IDs"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var selected;try{selected=SimpleAudio.select(this.args[0])}catch(ex){return this.error(ex.message)}for(var action,fadeTo,loop,mute,passage,time,volume,args=this.args.slice(1),fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors=[];return args.length<1&&_errors.push("seconds"),args.length<2&&_errors.push("level"),this.error("fadeoverto missing required ".concat(_errors.join(" and ")," value").concat(_errors.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"time":if(0===args.length)return this.error("time missing required seconds value");if(raw=args.shift(),time=Number.parseFloat(raw),Number.isNaN(time)||!Number.isFinite(time))return this.error("cannot parse time: ".concat(raw));break;case"loop":case"unloop":loop="loop"===arg;break;case"goto":if(0===args.length)return this.error("goto missing required passage title");if(raw=args.shift(),passage="object"===_typeof(raw)?raw.link:raw,!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));break;default:return this.error("unknown action: ".concat(arg))}}try{if(null!=volume&&selected.volume(volume),null!=time&&selected.time(time),null!=mute&&selected.mute(mute),null!=loop&&selected.loop(loop),null!=passage){var nsEnded="ended.macros.macro-".concat(this.name,"_goto");selected.off(nsEnded).one(nsEnded,(function(){selected.off(nsEnded),Engine.play(passage)}))}switch(action){case"fade":selected.fade(fadeOver,fadeTo);break;case"load":selected.load();break;case"pause":selected.pause();break;case"play":selected.playWhenAllowed();break;case"stop":selected.stop();break;case"unload":selected.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("cacheaudio",{handler:function(){var _this19=this;if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track ID"),this.args.length<2&&errors.push("sources"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim(),oldFmtRe=/^format:\s*([\w-]+)\s*;\s*/i;try{SimpleAudio.tracks.add(id,this.args.slice(1).map((function(source){if(oldFmtRe.test(source)){if(Config.debug)return _this19.error('track ID "'.concat(id,'": format specifier migration required, "format:formatId;" → "formatId|"'));source=source.replace(oldFmtRe,"$1|")}return source})))}catch(ex){return this.error(ex.message)}if(Config.debug&&!SimpleAudio.tracks.get(id).hasSource())return this.error('track ID "'.concat(id,'": no supported audio sources found'));Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var groupId=String(this.args[0]).trim(),trackIds=[],i=1,len=this.payload.length;i<len;++i){if(this.payload[i].args.length<1)return this.error("no track ID specified");trackIds.push(String(this.payload[i].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(groupId,trackIds)}catch(ex){return this.error(ex.message)}Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");var playlist=Macro.get("playlist");if(null!==playlist.from&&"createplaylist"!==playlist.from)return this.error("a playlist has already been defined with <<setplaylist>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var listId=String(this.args[0]).trim(),trackObjs=[],i=1,len=this.payload.length;i<len;++i){if(0===this.payload[i].args.length)return this.error("no track ID specified");for(var trackObj={id:String(this.payload[i].args[0]).trim()},args=this.payload[i].args.slice(1);args.length>0;){var arg=args.shift(),raw=void 0,parsed=void 0;switch(arg){case"copy":case"own":trackObj.own=!0;break;case"rate":args.length>0&&args.shift();break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),parsed=Number.parseFloat(raw),Number.isNaN(parsed)||!Number.isFinite(parsed))return this.error("cannot parse volume: ".concat(raw));trackObj.volume=parsed;break;default:return this.error("unknown action: ".concat(arg))}}trackObjs.push(trackObj),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(listId,trackObjs)}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="createplaylist"),Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var action,mute,muteOnHide,volume,args=this.args.slice(0);args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"mute":case"unmute":mute="mute"===arg;break;case"muteonhide":case"nomuteonhide":muteOnHide="muteonhide"===arg;break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=mute&&SimpleAudio.mute(mute),null!=muteOnHide&&SimpleAudio.muteOnHidden(muteOnHide),null!=volume&&SimpleAudio.volume(volume),action){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("playlist",{from:null,handler:function(){var list,args,action,from=this.self.from;if(null===from)return this.error("no playlists have been created");if("createplaylist"===from){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("list ID"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));list=SimpleAudio.lists.get(id),args=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");list=SimpleAudio.lists.get("setplaylist"),args=this.args.slice(0)}for(var fadeTo,loop,mute,shuffle,volume,fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors2=[];return args.length<1&&_errors2.push("seconds"),args.length<2&&_errors2.push("level"),this.error("fadeoverto missing required ".concat(_errors2.join(" and ")," value").concat(_errors2.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"loop":case"unloop":loop="loop"===arg;break;case"shuffle":case"unshuffle":shuffle="shuffle"===arg;break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=volume&&list.volume(volume),null!=mute&&list.mute(mute),null!=loop&&list.loop(loop),null!=shuffle&&list.shuffle(shuffle),action){case"fade":list.fade(fadeOver,fadeTo);break;case"load":list.load();break;case"pause":list.pause();break;case"play":list.playWhenAllowed();break;case"skip":list.skip();break;case"stop":list.stop();break;case"unload":list.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.groups.has(id))return this.error('group "'.concat(id,'" does not exist'));SimpleAudio.groups.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));SimpleAudio.lists.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}}),Macro.add("setplaylist",{handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var playlist=Macro.get("playlist");if(null!==playlist.from&&"setplaylist"!==playlist.from)return this.error("playlists have already been defined with <<createplaylist>>");try{SimpleAudio.lists.add("setplaylist",this.args.slice(0))}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="setplaylist"),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){SimpleAudio.select(":all").stop(),Config.debug&&this.debugView.modes({hidden:!0})}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}});Macro.add("done",{skipArgs:!0,tags:null,handler:function(){var contents=this.payload[0].contents.trim();""!==contents&&setTimeout(this.createShadowWrapper((function(){return $.wiki(contents)})),Engine.minDomActionDelay)}}),Macro.add("goto",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?void setTimeout((function(){return Engine.play(passage)}),Engine.minDomActionDelay):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){var delay,_this20=this;if(0===this.args.length)return this.error("no time value specified");try{delay=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper((function(){var frag=document.createDocumentFragment();new Wikifier(frag,_this20.payload[0].contents);var $output=$wrapper;transition&&($output=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-repeat-in")}),Engine.minDomActionDelay)})),delay)},registerInterval:function(callback,delay){var _this21=this;if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null;timerId=setInterval((function(){if(State.passage!==passage||State.turns!==turn)return clearInterval(timerId),void timers.delete(timerId);var timerIdCache;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(timerIdCache=TempState.repeatTimerId),TempState.repeatTimerId=timerId,callback.call(_this21)}finally{void 0!==timerIdCache?TempState.repeatTimerId=timerIdCache:delete TempState.repeatTimerId,TempState.break=null}}),delay),timers.add(timerId),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearInterval(timerId)})),timers.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var timers=Macro.get("repeat").timers,timerId=TempState.repeatTimerId;clearInterval(timerId),timers.delete(timerId),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var i,items=[];try{items.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(ex){return this.error("".concat(ex.message," in <<timed>>"))}if(this.payload.length>1)try{var len;for(i=1,len=this.payload.length;i<len;++i)items.push({name:this.payload[i].name,source:this.payload[i].source,delay:0===this.payload[i].args.length?items[items.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[i].args[0])),content:this.payload[i].contents})}catch(ex){return this.error("".concat(ex.message," in <<next>> (#").concat(i,")"))}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper((function(item){var frag=document.createDocumentFragment();new Wikifier(frag,item.content);var $output=$wrapper;Config.debug&&"next"===item.name&&($output=jQuery(new DebugView($output[0],"macro",item.name,item.source).output)),transition&&($output=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-timed-in")}),Engine.minDomActionDelay)})),items)},registerTimeout:function(callback,items){if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null,nextItem=items.shift();timerId=setTimeout((function worker(){if(timers.delete(timerId),State.passage===passage&&State.turns===turn){var curItem=nextItem;null!=(nextItem=items.shift())&&(timerId=setTimeout(worker,nextItem.delay),timers.add(timerId)),callback.call(this,curItem)}}),nextItem.delay),timers.add(timerId),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearTimeout(timerId)})),timers.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var widgetCode,widgetName=this.args[0],isNonVoid=this.args.length>1&&"container"===this.args[1];if(Macro.has(widgetName)){if(!Macro.get(widgetName).isWidget)return this.error('cannot clobber existing macro "'.concat(widgetName,'"'));Macro.delete(widgetName)}try{var widgetDef={isWidget:!0,handler:(widgetCode=this.payload[0].contents,function(){var shadowStore={};State.temporary.hasOwnProperty("args")&&(shadowStore._args=State.temporary.args),State.temporary.args=_toConsumableArray(this.args),State.temporary.args.raw=this.args.raw,State.temporary.args.full=this.args.full,this.addShadow("_args"),isNonVoid&&(State.temporary.hasOwnProperty("contents")&&(shadowStore._contents=State.temporary.contents),State.temporary.contents=this.payload[0].contents,this.addShadow("_contents")),State.variables.hasOwnProperty("args")&&(shadowStore.$args=State.variables.args),State.variables.args=State.temporary.args,this.addShadow("$args");try{var resFrag=document.createDocumentFragment(),errList=[];if(new Wikifier(resFrag,widgetCode),Array.from(resFrag.querySelectorAll(".error")).forEach((function(errEl){errList.push(errEl.textContent)})),0!==errList.length)return this.error("error".concat(errList.length>1?"s":""," within widget code (").concat(errList.join("; "),")"));this.output.appendChild(resFrag)}catch(ex){return this.error("cannot execute widget: ".concat(ex.message))}finally{shadowStore.hasOwnProperty("_args")?State.temporary.args=shadowStore._args:delete State.temporary.args,isNonVoid&&(shadowStore.hasOwnProperty("_contents")?State.temporary.contents=shadowStore._contents:delete State.temporary.contents),shadowStore.hasOwnProperty("$args")?State.variables.args=shadowStore.$args:delete State.variables.args}})};isNonVoid&&(widgetDef.tags=[]),Macro.add(widgetName,widgetDef),Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error('cannot create widget macro "'.concat(widgetName,'": ').concat(ex.message))}}})}();var Dialog=function(){var _$overlay=null,_$dialog=null,_$dialogTitle=null,_$dialogBody=null,_lastActive=null,_scrollbarWidth=0,_dialogObserver=null;function dialogClose(ev){return _$dialogBody.trigger(":dialogclosing"),jQuery(document).off(".dialog-close"),_dialogObserver?(_dialogObserver.disconnect(),_dialogObserver=null):_$dialogBody.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),_$dialog.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),_$overlay.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),_$dialogTitle.empty(),_$dialogBody.empty().removeClass(),null!==_lastActive&&(jQuery(_lastActive).focus(),_lastActive=null),ev&&ev.data&&"function"==typeof ev.data.closeFn&&ev.data.closeFn(ev),_$dialogBody.trigger(":dialogclose"),_$dialogBody.trigger(":dialogclosed"),Dialog}function dialogIsOpen(classNames){return _$dialog.hasClass("open")&&(!classNames||classNames.splitOrEmpty(/\s+/).every((function(cn){return _$dialogBody.hasClass(cn)})))}function dialogOpen(options,closeFn){_$dialogBody.trigger(":dialogopening");var top=jQuery.extend({top:50},options).top;return dialogIsOpen()||(_lastActive=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),_$overlay.addClass("open"),null!==_$dialogBody[0].querySelector("img")&&_$dialogBody.imagesLoaded().always((function(){return _resizeHandler({data:{top:top}})})),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0),_$dialog.css(_calcPosition(top)).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),Has.mutationObserver?(_dialogObserver=new MutationObserver((function(mutations){for(var i=0;i<mutations.length;++i)if("childList"===mutations[i].type){_resizeHandler({data:{top:top}});break}}))).observe(_$dialogBody[0],{childList:!0,subtree:!0}):_$dialogBody.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),jQuery(document).one("click.dialog-close",".ui-close",{closeFn:closeFn},(function(ev){dialogClose(ev)})).one("keypress.dialog-close",".ui-close",(function(ev){13!==ev.which&&32!==ev.which||jQuery(this).trigger("click")})),_$dialogBody.trigger(":dialogopen"),_$dialogBody.trigger(":dialogopened"),Dialog}function _calcPosition(topPos){var top=null!=topPos?topPos:50,$parent=jQuery(window),dialogPos={left:"",right:"",top:"",bottom:""};_$dialog.css(dialogPos);var horzSpace=$parent.width()-_$dialog.outerWidth(!0)-1,vertSpace=$parent.height()-_$dialog.outerHeight(!0)-1;return horzSpace<=32+_scrollbarWidth&&(vertSpace-=_scrollbarWidth),vertSpace<=32+_scrollbarWidth&&(horzSpace-=_scrollbarWidth),dialogPos.left=dialogPos.right=horzSpace<=32?16:horzSpace/2>>0,dialogPos.top=vertSpace<=32?dialogPos.bottom=16:vertSpace/2>top?top:dialogPos.bottom=vertSpace/2>>0,Object.keys(dialogPos).forEach((function(key){""!==dialogPos[key]&&(dialogPos[key]+="px")})),dialogPos}function _resizeHandler(ev){var top=ev&&ev.data&&void 0!==ev.data.top?ev.data.top:50;"block"===_$dialog.css("display")&&(_$dialog.css({display:"none"}),_$dialog.css(jQuery.extend({display:""},_calcPosition(top))))}return Object.freeze(Object.defineProperties({},{append:{value:function(){var _$dialogBody2;return(_$dialogBody2=_$dialogBody).append.apply(_$dialogBody2,arguments),Dialog}},body:{value:function(){return _$dialogBody.get(0)}},close:{value:dialogClose},init:{value:function(){if(!document.getElementById("ui-dialog")){_scrollbarWidth=function(){var scrollbarWidth;try{var inner=document.createElement("p"),outer=document.createElement("div");inner.style.width="100%",inner.style.height="200px",outer.style.position="absolute",outer.style.left="0px",outer.style.top="0px",outer.style.width="100px",outer.style.height="100px",outer.style.visibility="hidden",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="auto";var w2=inner.offsetWidth;w1===w2&&(w2=outer.clientWidth),document.body.removeChild(outer),scrollbarWidth=w1-w2}catch(ex){}return scrollbarWidth||17}();var $elems=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1>'+'<button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'.concat(L10n.get("close"),'"></button>')+'</div><div id="ui-dialog-body"></div></div>');_$overlay=jQuery($elems.find("#ui-overlay").get(0)),_$dialog=jQuery($elems.find("#ui-dialog").get(0)),_$dialogTitle=jQuery($elems.find("#ui-dialog-title").get(0)),_$dialogBody=jQuery($elems.find("#ui-dialog-body").get(0)),$elems.insertBefore("body>script#script-sugarcube")}}},isOpen:{value:dialogIsOpen},open:{value:dialogOpen},resize:{value:function(data){return _resizeHandler("object"===_typeof(data)?{data:data}:undefined)}},setup:{value:function(title,classNames){return _$dialogBody.empty().removeClass(),null!=classNames&&_$dialogBody.addClass(classNames),_$dialogTitle.empty().append((null!=title?String(title):"")||" "),_$dialogBody.get(0)}},wiki:{value:function(){var _$dialogBody3;return(_$dialogBody3=_$dialogBody).wiki.apply(_$dialogBody3,arguments),Dialog}},addClickHandler:{value:function(targets,options,startFn,doneFn,closeFn){return jQuery(targets).ariaClick((function(ev){ev.preventDefault(),"function"==typeof startFn&&startFn(ev),dialogOpen(options,closeFn),"function"==typeof doneFn&&doneFn(ev)}))}}}))}(),Engine=function(){var States=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),_initDebugViews=[],_state=States.Idle,_lastPlay=null,_outlinePatch=null,_updating=null;function engineGo(offset){var succeded=State.go(offset);return succeded&&engineShow(),succeded}function engineShow(){return enginePlay(State.passage,!0)}function enginePlay(title,noHistory){var passageReadyOutput,passageDoneOutput,passageTitle=title;if(_state=States.Playing,TempState={},State.clearTemporary(),"function"==typeof Config.navigation.override)try{var overrideTitle=Config.navigation.override(passageTitle);overrideTitle&&(passageTitle=overrideTitle)}catch(ex){}var passage=Story.get(passageTitle);if(jQuery.event.trigger({type:":passageinit",passage:passage}),Object.keys(prehistory).forEach((function(task){"function"==typeof prehistory[task]&&prehistory[task].call(passage,task)})),noHistory||State.create(passage.title),document.body.className&&(document.body.className=""),_lastPlay=Util.now(),Object.keys(predisplay).forEach((function(task){"function"==typeof predisplay[task]&&predisplay[task].call(passage,task)})),Story.has("PassageReady"))try{passageReadyOutput=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(ex){console.error(ex),Alert.error("PassageReady",ex.message)}_state=States.Rendering;var dataTags=passage.tags.length>0?passage.tags.join(" "):null,passageEl=document.createElement("div");jQuery(passageEl).attr({id:passage.domId,"data-passage":passage.title,"data-tags":dataTags}).addClass("passage ".concat(passage.className)),jQuery(document.body).attr("data-tags",dataTags).addClass(passage.className),jQuery(document.documentElement).attr("data-tags",dataTags),jQuery.event.trigger({type:":passagestart",content:passageEl,passage:passage}),Object.keys(prerender).forEach((function(task){"function"==typeof prerender[task]&&prerender[task].call(passage,passageEl,task)})),Story.has("PassageHeader")&&new Wikifier(passageEl,Story.get("PassageHeader").processText()),passageEl.appendChild(passage.render()),Story.has("PassageFooter")&&new Wikifier(passageEl,Story.get("PassageFooter").processText()),jQuery.event.trigger({type:":passagerender",content:passageEl,passage:passage}),Object.keys(postrender).forEach((function(task){"function"==typeof postrender[task]&&postrender[task].call(passage,passageEl,task)}));var debugView,containerEl=document.getElementById("passages");if(containerEl.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?_toConsumableArray(containerEl.childNodes).forEach((function(outgoing){var $outgoing=jQuery(outgoing);if(outgoing.nodeType===Node.ELEMENT_NODE&&$outgoing.hasClass("passage")){if($outgoing.hasClass("passage-out"))return;$outgoing.attr({id:"out-".concat($outgoing.attr("id")),"aria-live":"off"}).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?$outgoing.on(Has.transitionEndEvent,(function(ev){ev.propertyName===Config.passages.transitionOut&&$outgoing.remove()})):setTimeout((function(){return $outgoing.remove()}),Math.max(40,Config.passages.transitionOut))}else $outgoing.remove()})):jQuery(containerEl).empty()),jQuery(passageEl).addClass("passage-in").appendTo(containerEl),setTimeout((function(){return jQuery(passageEl).removeClass("passage-in")}),40),Story.has("StoryDisplayTitle")?null===_updating&&Config.ui.updateStoryElements||setDisplayTitle(Story.get("StoryDisplayTitle").processText()):Config.passages.displayTitles&&passage.title!==Config.passages.start&&(document.title="".concat(passage.title," | ").concat(Story.title)),window.scroll(0,0),_state=States.Playing,Story.has("PassageDone"))try{passageDoneOutput=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(ex){console.error(ex),Alert.error("PassageDone",ex.message)}(jQuery.event.trigger({type:":passagedisplay",content:passageEl,passage:passage}),Object.keys(postdisplay).forEach((function(task){"function"==typeof postdisplay[task]&&postdisplay[task].call(passage,task)})),null!==_updating?_updating.forEach((function(pair){jQuery(pair.element).empty(),new Wikifier(pair.element,Story.get(pair.passage).processText().trim())})):Config.ui.updateStoryElements&&UIBar.update(),Config.debug)&&(null!=passageReadyOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady")).modes({hidden:!0}),debugView.append(passageReadyOutput),jQuery(passageEl).prepend(debugView.output)),null!=passageDoneOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone")).modes({hidden:!0}),debugView.append(passageDoneOutput),jQuery(passageEl).append(debugView.output)),1===State.turns&&_initDebugViews.length>0&&jQuery(passageEl).prepend(_initDebugViews));switch(jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"object":passage.tags.some((function(tag){return Config.saves.autosave.includes(tag)}))&&Save.autosave.save();break;case"function":Config.saves.autosave()&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",content:passageEl,passage:passage}),_state=States.Idle,_lastPlay=Util.now(),passageEl}function _hideOutlines(){_outlinePatch.set("*:focus{outline:none;}")}return Object.freeze(Object.defineProperties({},{States:{value:States},minDomActionDelay:{value:40},init:{value:function(){var _lastOutlineEvent;jQuery("#init-no-js,#init-lacking").remove(),function(){var $elems=jQuery(document.createDocumentFragment()),markup=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(markup){UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),$elems.append(markup);var $passages=$elems.find("#passages");if(0===$passages.length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');$passages.empty().not("[aria-live]").attr("aria-live","polite").end(),$elems.find("[data-init-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-init-passage" content attribute'));var passage=el.getAttribute("data-init-passage").trim();if(el.hasAttribute("data-passage"))throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> must not contain a "data-passage" content attribute'));if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&jQuery(el).empty().wiki(Story.get(passage).processText().trim())}));var updating=[];$elems.find("[data-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-passage" content attribute'));var passage=el.getAttribute("data-passage").trim();if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&updating.push({passage:passage,element:el})})),updating.length>0&&(_updating=updating),Config.ui.updateStoryElements=!1}else $elems.append('<div id="story" role="main"><div id="passages" aria-live="polite"></div></div>');$elems.insertBefore("body>script#script-sugarcube")}(),_outlinePatch=new StyleWrapper(jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)),_hideOutlines(),jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",(function(ev){ev.type!==_lastOutlineEvent&&(_lastOutlineEvent=ev.type,"keydown"===ev.type?_outlinePatch.clear():_hideOutlines())}))}},start:{value:function(){if(Story.getAllInit().forEach((function(passage){try{var debugBuffer=Wikifier.wikifyEval(passage.text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","".concat(passage.title," [init-tagged]"),"".concat(passage.title," [init-tagged]"));debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("".concat(passage.title," [init-tagged]"),"object"===_typeof(ex)?ex.message:ex)}})),Story.has("StoryInit"))try{var debugBuffer=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("StoryInit","object"===_typeof(ex)?ex.message:ex)}if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'.concat(Config.passages.start,'") not found'));if(jQuery(document.documentElement).focus(),State.restore())engineShow();else{var loadStart=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!1,UI.buildAutoload(),Dialog.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(loadStart=!Save.autosave.load())}loadStart&&enginePlay(Config.passages.start)}}},restart:{value:function(){LoadScreen.show(),window.scroll(0,0),State.reset(),jQuery.event.trigger(":enginerestart"),window.location.reload()}},state:{get:function(){return _state}},isIdle:{value:function(){return _state===States.Idle}},isPlaying:{value:function(){return _state!==States.Idle}},isRendering:{value:function(){return _state===States.Rendering}},lastPlay:{get:function(){return _lastPlay}},goTo:{value:function(idx){var succeded=State.goTo(idx);return succeded&&engineShow(),succeded}},go:{value:engineGo},backward:{value:function(){return engineGo(-1)}},forward:{value:function(){return engineGo(1)}},show:{value:engineShow},play:{value:enginePlay},display:{value:function(title,link,option){var noHistory=!1;switch(option){case undefined:break;case"replace":case"back":noHistory=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'.concat(option,'"; please notify the developer'))}enginePlay(title,noHistory)}}}))}(),Passage=(_tagsToSkip=/^(?:debug|nobr|passage|widget|twine\..*)$/i,function(){function Passage(title,el){var _this22=this;_classCallCheck(this,Passage),Object.defineProperties(this,{title:{value:Util.unescape(title)},element:{value:el||null},tags:{value:Object.freeze(el&&el.hasAttribute("tags")?Array.from(new Set(el.getAttribute("tags").trim().splitOrEmpty(/\s+/))):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-".concat(Util.slugify(this.title))},classes:{value:Object.freeze(0===this.tags.length?[]:_this22.tags.filter((function(tag){return!_tagsToSkip.test(tag)})).map((function(tag){return Util.slugify(tag)})))}})}return _createClass(Passage,[{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var passage=Util.escapeMarkup(this.title),mesg="".concat(L10n.get("errorTitle"),": ").concat(L10n.get("errorNonexistentPassage",{passage:passage}));return'<div class="error-view"><span class="error">'.concat(mesg,"</span></div>")}return this.element.textContent.replace(/\r/g,"")}},{key:"description",value:function(){var descriptions=Config.passages.descriptions;switch(_typeof(descriptions)){case"boolean":if(descriptions)return this.title;break;case"object":if(descriptions.hasOwnProperty(this.title))return descriptions[this.title];break;case"function":var result=descriptions.call(this);if(result)return result}return null===this._excerpt&&(this._excerpt=Passage.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){if(null==this.element)return this.text;if(this.tags.includes("Twine.image"))return"[img[".concat(this.text,"]]");var processed=this.text;return Config.passages.onProcess&&(processed=Config.passages.onProcess.call(null,{title:this.title,tags:this.tags,text:processed})),(Config.passages.nobr||this.tags.includes("nobr"))&&(processed=processed.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),processed}},{key:"render",value:function(options){var frag=document.createDocumentFragment();return new Wikifier(frag,this.processText(),options),this._excerpt=Passage.getExcerptFromNode(frag),frag}}],[{key:"getExcerptFromNode",value:function(node,count){if(!node.hasChildNodes())return"";var excerpt=node.textContent.trim();if(""!==excerpt){var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})"));excerpt=excerpt.replace(/\s+/g," ").match(excerptRe)}return excerpt?"".concat(excerpt[1],"…"):"…"}},{key:"getExcerptFromText",value:function(text,count){if(""===text)return"";var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})")),excerpt=text.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*?)(?:(?:\||->|<-)[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(excerptRe);return excerpt?"".concat(excerpt[1],"…"):"…"}}]),Passage}()),_tagsToSkip,Save=function(){var Type=Util.toEnum({Autosave:"autosave",Disk:"disk",Serialize:"serialize",Slot:"slot"}),_slotsUBound=-1,_onLoadHandlers=new Set,_onSaveHandlers=new Set;function savesObjGet(){var saves=storage.get("saves");return null===saves?{autosave:null,slots:_appendSlots([],Config.saves.slots)}:saves}function savesObjClear(){return storage.delete("saves"),!0}function autosaveOk(){return"cookie"!==storage.name&&void 0!==Config.saves.autosave}function slotsOk(){return"cookie"!==storage.name&&-1!==_slotsUBound}function slotsCount(){if(!slotsOk())return 0;for(var saves=savesObjGet(),count=0,i=0,iend=saves.slots.length;i<iend;++i)null!==saves.slots[i]&&++count;return count}function _appendSlots(array,num){for(var i=0;i<num;++i)array.push(null);return array}function _savesObjIsEmpty(saves){for(var slots=saves.slots,isSlotsEmpty=!0,i=0,iend=slots.length;i<iend;++i)if(null!==slots[i]){isSlotsEmpty=!1;break}return null===saves.autosave&&isSlotsEmpty}function _savesObjSave(saves){return _savesObjIsEmpty(saves)?(storage.delete("saves"),!0):storage.set("saves",saves)}function _savesObjUpdate(saveObj){if(null==saveObj||"object"!==_typeof(saveObj))return!1;var updated=!1;return saveObj.hasOwnProperty("state")&&saveObj.state.hasOwnProperty("delta")&&saveObj.state.hasOwnProperty("index")||(saveObj.hasOwnProperty("data")?(delete saveObj.mode,saveObj.state={delta:State.deltaEncode(saveObj.data)},delete saveObj.data):saveObj.state.hasOwnProperty("delta")?saveObj.state.hasOwnProperty("index")||delete saveObj.state.mode:(delete saveObj.state.mode,saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history),saveObj.state.index=saveObj.state.delta.length-1,updated=!0),saveObj.state.hasOwnProperty("rseed")&&(saveObj.state.seed=saveObj.state.rseed,delete saveObj.state.rseed,saveObj.state.delta.forEach((function(_,i,delta){delta[i].hasOwnProperty("rcount")&&(delta[i].pull=delta[i].rcount,delete delta[i].rcount)})),updated=!0),(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired||saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired&&delete saveObj.state.expired,(saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.expired=[],saveObj.state.hasOwnProperty("unique")&&(saveObj.state.expired.push(saveObj.state.unique),delete saveObj.state.unique),saveObj.state.hasOwnProperty("last")&&(saveObj.state.expired.push(saveObj.state.last),delete saveObj.state.last)),updated=!0),updated}function _marshal(supplemental,details){if(null!=supplemental&&"object"!==_typeof(supplemental))throw new Error("supplemental parameter must be an object");var saveObj=Object.assign({},supplemental,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(saveObj.version=Config.saves.version),_onSaveHandlers.forEach((function(fn){return fn(saveObj,details)})),saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history,saveObj}function _unmarshal(saveObj){try{if(_savesObjUpdate(saveObj),!saveObj||!saveObj.hasOwnProperty("id")||!saveObj.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(saveObj.state.history=State.deltaDecode(saveObj.state.delta),delete saveObj.state.delta,_onLoadHandlers.forEach((function(fn){return fn(saveObj)})),saveObj.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(saveObj.state),Engine.show()}catch(ex){return UI.alert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("aborting"),".")),!1}return!0}return Object.freeze(Object.defineProperties({},{init:{value:function(){if("cookie"===storage.name)return savesObjClear(),Config.saves.autoload=undefined,Config.saves.autosave=undefined,Config.saves.slots=0,!1;var saves=savesObjGet(),updated=!1;Array.isArray(saves)&&(saves={autosave:null,slots:saves},updated=!0),Config.saves.slots!==saves.slots.length&&(Config.saves.slots<saves.slots.length?(saves.slots.reverse(),saves.slots=saves.slots.filter((function(val){return!(null===val&&this.count>0)||(--this.count,!1)}),{count:saves.slots.length-Config.saves.slots}),saves.slots.reverse()):Config.saves.slots>saves.slots.length&&_appendSlots(saves.slots,Config.saves.slots-saves.slots.length),updated=!0),_savesObjUpdate(saves.autosave)&&(updated=!0);for(var i=0;i<saves.slots.length;++i)_savesObjUpdate(saves.slots[i])&&(updated=!0);return _savesObjIsEmpty(saves)&&(storage.delete("saves"),updated=!1),updated&&_savesObjSave(saves),_slotsUBound=saves.slots.length-1,!0}},get:{value:savesObjGet},clear:{value:savesObjClear},ok:{value:function(){return autosaveOk()||slotsOk()}},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:autosaveOk},has:{value:function(){return null!==savesObjGet().autosave}},get:{value:function(){return savesObjGet().autosave}},load:{value:function(){var saves=savesObjGet();return null!==saves.autosave&&_unmarshal(saves.autosave)}},save:{value:function(title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var saves=savesObjGet(),supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.autosave=_marshal(supplemental,{type:Type.Autosave}),_savesObjSave(saves)}},delete:{value:function(){var saves=savesObjGet();return saves.autosave=null,_savesObjSave(saves)}}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:slotsOk},length:{get:function(){return _slotsUBound+1}},isEmpty:{value:function(){return 0===slotsCount()}},count:{value:slotsCount},has:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])}},get:{value:function(slot){if(slot<0||slot>_slotsUBound)return null;var saves=savesObjGet();return slot>=saves.slots.length?null:saves.slots[slot]}},load:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])&&_unmarshal(saves.slots[slot])}},save:{value:function(slot,title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),!1;if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();if(slot>=saves.slots.length)return!1;var supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.slots[slot]=_marshal(supplemental,{type:Type.Slot}),_savesObjSave(saves)}},delete:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length)&&(saves.slots[slot]=null,_savesObjSave(saves))}}}))},export:{value:function(filename,metadata){if("function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed()){var str,now,MM,DD,hh,mm,ss,baseName=null==filename?Story.domId:(str=filename,Util.sanitizeFilename(str).replace(/[_\s\u2013\u2014-]+/g,"-")),saveName="".concat(baseName,"-").concat((now=new Date,MM=now.getMonth()+1,DD=now.getDate(),hh=now.getHours(),mm=now.getMinutes(),ss=now.getSeconds(),MM<10&&(MM="0".concat(MM)),DD<10&&(DD="0".concat(DD)),hh<10&&(hh="0".concat(hh)),mm<10&&(mm="0".concat(mm)),ss<10&&(ss="0".concat(ss)),"".concat(now.getFullYear()).concat(MM).concat(DD,"-").concat(hh).concat(mm).concat(ss)),".save"),supplemental=null==metadata?{}:{metadata:metadata},saveObj=LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Disk})));saveAs(new Blob([saveObj],{type:"text/plain;charset=UTF-8"}),saveName)}else Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed"))}},import:{value:function(event){var file=event.target.files[0],reader=new FileReader;jQuery(reader).one("loadend",(function(){if(reader.error){var ex=reader.error;UI.alert("".concat(L10n.get("errorSaveDiskLoadFailed").toUpperFirst()," (").concat(ex.name,": ").concat(ex.message,").</p><p>").concat(L10n.get("aborting"),"."))}else{var saveObj;try{saveObj=JSON.parse(/\.json$/i.test(file.name)||/^\{/.test(reader.result)?reader.result:LZString.decompressFromBase64(reader.result))}catch(ex){}_unmarshal(saveObj)}})),reader.readAsText(file)}},serialize:{value:function(metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),null;var supplemental=null==metadata?{}:{metadata:metadata};return LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Serialize})))}},deserialize:{value:function(base64Str){var saveObj;try{saveObj=JSON.parse(LZString.decompressFromBase64(base64Str))}catch(ex){}return _unmarshal(saveObj)?saveObj.metadata:null}},onLoad:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onLoad.add handler parameter must be a function (received: ".concat(valueType,")"));_onLoadHandlers.add(handler)}},clear:{value:function(){_onLoadHandlers.clear()}},delete:{value:function(handler){return _onLoadHandlers.delete(handler)}},size:{get:function(){return _onLoadHandlers.size}}}))},onSave:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onSave.add handler parameter must be a function (received: ".concat(valueType,")"));_onSaveHandlers.add(handler)}},clear:{value:function(){_onSaveHandlers.clear()}},delete:{value:function(handler){return _onSaveHandlers.delete(handler)}},size:{get:function(){return _onSaveHandlers.size}}}))}}))}(),Setting=function(){var Types=Util.toEnum({Header:0,Toggle:1,List:2,Range:3}),_definitions=[];function settingsCreate(){return Object.create(null)}function settingsSave(){var savedSettings=settingsCreate();return Object.keys(settings).length>0&&_definitions.filter((function(def){return def.type!==Types.Header&&settings[def.name]!==def.default})).forEach((function(def){return savedSettings[def.name]=settings[def.name]})),0===Object.keys(savedSettings).length?(storage.delete("settings"),!0):storage.set("settings",savedSettings)}function settingsLoad(){var defaultSettings=settingsCreate(),loadedSettings=storage.get("settings")||settingsCreate();_definitions.filter((function(def){return def.type!==Types.Header})).forEach((function(def){return defaultSettings[def.name]=def.default})),window.SugarCube.settings=settings=Object.assign(defaultSettings,loadedSettings)}function settingsClear(){return window.SugarCube.settings=settings=settingsCreate(),storage.delete("settings"),!0}function definitionsAdd(type,name,def){if(arguments.length<3){var errors=[];throw arguments.length<1&&errors.push("type"),arguments.length<2&&errors.push("name"),arguments.length<3&&errors.push("definition"),new Error("missing parameters, no ".concat(errors.join(" or ")," specified"))}if("object"!==_typeof(def))throw new TypeError("definition parameter must be an object");if(definitionsHas(name))throw new Error('cannot clobber existing setting "'.concat(name,'"'));var str,pos,definition={type:type,name:name,label:"string"==typeof def.label?def.label.trim():""};if("string"==typeof def.desc){var desc=def.desc.trim();""!==desc&&(definition.desc=desc)}switch(type){case Types.Header:break;case Types.Toggle:definition.default=!!def.default;break;case Types.List:if(!def.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(def.list))throw new TypeError("list must be an array");if(0===def.list.length)throw new Error("list must not be empty");if(definition.list=Object.freeze(def.list),null==def.default)definition.default=def.list[0];else{var defaultIndex=def.list.indexOf(def.default);if(-1===defaultIndex)throw new Error("list does not contain default");definition.default=def.list[defaultIndex]}break;case Types.Range:if(!def.hasOwnProperty("min"))throw new Error("no min specified");if("number"!=typeof def.min||Number.isNaN(def.min)||!Number.isFinite(def.min))throw new TypeError("min must be a finite number");if(!def.hasOwnProperty("max"))throw new Error("no max specified");if("number"!=typeof def.max||Number.isNaN(def.max)||!Number.isFinite(def.max))throw new TypeError("max must be a finite number");if(!def.hasOwnProperty("step"))throw new Error("no step specified");if("number"!=typeof def.step||Number.isNaN(def.step)||!Number.isFinite(def.step)||def.step<=0)throw new TypeError("step must be a finite number greater than zero");var stepValidate=function(value){if(fracDigits>0){var ma=Number("".concat(def.min,"e").concat(fracDigits)),sa=Number("".concat(def.step,"e").concat(fracDigits)),_va=Number("".concat(value,"e").concat(fracDigits))-ma;return Number("".concat(_va-_va%sa+ma,"e-").concat(fracDigits))}var va=value-def.min;return va-va%def.step+def.min},fracDigits=(str=String(def.step),-1===(pos=str.lastIndexOf("."))?0:str.length-pos-1);if(stepValidate(def.max)!==def.max)throw new RangeError("max (".concat(def.max,") is not a multiple of the step (").concat(def.step,") plus the min (").concat(def.min,")"));if(definition.max=def.max,definition.min=def.min,definition.step=def.step,null==def.default)definition.default=def.max;else{if("number"!=typeof def.default||Number.isNaN(def.default)||!Number.isFinite(def.default))throw new TypeError("default must be a finite number");if(def.default<def.min)throw new RangeError("default (".concat(def.default,") is less than min (").concat(def.min,")"));if(def.default>def.max)throw new RangeError("default (".concat(def.default,") is greater than max (").concat(def.max,")"));definition.default=def.default}break;default:throw new Error("unknown Setting type: ".concat(type))}"function"==typeof def.onInit&&(definition.onInit=Object.freeze(def.onInit)),"function"==typeof def.onChange&&(definition.onChange=Object.freeze(def.onChange)),_definitions.push(Object.freeze(definition))}function definitionsHas(name){return _definitions.some((function(definition){return definition.name===name}))}function definitionsGet(name){return _definitions.find((function(definition){return definition.name===name}))}return Object.freeze(Object.defineProperties({},{Types:{value:Types},init:{value:function(){if(storage.has("options")){var old=storage.get("options");null!==old&&(window.SugarCube.settings=settings=Object.assign(settingsCreate(),old)),settingsSave(),storage.delete("options")}settingsLoad(),_definitions.forEach((function(def){if(def.hasOwnProperty("onInit")){var thisArg={name:def.name,value:settings[def.name],default:def.default};def.hasOwnProperty("list")&&(thisArg.list=def.list),def.onInit.call(thisArg)}}))}},create:{value:settingsCreate},save:{value:settingsSave},load:{value:settingsLoad},clear:{value:settingsClear},reset:{value:function(name){if(0===arguments.length)settingsClear(),settingsLoad();else{if(null==name||!definitionsHas(name))throw new Error('nonexistent setting "'.concat(name,'"'));var def=definitionsGet(name);def.type!==Types.Header&&(settings[name]=def.default)}return settingsSave()}},forEach:{value:function(callback,thisArg){_definitions.forEach(callback,thisArg)}},add:{value:definitionsAdd},addHeader:{value:function(name,desc){definitionsAdd(Types.Header,name,{desc:desc})}},addToggle:{value:function(){for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];definitionsAdd.apply(void 0,[Types.Toggle].concat(args))}},addList:{value:function(){for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];definitionsAdd.apply(void 0,[Types.List].concat(args))}},addRange:{value:function(){for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];definitionsAdd.apply(void 0,[Types.Range].concat(args))}},isEmpty:{value:function(){return 0===_definitions.length}},has:{value:definitionsHas},get:{value:definitionsGet},delete:{value:function definitionsDelete(name){definitionsHas(name)&&delete settings[name];for(var i=0;i<_definitions.length;++i)if(_definitions[i].name===name){_definitions.splice(i,1),definitionsDelete(name);break}}}}))}(),Story=function(){var _passages={},_inits=[],_scripts=[],_styles=[],_widgets=[],_title="",_ifId="",_domId="";function _storySetTitle(rawTitle){if(null==rawTitle)throw new Error("story title must not be null or undefined");var title=Util.unescape(String(rawTitle)).trim();if(""===title)throw new Error("story title must not be empty or consist solely of whitespace");if(document.title=_title=title,""===(_domId=Util.slugify(_title)))if(""!==_ifId)_domId=_ifId;else for(var i=0,len=_title.length;i<len;++i){var _Util$charAndPosAt2=Util.charAndPosAt(_title,i),char=_Util$charAndPosAt2.char,start=_Util$charAndPosAt2.start,end=_Util$charAndPosAt2.end;_domId+=char.codePointAt(0).toString(16),i+=end-start}}return Object.freeze(Object.defineProperties({},{load:{value:function(){var validationCodeTags=["init","widget"],validationNoCodeTagPassages=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryInit","StoryMenu","StoryShare","StorySubtitle"];function validateStartingPassage(passage){if(passage.tags.includesAny(validationCodeTags))throw new Error('starting passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(passage.tags.filter((function(tag){return validationCodeTags.includes(tag)})).sort().join('", "'),'"'))}function validateSpecialPassages(passage){if(validationNoCodeTagPassages.includes(passage.title)){for(var _len19=arguments.length,tags=new Array(_len19>1?_len19-1:0),_key19=1;_key19<_len19;_key19++)tags[_key19-1]=arguments[_key19];throw new Error('special passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(tags.sort().join('", "'),'"'))}var codeTags=[].concat(validationCodeTags),foundTags=[];if(passage.tags.forEach((function(tag){codeTags.includes(tag)&&foundTags.push.apply(foundTags,_toConsumableArray(codeTags.delete(tag)))})),foundTags.length>1)throw new Error('passage "'.concat(passage.title,'" contains multiple special tags; invalid: "').concat(foundTags.sort().join('", "'),'"'))}var $storydata=jQuery("tw-storydata"),startNode=$storydata.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test($storydata.attr("options")),$storydata.children("style").each((function(i){_styles.push(new Passage("tw-user-style-".concat(i),this))})),$storydata.children("script").each((function(i){_scripts.push(new Passage("tw-user-script-".concat(i),this))})),$storydata.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each((function(){var $this=jQuery(this),pid=$this.attr("pid")||"",passage=new Passage($this.attr("name"),this);pid===startNode&&""!==startNode?(Config.passages.start=passage.title,validateStartingPassage(passage),_passages[passage.title]=passage):passage.tags.includes("init")?(validateSpecialPassages(passage,"init"),_inits.push(passage)):passage.tags.includes("widget")?(validateSpecialPassages(passage,"widget"),_widgets.push(passage)):_passages[passage.title]=passage})),_ifId=$storydata.attr("ifid"),_storySetTitle("Meeting the Parents V2"),Config.saves.id=Story.domId}},init:{value:function(){var storyStyle;storyStyle=document.createElement("style"),new StyleWrapper(storyStyle).add(_styles.map((function(style){return style.text.trim()})).join("\n")),jQuery(storyStyle).appendTo(document.head).attr({id:"style-story",type:"text/css"});for(var i=0;i<_scripts.length;++i)try{Scripting.evalJavaScript(_scripts[i].text)}catch(ex){console.error(ex),Alert.error(_scripts[i].title,"object"===_typeof(ex)?ex.message:ex)}for(var _i8=0;_i8<_widgets.length;++_i8)try{Wikifier.wikifyEval(_widgets[_i8].processText())}catch(ex){console.error(ex),Alert.error(_widgets[_i8].title,"object"===_typeof(ex)?ex.message:ex)}}},title:{get:function(){return _title}},domId:{get:function(){return _domId}},ifId:{get:function(){return _ifId}},add:{value:function(passage){if(!(passage instanceof Passage))throw new TypeError("Story.add passage parameter must be an instance of Passage");var title=passage.title;return!_passages.hasOwnProperty(title)&&(_passages[title]=passage,!0)}},has:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":return _passages.hasOwnProperty(String(title));case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.has title parameter cannot be ".concat(type))}},get:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":var id=String(title);return _passages.hasOwnProperty(id)?_passages[id]:new Passage(id||"(unknown)");case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.get title parameter cannot be ".concat(type))}},getAllInit:{value:function(){return Object.freeze(Array.from(_inits))}},getAllRegular:{value:function(){return Object.freeze(Object.assign({},_passages))}},getAllScript:{value:function(){return Object.freeze(Array.from(_scripts))}},getAllStylesheet:{value:function(){return Object.freeze(Array.from(_styles))}},getAllWidget:{value:function(){return Object.freeze(Array.from(_widgets))}},lookup:{value:function(key,value){var sortKey=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"title",results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];"object"===_typeof(passage[key])&&null!==passage[key]?passage[key]instanceof Array&&passage[key].some((function(m){return Util.sameValueZero(m,value)}))&&results.push(passage):Util.sameValueZero(passage[key],value)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}},lookupWith:{value:function(predicate){var sortKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof predicate)throw new TypeError("Story.lookupWith predicate parameter must be a function");var results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];predicate(passage)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}}}))}(),UI=function(){function uiAssembleLinkList(passage,listEl){var list=listEl,debugState=Config.debug,cleanState=Config.cleanupWikifierOutput;Config.debug=!1,Config.cleanupWikifierOutput=!1;try{null==list&&(list=document.createElement("ul"));var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim());var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "));for(;frag.hasChildNodes();){var node=frag.firstChild;if(node.nodeType===Node.ELEMENT_NODE&&"A"===node.nodeName.toUpperCase()){var li=document.createElement("li");list.appendChild(li),li.appendChild(node)}else frag.removeChild(node)}}finally{Config.cleanupWikifierOutput=cleanState,Config.debug=debugState}return list}function uiOpenAlert(message){jQuery(Dialog.setup(L10n.get("alertTitle"),"alert")).append("<p>".concat(message,'</p><ul class="buttons">')+'<li><button id="alert-ok" class="ui-close">'.concat(L10n.get(["alertOk","ok"]),"</button></li>")+"</ul>");for(var _len20=arguments.length,args=new Array(_len20>1?_len20-1:0),_key20=1;_key20<_len20;_key20++)args[_key20-1]=arguments[_key20];Dialog.open.apply(Dialog,args)}function uiBuildAutoload(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>".concat(L10n.get("autoloadPrompt"),'</p><ul class="buttons">')+'<li><button id="autoload-ok" class="ui-close">'.concat(L10n.get(["autoloadOk","ok"]),"</button></li>")+'<li><button id="autoload-cancel" class="ui-close">'.concat(L10n.get(["autoloadCancel","cancel"]),"</button></li>")+"</ul>"),jQuery(document).one("click.autoload",".ui-close",(function(ev){var isAutoloadOk="autoload-ok"===ev.target.id;jQuery(document).one(":dialogclosed",(function(){isAutoloadOk&&Save.autosave.load()||Engine.play(Config.passages.start)}))})),!0}function uiBuildJumpto(){var list=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(list);for(var expired=State.expired.length,i=State.size-1;i>=0;--i)if(i!==State.activeIndex){var passage=Story.get(State.history[i].title);passage&&passage.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(idx){return function(){return jQuery(document).one(":dialogclosed",(function(){return Engine.goTo(idx)}))}}(i)).addClass("ui-close").text("".concat(L10n.get("jumptoTurn")," ").concat(expired+i+1,": ").concat(passage.description()))).appendTo(list)}list.hasChildNodes()||jQuery(list).append("<li><a><em>".concat(L10n.get("jumptoUnavailable"),"</em></a></li>"))}function uiBuildRestart(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>".concat(L10n.get("restartPrompt"),'</p><ul class="buttons">')+'<li><button id="restart-ok">'.concat(L10n.get(["restartOk","ok"]),"</button></li>")+'<li><button id="restart-cancel" class="ui-close">'.concat(L10n.get(["restartCancel","cancel"]),"</button></li>")+"</ul>").find("#restart-ok").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){return Engine.restart()})),Dialog.close()})),!0}function uiBuildSaves(){var savesAllowed="function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed();function createActionItem(bId,bClass,bText,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId)).html(bText);return bClass&&$btn.addClass(bClass),bAction?$btn.ariaClick(bAction):$btn.ariaDisabled(!0),jQuery(document.createElement("li")).append($btn)}var $dialogBody=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),savesOk=Save.ok(),fileOk=Has.fileAPI&&(Config.saves.tryDiskOnMobile||!Browser.isMobile.any());if(savesOk&&$dialogBody.append(function(){function createButton(bId,bClass,bText,bSlot,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId,"-").concat(bSlot)).addClass(bId).html(bText);return bClass&&$btn.addClass(bClass),bAction?"auto"===bSlot?$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelAuto"))},(function(){return bAction()})):$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelSlot")," ").concat(bSlot+1)},(function(){return bAction(bSlot)})):$btn.ariaDisabled(!0),$btn}var saves=Save.get(),$tbody=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var $tdSlot=jQuery(document.createElement("td")),$tdLoad=jQuery(document.createElement("td")),$tdDesc=jQuery(document.createElement("td")),$tdDele=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo($tdSlot),saves.autosave?($tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),"auto",(function(){jQuery(document).one(":dialogclosed",(function(){return Save.autosave.load()}))}))),jQuery(document.createElement("div")).text(saves.autosave.title).appendTo($tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.autosave.date?"".concat(new Date(saves.autosave.date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo($tdDesc),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto",(function(){Save.autosave.delete(),uiBuildSaves()})))):($tdLoad.append(createButton("load",null,L10n.get("savesLabelLoad"),"auto")),$tdDesc.addClass("empty").text("•  •  •"),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append($tdSlot).append($tdLoad).append($tdDesc).append($tdDele).appendTo($tbody)}for(var i=0,iend=saves.slots.length;i<iend;++i){var _$tdSlot=jQuery(document.createElement("td")),_$tdLoad=jQuery(document.createElement("td")),_$tdDesc=jQuery(document.createElement("td")),_$tdDele=jQuery(document.createElement("td"));_$tdSlot.append(document.createTextNode(i+1)),saves.slots[i]?(_$tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),i,(function(slot){jQuery(document).one(":dialogclosed",(function(){return Save.slots.load(slot)}))}))),jQuery(document.createElement("div")).text(saves.slots[i].title).appendTo(_$tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.slots[i].date?"".concat(new Date(saves.slots[i].date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo(_$tdDesc),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i,(function(slot){Save.slots.delete(slot),uiBuildSaves()})))):(_$tdLoad.append(createButton("save","ui-close",L10n.get("savesLabelSave"),i,savesAllowed?Save.slots.save:null)),_$tdDesc.addClass("empty").text("•  •  •"),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i))),jQuery(document.createElement("tr")).append(_$tdSlot).append(_$tdLoad).append(_$tdDesc).append(_$tdDele).appendTo($tbody)}return jQuery(document.createElement("table")).attr("id","saves-list").append($tbody)}()),savesOk||fileOk){var $btnBar=jQuery(document.createElement("ul")).addClass("buttons").appendTo($dialogBody);return fileOk&&($btnBar.append(createActionItem("export","ui-close",L10n.get("savesLabelExport"),savesAllowed?function(){return Save.export()}:null)),$btnBar.append(createActionItem("import",null,L10n.get("savesLabelImport"),(function(){return $dialogBody.find("#saves-import-file").trigger("click")}))),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",(function(ev){jQuery(document).one(":dialogclosed",(function(){return Save.import(ev)})),Dialog.close()})).appendTo($dialogBody)),savesOk&&$btnBar.append(createActionItem("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){Save.clear(),uiBuildSaves()}:null)),!0}return uiOpenAlert(L10n.get("savesIncapable")),!1}function uiBuildSettings(){var $dialogBody=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach((function(control){if(control.type===Setting.Types.Header){var _name=control.name,_id=Util.slugify(_name),$header=jQuery(document.createElement("div")),$heading=jQuery(document.createElement("h2"));return $header.attr("id","header-body-".concat(_id)).append($heading).appendTo($dialogBody),$heading.attr("id","header-heading-".concat(_id)).wiki(_name),void(control.desc&&jQuery(document.createElement("p")).attr("id","header-desc-".concat(_id)).wiki(control.desc).appendTo($header))}var $control,name=control.name,id=Util.slugify(name),$setting=jQuery(document.createElement("div")),$label=jQuery(document.createElement("label")),$controlBox=jQuery(document.createElement("div"));switch(jQuery(document.createElement("div")).append($label).append($controlBox).appendTo($setting),control.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-".concat(id)).wiki(control.desc).appendTo($setting),$label.attr({id:"setting-label-".concat(id),for:"setting-control-".concat(id)}).wiki(control.label),null==settings[name]&&(settings[name]=control.default),control.type){case Setting.Types.Toggle:$control=jQuery(document.createElement("button")),settings[name]?$control.addClass("enabled").text(L10n.get("settingsOn")):$control.text(L10n.get("settingsOff")),$control.ariaClick((function(){settings[name]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[name]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[name]=!0),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default})}));break;case Setting.Types.List:$control=jQuery(document.createElement("select"));for(var i=0,iend=control.list.length;i<iend;++i)jQuery(document.createElement("option")).val(i).text(control.list[i]).appendTo($control);$control.val(control.list.indexOf(settings[name])).attr("tabindex",0).on("change",(function(){settings[name]=control.list[Number(this.value)],Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,list:control.list})}));break;case Setting.Types.Range:($control=jQuery(document.createElement("input"))).attr({type:"range",min:control.min,max:control.max,step:control.step,value:settings[name],tabindex:0}).on("change input",(function(){settings[name]=Number(this.value),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,min:control.min,max:control.max,step:control.step})})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$control.trigger("change"))}))}$control.attr("id","setting-control-".concat(id)).appendTo($controlBox),$setting.attr("id","setting-body-".concat(id)).appendTo($dialogBody)})),$dialogBody.append('<ul class="buttons">'+'<li><button id="settings-ok" class="ui-close">'.concat(L10n.get(["settingsOk","ok"]),"</button></li>")+'<li><button id="settings-reset">'.concat(L10n.get("settingsReset"),"</button></li>")+"</ul>").find("#settings-reset").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){Setting.reset(),window.location.reload()})),Dialog.close()})),!0}function uiBuildShare(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(uiAssembleLinkList("StoryShare"))}catch(ex){return console.error(ex),Alert.error("StoryShare",ex.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:uiAssembleLinkList},alert:{value:uiOpenAlert},jumpto:{value:function(){uiBuildJumpto(),Dialog.open.apply(Dialog,arguments)}},restart:{value:function(){uiBuildRestart(),Dialog.open.apply(Dialog,arguments)}},saves:{value:function(){uiBuildSaves(),Dialog.open.apply(Dialog,arguments)}},settings:{value:function(){uiBuildSettings(),Dialog.open.apply(Dialog,arguments)}},share:{value:function(){uiBuildShare(),Dialog.open.apply(Dialog,arguments)}},buildAutoload:{value:uiBuildAutoload},buildJumpto:{value:uiBuildJumpto},buildRestart:{value:uiBuildRestart},buildSaves:{value:uiBuildSaves},buildSettings:{value:uiBuildSettings},buildShare:{value:uiBuildShare},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.update()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:uiBuildAutoload},buildDialogJumpto:{value:uiBuildJumpto},buildDialogRestart:{value:uiBuildRestart},buildDialogSaves:{value:uiBuildSaves},buildDialogSettings:{value:uiBuildSettings},buildDialogShare:{value:uiBuildShare},buildLinkListFromPassage:{value:uiAssembleLinkList}}))}(),UIBar=function(){var _$uiBar=null;function uiBarStow(noAnimation){var $story;_$uiBar&&!_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.addClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay));return this}function uiBarUpdate(){if(Story.has("StoryDisplayTitle")&&setDisplayTitle(Story.get("StoryDisplayTitle").processText()),_$uiBar){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var menuStory=document.getElementById("menu-story");if(null!==menuStory&&(jQuery(menuStory).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",menuStory)}catch(ex){console.error(ex),Alert.error("StoryMenu",ex.message)}}}return Object.freeze(Object.defineProperties({},{destroy:{value:function(){_$uiBar&&(_$uiBar.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),_$uiBar.remove(),_$uiBar=null)}},hide:{value:function(){return _$uiBar&&_$uiBar.hide(),this}},init:{value:function(){if(!document.getElementById("ui-bar")){var toggleLabel,backwardLabel,jumptoLabel,forwardLabel,$backward,$forward,$elems=(toggleLabel=L10n.get("uiBarToggle"),backwardLabel=L10n.get("uiBarBackward"),jumptoLabel=L10n.get("uiBarJumpto"),forwardLabel=L10n.get("uiBarForward"),jQuery(document.createDocumentFragment()).append('<div id="ui-bar" aria-live="polite"><div id="ui-bar-tray">'+'<button id="ui-bar-toggle" tabindex="0" title="'.concat(toggleLabel,'" aria-label="').concat(toggleLabel,'"></button>')+'<div id="ui-bar-history">'+'<button id="history-backward" tabindex="0" title="'.concat(backwardLabel,'" aria-label="').concat(backwardLabel,'"></button>')+'<button id="history-jumpto" tabindex="0" title="'.concat(jumptoLabel,'" aria-label="').concat(jumptoLabel,'"></button>')+'<button id="history-forward" tabindex="0" title="'.concat(forwardLabel,'" aria-label="').concat(forwardLabel,'"></button>')+'</div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core">'+'<li id="menu-item-saves"><a tabindex="0">'.concat(L10n.get("savesTitle"),"</a></li>")+'<li id="menu-item-settings"><a tabindex="0">'.concat(L10n.get("settingsTitle"),"</a></li>")+'<li id="menu-item-restart"><a tabindex="0">'.concat(L10n.get("restartTitle"),"</a></li>")+'<li id="menu-item-share"><a tabindex="0">'.concat(L10n.get("shareTitle"),"</a></li>")+"</ul></nav></div></div>"));_$uiBar=jQuery($elems.find("#ui-bar").get(0)),$elems.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate.ui-bar",($backward=jQuery("#history-backward"),$forward=jQuery("#history-forward"),function(){$backward.ariaDisabled(State.length<2),$forward.ariaDisabled(State.length===State.size)}))}}},isHidden:{value:function(){return _$uiBar&&"none"===_$uiBar.css("display")}},isStowed:{value:function(){return _$uiBar&&_$uiBar.hasClass("stowed")}},show:{value:function(){return _$uiBar&&_$uiBar.show(),this}},start:{value:function(){_$uiBar&&(("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&uiBarStow(!0),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},(function(){return _$uiBar.toggleClass("stowed")})),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarBackward")},(function(){return Engine.backward()})),Story.lookup("tags","bookmark").length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},(function(){return UI.jumpto()})):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},(function(){return Engine.forward()}))):jQuery("#ui-bar-history").remove(),Story.has("StoryDisplayTitle")?setDisplayTitle(Story.get("StoryDisplayTitle").processText()):jQuery("#story-title").text(Story.title),Story.has("StoryCaption")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||uiBarUpdate(),jQuery("#menu-item-saves a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSaves(),Dialog.open()})).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSettings(),Dialog.open()})).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildRestart(),Dialog.open()})).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildShare(),Dialog.open()})).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove())}},stow:{value:uiBarStow},unstow:{value:function(noAnimation){var $story;return _$uiBar&&_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.removeClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay)),this}},update:{value:uiBarUpdate},setStoryElements:{value:uiBarUpdate}}))}(),DebugBar=function(){var _variableRe=new RegExp("^".concat(Patterns.variable,"$")),_numericKeyRe=/^\d+$/,_watchList=[],_$debugBar=null,_$watchBody=null,_$watchList=null,_$turnSelect=null,_stowed=!0;function debugBarStow(){_$debugBar.css("right","-".concat(_$debugBar.outerWidth(),"px")),_stowed=!0,_updateSession()}function debugBarUnstow(){_$debugBar.css("right",0),_stowed=!1,_updateSession()}function debugBarToggle(){_stowed?debugBarUnstow():debugBarStow()}function debugBarWatchAdd(varName){_variableRe.test(varName)&&(_watchList.pushUnique(varName),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession())}function debugBarWatchAddAll(){Object.keys(State.variables).map((function(name){return _watchList.pushUnique("$".concat(name))})),Object.keys(State.temporary).map((function(name){return _watchList.pushUnique("_".concat(name))})),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchClear(){for(var i=_watchList.length-1;i>=0;--i)_watchList.pop();_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDelete(varName){_watchList.delete(varName),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDisable(){_debugBarWatchDisableNoUpdate(),_updateSession()}function debugBarWatchEnable(){_debugBarWatchEnableNoUpdate(),_updateSession()}function debugBarWatchIsEnabled(){return!_$watchBody.attr("hidden")}function debugBarWatchToggle(){_$watchBody.attr("hidden")?debugBarWatchEnable():debugBarWatchDisable()}function _debugBarWatchDisableNoUpdate(){_$watchBody.attr({"aria-hidden":!0,hidden:"hidden"})}function _debugBarWatchEnableNoUpdate(){_$watchBody.removeAttr("aria-hidden hidden")}function _clearSession(){session.delete("debugState")}function _hasSession(){return session.has("debugState")}function _updateSession(){session.set("debugState",{stowed:_stowed,watchList:_watchList,watchEnabled:debugBarWatchIsEnabled(),viewsEnabled:DebugView.isEnabled()})}function _updateWatchBody(){if(0!==_watchList.length){for(var delLabel=L10n.get("debugBarDeleteWatch"),$table=jQuery(document.createElement("table")),$tbody=jQuery(document.createElement("tbody")),_loop4=function(i,len){var varName=_watchList[i],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary,$row=jQuery(document.createElement("tr")),$delBtn=jQuery(document.createElement("button")),$code=jQuery(document.createElement("code"));$delBtn.addClass("watch-delete").attr("data-name",varName).ariaClick({one:!0,label:delLabel},(function(){return debugBarWatchDelete(varName)})),$code.text(_toWatchString(store[varKey])),jQuery(document.createElement("td")).append($delBtn).appendTo($row),jQuery(document.createElement("td")).text(varName).appendTo($row),jQuery(document.createElement("td")).append($code).appendTo($row),$row.appendTo($tbody)},i=0,len=_watchList.length;i<len;++i)_loop4(i);$table.append($tbody),_$watchBody.empty().append($table)}else _$watchBody.empty().append("<div>".concat(L10n.get("debugBarNoWatches"),"</div>"))}function _updateWatchList(){var svn=Object.keys(State.variables),tvn=Object.keys(State.temporary);if(0!==svn.length||0!==tvn.length){var names=[].concat(_toConsumableArray(svn.map((function(name){return"$".concat(name)}))),_toConsumableArray(tvn.map((function(name){return"_".concat(name)})))).sort(),options=document.createDocumentFragment();names.delete(_watchList);for(var i=0,len=names.length;i<len;++i)jQuery(document.createElement("option")).val(names[i]).appendTo(options);_$watchList.empty().append(options)}else _$watchList.empty()}function _updateTurnSelect(){for(var histLen=State.size,expLen=State.expired.length,options=document.createDocumentFragment(),i=0;i<histLen;++i)jQuery(document.createElement("option")).val(i).text("".concat(expLen+i+1,". ").concat(Util.escape(State.history[i].title))).appendTo(options);_$turnSelect.empty().ariaDisabled(histLen<2).append(options).val(State.activeIndex)}function _toWatchString(value){if(null===value)return"null";switch(_typeof(value)){case"number":if(Number.isNaN(value))return"NaN";if(!Number.isFinite(value))return"Infinity";case"boolean":case"symbol":case"undefined":return String(value);case"string":return JSON.stringify(value);case"function":return"Function"}var objType=Util.toStringTag(value);if("Date"===objType)return"Date {".concat(value.toLocaleString(),"}");if("RegExp"===objType)return"RegExp ".concat(value.toString());var result=[];if(value instanceof Array||value instanceof Set){for(var list=value instanceof Array?value:Array.from(value),i=0,len=list.length;i<len;++i)result.push(list.hasOwnProperty(i)?_toWatchString(list[i]):"<empty>");return Object.keys(list).filter((function(key){return!_numericKeyRe.test(key)})).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(list[key])))})),"".concat(objType,"(").concat(list.length,") [").concat(result.join(", "),"]")}return value instanceof Map?(value.forEach((function(val,key){return result.push("".concat(_toWatchString(key)," → ").concat(_toWatchString(val)))})),"".concat(objType,"(").concat(value.size,") {").concat(result.join(", "),"}")):(Object.keys(value).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(value[key])))})),"".concat(objType," {").concat(result.join(", "),"}"))}return Object.freeze(Object.defineProperties({},{init:{value:function(){var barToggleLabel=L10n.get("debugBarToggle"),watchAddLabel=L10n.get("debugBarAddWatch"),watchAllLabel=L10n.get("debugBarWatchAll"),watchNoneLabel=L10n.get("debugBarWatchNone"),watchToggleLabel=L10n.get("debugBarWatchToggle"),viewsToggleLabel=L10n.get("debugBarViewsToggle");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch">'+"<div>".concat(L10n.get("debugBarNoWatches"),"</div>>")+"</div><div>"+'<button id="debug-bar-watch-toggle" tabindex="0" title="'.concat(watchToggleLabel,'" aria-label="').concat(watchToggleLabel,'">').concat(L10n.get("debugBarLabelWatch"),"</button>")+'<label id="debug-bar-watch-label" for="debug-bar-watch-input">'.concat(L10n.get("debugBarLabelAdd"),"</label>")+'<input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" list="debug-bar-watch-list" tabindex="0"><datalist id="debug-bar-watch-list" aria-hidden="true" hidden="hidden"></datalist>'+'<button id="debug-bar-watch-add" tabindex="0" title="'.concat(watchAddLabel,'" aria-label="').concat(watchAddLabel,'"></button>')+'<button id="debug-bar-watch-all" tabindex="0" title="'.concat(watchAllLabel,'" aria-label="').concat(watchAllLabel,'"></button>')+'<button id="debug-bar-watch-none" tabindex="0" title="'.concat(watchNoneLabel,'" aria-label="').concat(watchNoneLabel,'"></button>')+"</div><div>"+'<button id="debug-bar-views-toggle" tabindex="0" title="'.concat(viewsToggleLabel,'" aria-label="').concat(viewsToggleLabel,'">').concat(L10n.get("debugBarLabelViews"),"</button>")+'<label id="debug-bar-turn-label" for="debug-bar-turn-select">'.concat(L10n.get("debugBarLabelTurn"),"</label>")+'<select id="debug-bar-turn-select" tabindex="0"></select></div>'+'<button id="debug-bar-toggle" tabindex="0" title="'.concat(barToggleLabel,'" aria-label="').concat(barToggleLabel,'"></button>')+'</div><div id="debug-bar-hint"></div>').appendTo("body"),_$debugBar=jQuery("#debug-bar"),_$watchBody=jQuery(_$debugBar.find("#debug-bar-watch").get(0)),_$watchList=jQuery(_$debugBar.find("#debug-bar-watch-list").get(0)),_$turnSelect=jQuery(_$debugBar.find("#debug-bar-turn-select").get(0));var $barToggle=jQuery(_$debugBar.find("#debug-bar-toggle").get(0)),$watchToggle=jQuery(_$debugBar.find("#debug-bar-watch-toggle").get(0)),$watchInput=jQuery(_$debugBar.find("#debug-bar-watch-input").get(0)),$watchAdd=jQuery(_$debugBar.find("#debug-bar-watch-add").get(0)),$watchAll=jQuery(_$debugBar.find("#debug-bar-watch-all").get(0)),$watchNone=jQuery(_$debugBar.find("#debug-bar-watch-none").get(0)),$viewsToggle=jQuery(_$debugBar.find("#debug-bar-views-toggle").get(0));$barToggle.ariaClick(debugBarToggle),$watchToggle.ariaClick(debugBarWatchToggle),$watchInput.on(":addwatch",(function(){debugBarWatchAdd(this.value.trim()),this.value=""})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$watchInput.trigger(":addwatch"))})),$watchAdd.ariaClick((function(){return $watchInput.trigger(":addwatch")})),$watchAll.ariaClick(debugBarWatchAddAll),$watchNone.ariaClick(debugBarWatchClear),_$turnSelect.on("change",(function(){Engine.goTo(Number(this.value))})),$viewsToggle.ariaClick((function(){DebugView.toggle(),_updateSession()})),jQuery(document).on(":historyupdate.debug-bar",_updateTurnSelect).on(":passageend.debug-bar",(function(){_updateWatchBody(),_updateWatchList()})).on(":enginerestart.debug-bar",_clearSession),_hasSession()||DebugView.enable()}},isStowed:{value:function(){return _stowed}},start:{value:function(){(function(){if(!_hasSession())return!1;var debugState=session.get("debugState");_stowed=debugState.stowed,_watchList.push.apply(_watchList,_toConsumableArray(debugState.watchList)),debugState.watchEnabled?_debugBarWatchEnableNoUpdate():_debugBarWatchDisableNoUpdate();debugState.viewsEnabled?DebugView.enable():DebugView.disable()})(),_stowed?debugBarStow():debugBarUnstow(),_updateTurnSelect(),_updateWatchBody(),_updateWatchList()}},stow:{value:debugBarStow},toggle:{value:debugBarToggle},unstow:{value:debugBarUnstow},watch:{value:Object.freeze(Object.defineProperties({},{add:{value:debugBarWatchAdd},all:{value:debugBarWatchAddAll},clear:{value:debugBarWatchClear},delete:{value:debugBarWatchDelete},disable:{value:debugBarWatchDisable},enable:{value:debugBarWatchEnable},isEnabled:{value:debugBarWatchIsEnabled},toggle:{value:debugBarWatchToggle}}))}}))}(),LoadScreen=function(){var _locks=new Set,_autoId=0;function loadScreenHide(){jQuery(document.documentElement).removeAttr("data-init")}function loadScreenShow(){jQuery(document.documentElement).attr("data-init","loading")}return Object.freeze(Object.defineProperties({},{init:{value:function(){jQuery(document).on("readystatechange.SugarCube",(function(){_locks.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout((function(){0===_locks.size&&loadScreenHide()}),Math.max(Engine.minDomActionDelay,Config.loadDelay)):loadScreenHide()):loadScreenShow())}))}},clear:{value:function(){jQuery(document).off("readystatechange.SugarCube"),_locks.clear(),loadScreenHide()}},hide:{value:loadScreenHide},show:{value:loadScreenShow},lock:{value:function(){return++_autoId,_locks.add(_autoId),loadScreenShow(),_autoId}},unlock:{value:function(id){if(null==id)throw new Error("LoadScreen.unlock called with a null or undefined ID");_locks.has(id)&&_locks.delete(id),0===_locks.size&&jQuery(document).trigger("readystatechange")}}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:36,patch:1,prerelease:null,build:9717,date:new Date("2021-12-22T05:37:33.467Z"),extensions:{},toString:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,"+").concat(this.build)},short:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.title," (v").concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,")")},long:function(){return"".concat(this.title," v").concat(this.toString()," (").concat(this.date.toUTCString(),")")}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary;window.SugarCube={},jQuery((function(){try{var lockId=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),Config.debug&&DebugBar.init();var $window=$(window),vprCheckId=setInterval((function(){$window.width()&&(clearInterval(vprCheckId),UIBar.start(),Config.debug&&DebugBar.start(),jQuery.event.trigger({type:":storyready"}),setTimeout((function(){return LoadScreen.unlock(lockId)}),2*Engine.minDomActionDelay))}),Engine.minDomActionDelay);Object.defineProperty(window,"SugarCube",{value:Object.seal(Object.assign(Object.create(null),{Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Fullscreen:Fullscreen,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}))})}catch(ex){return console.error(ex),LoadScreen.clear(),Alert.fatal(null,ex.message,ex)}}))})(window,window.document,jQuery);}
	</script>
</body>
</html>
